"use strict";(self.webpackChunkweb_app=self.webpackChunkweb_app||[]).push([[966],{83589:function(e,n,t){t.r(n),t.d(n,{default:function(){return yn}});var r=t(72791),a=t.t(r,2),s=t(74165),i=t(15861),o=t(70885),l=t(21680),c=t(19773),d=t(24390),u=t(69963),p=t(9827),h=t(60807),f=t(56650),x=t(50228),m=t(4565),Z=t(55152),g=t(13811),v=t(68439),j=t(11210),b=t(32037),y=t(60788),w=t(40464),C=t(29823),S=t(55705),A=t(59911),k=t(39709),P=t(21176),I=t(72900),N=t(45473),T=t(52775),O=t(80184);function R(e){var n=e.open,t=e.setOpen,a=r.useRef(null),s=(0,j.K)((function(e){return e.setApp})),i=(0,r.useState)(!1),l=(0,o.Z)(i,2),c=l[0],d=l[1],u=(0,r.useState)(""),p=(0,o.Z)(u,2),h=(p[0],p[1]),f=(0,T.D)().showSnackbar,Z=(0,S.TA)({initialValues:{appName:"",appDescription:"",appGoogleId:"",defaultAccessProfileOpen:!1,defaultAccessAssetsOpen:!1,usersCanFree:!1,newUserTokenGift:0,coinsDayliBonus:0,appUrl:""},validate:function(e){var n={};return e.appName||(n.appName="Required"),n},onSubmit:function(e){var n=e.appName,r=e.appDescription,i=e.appGoogleId,o=e.defaultAccessAssetsOpen,l=e.defaultAccessProfileOpen,c=e.usersCanFree,u=e.appUrl;d(!0);var p,h=new FormData;if(a.current){var x=a.current.files;x&&(p=x[0])}p&&h.append("file",p),h.append("appName",n),h.append("appDescription",r),h.append("appGoogleId",i),h.append("defaultAccessAssetsOpen",o.toString()),h.append("defaultAccessProfileOpen",l.toString()),h.append("usersCanFree",c.toString()),h.append("appUrl",u),P.ri(h).then((function(e){s(e.data.app),t(!1)})).catch((function(e){var n,t;f("error","Cannot create the app "+((null===(n=e.response)||void 0===n||null===(t=n.data)||void 0===t?void 0:t.error)||""))})).finally((function(){return d(!1)}))}});return(0,O.jsx)(y.Z,{onClose:function(){t(!1),h("")},open:n,children:(0,O.jsxs)(x.Z,{sx:{padding:1},children:[(0,O.jsx)(g.Z,{sx:{position:"absolute",top:0,right:0},disabled:c,onClick:function(){return t(!1)},children:(0,O.jsx)(C.Z,{})}),(0,O.jsx)(w.Z,{sx:{padding:1},children:"New App"}),(0,O.jsx)(x.Z,{sx:{width:"100%",padding:1},children:(0,O.jsxs)("form",{onSubmit:Z.handleSubmit,style:{width:"100%"},children:[(0,O.jsx)(x.Z,{children:(0,O.jsx)(A.Z,{sx:{width:"100%"},error:!!Z.touched.appName&&!!Z.errors.appName,margin:"dense",label:"App Name",name:"appName",variant:"outlined",onChange:Z.handleChange,onBlur:Z.handleBlur,value:Z.values.appName})}),(0,O.jsx)(x.Z,{children:(0,O.jsx)(A.Z,{sx:{width:"100%"},margin:"dense",label:"App Url",name:"appUrl",variant:"outlined",onChange:Z.handleChange,onBlur:Z.handleBlur,value:Z.values.appUrl,error:!!Z.touched.appUrl&&!!Z.errors.appUrl})}),(0,O.jsx)(x.Z,{sx:{display:"flex",justifyContent:"space-between",mt:1},children:(0,O.jsxs)(x.Z,{sx:{display:"flex",flexDirection:"column"},children:[(0,O.jsxs)(x.Z,{children:[(0,O.jsx)(m.Z,{sx:{fontWeight:"bold",fontSize:14},children:"Default Permissions"}),(0,O.jsx)(m.Z,{sx:{fontSize:10},children:"These are the default permissions to be applied to all Users created in your App. Keep the recommended settings if you are not sure and you can come back to this later."})]}),(0,O.jsxs)(x.Z,{children:[(0,O.jsx)(I.Z,{checked:Z.values.defaultAccessProfileOpen,name:"defaultAccessProfileOpen",control:(0,O.jsx)(N.Z,{onChange:function(e){return Z.setFieldValue("defaultAccessProfileOpen",e.target.checked)}}),label:(0,O.jsx)(m.Z,{sx:{fontWeight:"bold",fontSize:14},children:'Profiles Open ("defaultAccessProfileOpen")'}),labelPlacement:"end",onChange:Z.handleChange}),(0,O.jsx)(m.Z,{sx:{fontSize:10},children:"If enabled, your users profiles can be viewed by any other users and automated agents who follow a correct permanent link."}),(0,O.jsx)(m.Z,{sx:{fontSize:10},children:"This is better for social discovery and social commerce but you can disable this if you prefer a tighter security."}),(0,O.jsx)(m.Z,{sx:{fontSize:10},children:"This is a default setting for all newly created users. Users will be able to change this later themselves."})]}),(0,O.jsxs)(x.Z,{children:[(0,O.jsx)(I.Z,{checked:Z.values.defaultAccessAssetsOpen,name:"defaultAccessAssetsOpen",control:(0,O.jsx)(N.Z,{onChange:function(e){return Z.setFieldValue("defaultAccessAssetsOpen",e.target.checked)}}),label:(0,O.jsx)(m.Z,{sx:{fontWeight:"bold",fontSize:14},children:'Assets Visible ("defaultAccessAssetsOpen")'}),labelPlacement:"end"}),(0,O.jsx)(m.Z,{sx:{fontSize:10},children:"If enabled, all of your users assets (such as Tokens, Documents and Data) can be viewed by any other users and automated agents who are able to read your user's profile."}),(0,O.jsx)(m.Z,{sx:{fontSize:10},children:"If disabled, your user needs to explicitly share each asset via a special link."}),(0,O.jsx)(m.Z,{sx:{fontSize:10},children:"This is a default setting for all newly created users. Users will be able to change this later themselves."})]}),(0,O.jsxs)(x.Z,{children:[(0,O.jsx)(I.Z,{checked:Z.values.usersCanFree,name:"usersCanFree",control:(0,O.jsx)(N.Z,{onChange:function(e){return Z.setFieldValue("usersCanFree",e.target.checked)}}),label:(0,O.jsx)(m.Z,{sx:{fontWeight:"bold",fontSize:14},children:'Self-Sovereignty ("usersCanFree")'}),labelPlacement:"end"}),(0,O.jsx)(m.Z,{sx:{fontSize:10},children:"If enabled, your users can take over management of their own account and make it decoupled from your App."}),(0,O.jsx)(m.Z,{sx:{fontSize:10},children:"Most business applications will prefer this switched off so that users account and wallet only works within your App."}),(0,O.jsx)(m.Z,{sx:{fontSize:10},children:"This is a default setting for all newly created users. Users will be able to change this later themselves."})]})]})}),(0,O.jsx)(k.Z,{loading:c,variant:"contained",style:{marginTop:"15px",width:"100%"},type:"submit",disabled:c,children:"Create App"})]})})]})})}var D=t(17205),L=t(77248),M=t(8440),B=t(39571),F=t(69120),z=t(33073),U=t(93026);function _(e,n,t,a,s){var i="undefined"!==typeof window&&"undefined"!==typeof window.matchMedia,l=r.useState((function(){return s&&i?t(e).matches:a?a(e).matches:n})),c=(0,o.Z)(l,2),d=c[0],u=c[1];return(0,U.Z)((function(){var n=!0;if(i){var r=t(e),a=function(){n&&u(r.matches)};return a(),r.addListener(a),function(){n=!1,r.removeListener(a)}}}),[e,t,i]),d}var W=a.useSyncExternalStore;function K(e,n,t,a){var s=r.useCallback((function(){return n}),[n]),i=r.useMemo((function(){if(null!==a){var n=a(e).matches;return function(){return n}}return s}),[s,e,a]),l=r.useMemo((function(){if(null===t)return[s,function(){return function(){}}];var n=t(e);return[function(){return n.matches},function(e){return n.addListener(e),function(){n.removeListener(e)}}]}),[s,t,e]),c=(0,o.Z)(l,2),d=c[0],u=c[1];return W(u,d,i)}function V(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},t=(0,F.Z)(),r="undefined"!==typeof window&&"undefined"!==typeof window.matchMedia,a=(0,z.Z)({name:"MuiUseMediaQuery",props:n,theme:t}),s=a.defaultMatches,i=void 0!==s&&s,o=a.matchMedia,l=void 0===o?r?window.matchMedia:null:o,c=a.ssrMatchMedia,d=void 0===c?null:c,u=a.noSsr;var p="function"===typeof e?e(t):e;p=p.replace(/^@media( ?)/m,"");var h=void 0!==W?K:_,f=h(p,i,l,d,u);return f}var E=t(74142);function G(e){var n,t=r.useState(!1),a=(0,o.Z)(t,2),s=a[0],i=a[1],l=(0,j.K)((function(e){return e.deleteApp})),c=V((0,E.Z)().breakpoints.down("md"));return(0,O.jsx)("div",{children:(0,O.jsxs)(y.Z,{fullScreen:c,open:e.open,onClose:function(){return e.setOpen(!1)},"aria-labelledby":"responsive-dialog-title",children:[(0,O.jsxs)(w.Z,{id:"responsive-dialog-title",children:["Are you sure want to remove application ",null===(n=e.app)||void 0===n?void 0:n.appName]}),(0,O.jsx)(M.Z,{children:(0,O.jsx)(B.Z,{children:"Your app clients(mobile, web) will not be able to send requests to Platform API after deleting the app"})}),(0,O.jsxs)(L.Z,{children:[(0,O.jsx)(D.Z,{disabled:s,variant:"contained",autoFocus:!0,onClick:function(){return e.setOpen(!1)},children:"Cancel"}),(0,O.jsx)(k.Z,{variant:"contained",loading:s,color:"error",onClick:function(){var n;e.app&&null!==(n=e.app)&&void 0!==n&&n._id&&(i(!0),P.P2(e.app._id).then((function(){var n;l(null===(n=e.app)||void 0===n?void 0:n._id),e.setOpen(!1)})).finally((function(){return i(!1)})))},autoFocus:!0,children:"Delete"})]})]})})}function q(e){var n=e.open,t=e.setOpen,a=e.app,s=r.useRef(null),i=(0,r.useState)(!1),l=(0,o.Z)(i,2),c=l[0],d=l[1],u=(0,j.K)((function(e){return e.updateApp})),p=(0,S.TA)({initialValues:{appName:a.appName,appDescription:a.appDescription?a.appDescription:"",appGoogleId:a.appGoogleId?a.appGoogleId:"",defaultAccessProfileOpen:a.defaultAccessProfileOpen,defaultAccessAssetsOpen:a.defaultAccessAssetsOpen,usersCanFree:a.usersCanFree},validate:function(e){var n={};return e.appName||(n.appName="Required"),n},onSubmit:function(e){var n=e.appName,r=e.appDescription,i=e.appGoogleId,o=e.defaultAccessAssetsOpen,l=e.defaultAccessProfileOpen,c=e.usersCanFree;d(!0);var p,h=new FormData;if(s.current){var f=s.current.files;f&&(p=f[0])}p&&h.append("file",p),h.append("appName",n),h.append("appDesctription",r),h.append("appGoogleId",i),h.append("defaultAccessAssetsOpen",o.toString()),h.append("defaultAccessProfileOpen",l.toString()),h.append("usersCanFree",c.toString()),P.KT(a._id,h).then((function(e){u(e.data.app),t(!1)})).finally((function(){return d(!1)}))}});return(0,O.jsx)(y.Z,{onClose:function(){return t(!1)},open:n,children:(0,O.jsxs)(x.Z,{children:[(0,O.jsxs)(w.Z,{style:{display:"flex",justifyContent:"space-between"},children:["Edit App",(0,O.jsx)(g.Z,{disabled:c,onClick:function(){return t(!1)},children:(0,O.jsx)(C.Z,{})})]}),(0,O.jsx)(x.Z,{sx:{width:"100%",typography:"body1",padding:1},children:(0,O.jsxs)("form",{onSubmit:p.handleSubmit,children:[(0,O.jsx)(x.Z,{children:(0,O.jsx)(A.Z,{error:!(!p.touched.appName||!p.errors.appName),helperText:p.touched.appName&&p.errors.appName?p.errors.appName:"",margin:"dense",label:"App Name",name:"appName",variant:"standard",onChange:p.handleChange,onBlur:p.handleBlur,value:p.values.appName})}),(0,O.jsx)(x.Z,{children:(0,O.jsx)(A.Z,{margin:"dense",label:"Google Client Id",name:"appGoogleId",variant:"standard",onChange:p.handleChange,onBlur:p.handleBlur,value:p.values.appGoogleId})}),(0,O.jsxs)(x.Z,{style:{display:"inline-flex",flexDirection:"column"},children:[(0,O.jsx)(I.Z,{checked:p.values.defaultAccessProfileOpen,name:"defaultAccessProfileOpen",control:(0,O.jsx)(N.Z,{onChange:function(e){return p.setFieldValue("defaultAccessProfileOpen",e.target.checked)}}),label:"defaultAccessProfileOpen",labelPlacement:"end",onChange:p.handleChange}),(0,O.jsx)(I.Z,{checked:p.values.defaultAccessAssetsOpen,name:"defaultAccessAssetsOpen",control:(0,O.jsx)(N.Z,{onChange:function(e){return p.setFieldValue("defaultAccessAssetsOpen",e.target.checked)}}),label:"defaultAccessAssetsOpen",labelPlacement:"end"}),(0,O.jsx)(I.Z,{checked:p.values.usersCanFree,name:"usersCanFree",control:(0,O.jsx)(N.Z,{onChange:function(e){return p.setFieldValue("usersCanFree",e.target.checked)}}),label:"usersCanFree",labelPlacement:"end"}),(0,O.jsx)("input",{ref:s,type:"file",accept:"image/*"}),(0,O.jsx)(k.Z,{loading:c,variant:"contained",style:{marginTop:"15px"},type:"submit",children:"Update App"})]})]})})]})})}function H(e){var n,t=r.useState(!1),a=(0,o.Z)(t,2),s=a[0],i=a[1],l=(0,j.K)((function(e){return e.updateApp})),c=V((0,E.Z)().breakpoints.down("md"));return(0,O.jsx)("div",{children:(0,O.jsxs)(y.Z,{fullScreen:c,open:e.open,onClose:function(){return e.setOpen(!1)},"aria-labelledby":"responsive-dialog-title",children:[(0,O.jsxs)(w.Z,{id:"responsive-dialog-title",children:["Are you sure want to rotate JWT for application ",null===(n=e.app)||void 0===n?void 0:n.appName]}),(0,O.jsx)(M.Z,{children:(0,O.jsx)(B.Z,{children:"You will need to update your app clients(mobile, web) with new App Jwt"})}),(0,O.jsxs)(L.Z,{children:[(0,O.jsx)(D.Z,{disabled:s,variant:"contained",autoFocus:!0,onClick:function(){return e.setOpen(!1)},children:"Cancel"}),(0,O.jsx)(k.Z,{variant:"contained",loading:s,color:"error",onClick:function(){var n;e.app&&null!==(n=e.app)&&void 0!==n&&n._id&&(i(!0),P.oK(e.app._id).then((function(n){l(n.data.app),e.setOpen(!1)})).finally((function(){return i(!1)})))},autoFocus:!0,children:"Rotate"})]})]})})}var J=t(1413),Y=t(54871),Q=t(81508),X=t(55137),$=function(e){var n=e.open,t=e.onClose,a=e.afterSubmit,l=(0,j.K)((function(e){return e.user})),c=(0,j.K)((function(e){return e.setUser})),d=(0,r.useState)(!1),u=(0,o.Z)(d,2),p=u[0],h=u[1],f=(0,r.useState)(!1),Z=(0,o.Z)(f,2),v=Z[0],b=Z[1],R=(0,T.D)().showSnackbar,D=(0,r.useState)(!1),L=(0,o.Z)(D,2),M=L[0],B=L[1],F=(0,r.useState)(""),z=(0,o.Z)(F,2),U=z[0],_=(z[1],(0,S.TA)({initialValues:{companyName:""},onSubmit:function(){var e=(0,i.Z)((0,s.Z)().mark((function e(n){var r;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=n.companyName,B(!0),e.prev=2,e.next=5,(0,P.jR)(r);case 5:e.sent,c((0,J.Z)((0,J.Z)({},l),{},{isAgreeWithTerms:!0})),t(),a(),e.next=15;break;case 11:e.prev=11,e.t0=e.catch(2),console.log(e.t0),R("error","Something went wrong");case 15:B(!1);case 16:case"end":return e.stop()}}),e,null,[[2,11]])})));return function(n){return e.apply(this,arguments)}}()}));return(0,O.jsxs)(y.Z,{onClose:t,maxWidth:!1,open:n,children:[(0,O.jsxs)(x.Z,{style:{width:"600px"},children:[(0,O.jsx)(g.Z,{sx:{position:"absolute",top:0,right:0},disabled:M,onClick:t,children:(0,O.jsx)(C.Z,{})}),(0,O.jsx)(w.Z,{sx:{display:"flex",justifyContent:"space-between",paddingLeft:1},children:"Entity Registration"}),(0,O.jsx)(x.Z,{sx:{width:"100%",typography:"body1",padding:1},children:(0,O.jsxs)("form",{onSubmit:_.handleSubmit,children:[(0,O.jsx)(A.Z,{margin:"dense",label:"Company Name",name:"companyName",type:"text",fullWidth:!0,inputProps:{autoComplete:"off"},variant:"standard",onChange:_.handleChange,onBlur:_.handleBlur,error:_.touched.companyName&&Boolean(_.errors.companyName),helperText:_.touched.companyName&&_.errors.companyName?_.errors.companyName:""}),(0,O.jsx)(m.Z,{sx:{fontSize:10},children:"Please add a name of your entity, such as your registered company name. If you don't have a formal entity, simply add your startup or team name. This is needed so that your Applications and assets can be assigned to a group. You will be able to change the group entity name and manage its members later ."}),(0,O.jsx)(Y.Z,{children:(0,O.jsx)(I.Z,{value:"I agree to the Terms & Conditions",control:(0,O.jsx)(N.Z,{checked:v,onChange:function(e){return b(e.target.checked)}}),label:(0,O.jsxs)("p",{children:["I agree to the"," ",(0,O.jsx)("span",{onClick:function(e){h(!0)},style:{cursor:"pointer",textDecoration:"underline"},children:"Terms & Conditions"})]}),labelPlacement:"end"})}),!!U&&(0,O.jsx)(Q.Z,{severity:"error",children:U}),(0,O.jsx)(x.Z,{sx:{margin:2,display:"flex",justifyContent:"center"},children:(0,O.jsx)(k.Z,{loading:M,variant:"contained",type:"submit",disabled:M||!v,children:"Register"})})]})})]}),(0,O.jsx)(y.Z,{onClose:function(){return h(!1)},maxWidth:!1,open:p,children:(0,O.jsx)(x.Z,{sx:{width:800},children:(0,O.jsx)(X.Z,{setTermsOpen:function(e){return h(e)},firstName:l.firstName,lastName:l.lastName,email:l.lastName,company:"company"})})})]})},ee=t(68438),ne=t(18384);function te(){var e=(0,j.K)((function(e){return e.apps})),n=(0,j.K)((function(e){return e.setApps})),t=(0,j.K)((function(e){return e.user})),a=(0,r.useState)(!1),y=(0,o.Z)(a,2),w=y[0],S=y[1],A=(0,r.useState)(!1),k=(0,o.Z)(A,2),I=k[0],N=k[1],D=(0,j.K)((function(e){return e.balance.find((function(e){return e.tokenName===ee.zl}))})),L=+(null===D||void 0===D?void 0:D.balance)>=10,M=(0,r.useState)(!1),B=(0,o.Z)(M,2),F=B[0],z=B[1],U=(0,r.useState)(!1),_=(0,o.Z)(U,2),W=_[0],K=_[1],V=(0,r.useState)(!1),E=(0,o.Z)(V,2),J=E[0],Y=E[1],Q=(0,r.useState)({_id:"",appName:"",appDescription:"",appGoogleId:"",defaultAccessProfileOpen:!1,defaultAccessAssetsOpen:!1,usersCanFree:!1}),X=(0,o.Z)(Q,2),te=X[0],re=X[1],ae=(0,T.D)().showSnackbar,se=function(){var e=(0,i.Z)((0,s.Z)().mark((function e(){var t,r;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,(0,P.C6)();case 3:t=e.sent,r=t.data.apps.filter((function(e){return!!e})),n(r),e.next=12;break;case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0),ae("error","Cannot get user apps");case 12:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}}();return(0,r.useEffect)((function(){se()}),[]),(0,O.jsxs)(u.Z,{component:f.Z,style:{margin:"0 auto"},children:[(0,O.jsxs)(x.Z,{style:{display:"flex",alignItems:"center"},children:[(0,O.jsx)(m.Z,{variant:"h6",style:{margin:"16px"},children:"Apps"}),(0,O.jsx)(Z.Z,{title:L?"":"You don't have enough coins to create the app.",children:(0,O.jsx)("span",{style:{marginLeft:"auto"},children:(0,O.jsx)(g.Z,{disabled:!L,onClick:function(){t.isAgreeWithTerms?S(!0):N(!0)},size:"large",color:"primary",children:(0,O.jsx)(v.Z,{fontSize:"large"})})})})]}),0===e.length&&(0,O.jsxs)(x.Z,{style:{display:"flex",flexDirection:"column",alignItems:"center"},children:[(0,O.jsx)(b.Z,{}),(0,O.jsx)(m.Z,{style:{marginTop:"20px",marginBottom:"20px"},children:"You have not created any apps."})]}),e.length>0&&(0,O.jsxs)(l.Z,{sx:{minWidth:650},"aria-label":"simple table",children:[(0,O.jsx)(p.Z,{children:(0,O.jsxs)(h.Z,{children:[(0,O.jsx)(d.Z,{width:200,children:"Application Name"}),(0,O.jsx)(d.Z,{align:"center",children:"Profile Open"}),(0,O.jsx)(d.Z,{align:"center",children:"Assets Visible"}),(0,O.jsx)(d.Z,{align:"center",children:"Self-Sovereignty"}),(0,O.jsx)(d.Z,{align:"center",children:"Created"}),(0,O.jsx)(d.Z,{align:"right",children:"Actions"})]})}),(0,O.jsx)(c.Z,{children:e.map((function(e){return(0,O.jsxs)(h.Z,{sx:{"&:last-child td, &:last-child th":{border:0}},children:[(0,O.jsx)(d.Z,{component:"th",scope:"row",children:e.appName}),(0,O.jsx)(d.Z,{align:"center",children:e.defaultAccessProfileOpen?(0,O.jsx)(ne.Z,{color:"success"}):(0,O.jsx)(C.Z,{color:"error"})}),(0,O.jsx)(d.Z,{align:"center",children:e.defaultAccessAssetsOpen?(0,O.jsx)(ne.Z,{color:"success"}):(0,O.jsx)(C.Z,{color:"error"})}),(0,O.jsx)(d.Z,{align:"center",children:e.usersCanFree?(0,O.jsx)(ne.Z,{color:"success"}):(0,O.jsx)(C.Z,{color:"error"})}),(0,O.jsx)(d.Z,{align:"right",children:new Date(e.createdAt).toDateString()}),(0,O.jsx)(d.Z,{align:"right",children:(0,O.jsxs)(x.Z,{style:{display:"flex",flexDirection:"column"},children:[(0,O.jsx)("a",{href:"/",onClick:function(n){n.preventDefault(),function(e){re(e),z(!0)}(e)},children:"Delete"}),(0,O.jsx)("a",{href:"data:text/json;chatset=utf-8,".concat(encodeURIComponent(JSON.stringify({appJwt:e.appToken}))),style:{display:"none"},download:"data.json",id:"app-jwt-".concat(e._id),children:"download jwt"}),(0,O.jsx)("a",{href:"/",onClick:function(n){n.preventDefault();var t=document.querySelector("#app-jwt-".concat(e._id));null===t||void 0===t||t.click()},children:"Download App JWT"}),(0,O.jsx)("a",{href:"/",onClick:function(n){n.preventDefault(),function(e){re(e),Y(!0)}(e)},children:"Rotate App Jwt"}),(0,O.jsx)("a",{href:"/",onClick:function(n){n.preventDefault(),function(e){re(e),K(!0)}(e)},children:"Edit"})]})})]},e._id)}))})]}),(0,O.jsx)(R,{open:w,setOpen:S}),(0,O.jsx)($,{onClose:function(){return N(!1)},open:I,afterSubmit:function(){return S(!0)}}),(0,O.jsx)(G,{app:te,open:F,setOpen:z}),(0,O.jsx)(H,{app:te,open:J,setOpen:Y}),W&&(0,O.jsx)(q,{app:te,open:W,setOpen:K})]})}var re,ae,se,ie,oe,le,ce,de,ue=t(20803),pe=t(81898),he=t(40508),fe=t(63381),xe=t(70324),me=t(65209),Ze=t(16992),ge=t(4942),ve=t(63366),je=t(87462),be=t(28182),ye=t(94419),we=t(20627),Ce=t(60277),Se=t(85513),Ae=t(1169),ke=t(44666),Pe=t(42806),Ie=t(91223),Ne=t(19458),Te=t(68840),Oe=["backIconButtonProps","count","getItemAriaLabel","nextIconButtonProps","onPageChange","page","rowsPerPage","showFirstButton","showLastButton"],Re=r.forwardRef((function(e,n){var t=e.backIconButtonProps,r=e.count,a=e.getItemAriaLabel,s=e.nextIconButtonProps,i=e.onPageChange,o=e.page,l=e.rowsPerPage,c=e.showFirstButton,d=e.showLastButton,u=(0,ve.Z)(e,Oe),p=(0,E.Z)();return(0,O.jsxs)("div",(0,je.Z)({ref:n},u,{children:[c&&(0,O.jsx)(g.Z,{onClick:function(e){i(e,0)},disabled:0===o,"aria-label":a("first",o),title:a("first",o),children:"rtl"===p.direction?re||(re=(0,O.jsx)(Ne.Z,{})):ae||(ae=(0,O.jsx)(Te.Z,{}))}),(0,O.jsx)(g.Z,(0,je.Z)({onClick:function(e){i(e,o-1)},disabled:0===o,color:"inherit","aria-label":a("previous",o),title:a("previous",o)},t,{children:"rtl"===p.direction?se||(se=(0,O.jsx)(Ie.Z,{})):ie||(ie=(0,O.jsx)(Pe.Z,{}))})),(0,O.jsx)(g.Z,(0,je.Z)({onClick:function(e){i(e,o+1)},disabled:-1!==r&&o>=Math.ceil(r/l)-1,color:"inherit","aria-label":a("next",o),title:a("next",o)},s,{children:"rtl"===p.direction?oe||(oe=(0,O.jsx)(Pe.Z,{})):le||(le=(0,O.jsx)(Ie.Z,{}))})),d&&(0,O.jsx)(g.Z,{onClick:function(e){i(e,Math.max(0,Math.ceil(r/l)-1))},disabled:o>=Math.ceil(r/l)-1,"aria-label":a("last",o),title:a("last",o),children:"rtl"===p.direction?ce||(ce=(0,O.jsx)(Te.Z,{})):de||(de=(0,O.jsx)(Ne.Z,{}))})]}))})),De=t(51853),Le=t(75878),Me=t(21217);function Be(e){return(0,Me.Z)("MuiTablePagination",e)}var Fe,ze=(0,Le.Z)("MuiTablePagination",["root","toolbar","spacer","selectLabel","selectRoot","select","selectIcon","input","menuItem","displayedRows","actions"]),Ue=["ActionsComponent","backIconButtonProps","className","colSpan","component","count","getItemAriaLabel","labelDisplayedRows","labelRowsPerPage","nextIconButtonProps","onPageChange","onRowsPerPageChange","page","rowsPerPage","rowsPerPageOptions","SelectProps","showFirstButton","showLastButton"],_e=(0,Ce.ZP)(d.Z,{name:"MuiTablePagination",slot:"Root",overridesResolver:function(e,n){return n.root}})((function(e){var n=e.theme;return{overflow:"auto",color:(n.vars||n).palette.text.primary,fontSize:n.typography.pxToRem(14),"&:last-child":{padding:0}}})),We=(0,Ce.ZP)(ke.Z,{name:"MuiTablePagination",slot:"Toolbar",overridesResolver:function(e,n){return(0,je.Z)((0,ge.Z)({},"& .".concat(ze.actions),n.actions),n.toolbar)}})((function(e){var n,t=e.theme;return n={minHeight:52,paddingRight:2},(0,ge.Z)(n,"".concat(t.breakpoints.up("xs")," and (orientation: landscape)"),{minHeight:52}),(0,ge.Z)(n,t.breakpoints.up("sm"),{minHeight:52,paddingRight:2}),(0,ge.Z)(n,"& .".concat(ze.actions),{flexShrink:0,marginLeft:20}),n})),Ke=(0,Ce.ZP)("div",{name:"MuiTablePagination",slot:"Spacer",overridesResolver:function(e,n){return n.spacer}})({flex:"1 1 100%"}),Ve=(0,Ce.ZP)("p",{name:"MuiTablePagination",slot:"SelectLabel",overridesResolver:function(e,n){return n.selectLabel}})((function(e){var n=e.theme;return(0,je.Z)({},n.typography.body2,{flexShrink:0})})),Ee=(0,Ce.ZP)(fe.Z,{name:"MuiTablePagination",slot:"Select",overridesResolver:function(e,n){var t;return(0,je.Z)((t={},(0,ge.Z)(t,"& .".concat(ze.selectIcon),n.selectIcon),(0,ge.Z)(t,"& .".concat(ze.select),n.select),t),n.input,n.selectRoot)}})((0,ge.Z)({color:"inherit",fontSize:"inherit",flexShrink:0,marginRight:32,marginLeft:8},"& .".concat(ze.select),{paddingLeft:8,paddingRight:24,textAlign:"right",textAlignLast:"right"})),Ge=(0,Ce.ZP)(xe.Z,{name:"MuiTablePagination",slot:"MenuItem",overridesResolver:function(e,n){return n.menuItem}})({}),qe=(0,Ce.ZP)("p",{name:"MuiTablePagination",slot:"DisplayedRows",overridesResolver:function(e,n){return n.displayedRows}})((function(e){var n=e.theme;return(0,je.Z)({},n.typography.body2,{flexShrink:0})}));function He(e){var n=e.from,t=e.to,r=e.count;return"".concat(n,"\u2013").concat(t," of ").concat(-1!==r?r:"more than ".concat(t))}function Je(e){return"Go to ".concat(e," page")}var Ye=r.forwardRef((function(e,n){var t,a=(0,Se.Z)({props:e,name:"MuiTablePagination"}),s=a.ActionsComponent,i=void 0===s?Re:s,o=a.backIconButtonProps,l=a.className,c=a.colSpan,u=a.component,p=void 0===u?d.Z:u,h=a.count,f=a.getItemAriaLabel,x=void 0===f?Je:f,m=a.labelDisplayedRows,Z=void 0===m?He:m,g=a.labelRowsPerPage,v=void 0===g?"Rows per page:":g,j=a.nextIconButtonProps,b=a.onPageChange,y=a.onRowsPerPageChange,w=a.page,C=a.rowsPerPage,S=a.rowsPerPageOptions,A=void 0===S?[10,25,50,100]:S,k=a.SelectProps,P=void 0===k?{}:k,I=a.showFirstButton,N=void 0!==I&&I,T=a.showLastButton,R=void 0!==T&&T,D=(0,ve.Z)(a,Ue),L=a,M=function(e){var n=e.classes;return(0,ye.Z)({root:["root"],toolbar:["toolbar"],spacer:["spacer"],selectLabel:["selectLabel"],select:["select"],input:["input"],selectIcon:["selectIcon"],menuItem:["menuItem"],displayedRows:["displayedRows"],actions:["actions"]},Be,n)}(L),B=P.native?"option":Ge;p!==d.Z&&"td"!==p||(t=c||1e3);var F=(0,De.Z)(P.id),z=(0,De.Z)(P.labelId);return(0,O.jsx)(_e,(0,je.Z)({colSpan:t,ref:n,as:p,ownerState:L,className:(0,be.Z)(M.root,l)},D,{children:(0,O.jsxs)(We,{className:M.toolbar,children:[(0,O.jsx)(Ke,{className:M.spacer}),A.length>1&&(0,O.jsx)(Ve,{className:M.selectLabel,id:z,children:v}),A.length>1&&(0,O.jsx)(Ee,(0,je.Z)({variant:"standard"},!P.variant&&{input:Fe||(Fe=(0,O.jsx)(Ae.ZP,{}))},{value:C,onChange:y,id:F,labelId:z},P,{classes:(0,je.Z)({},P.classes,{root:(0,be.Z)(M.input,M.selectRoot,(P.classes||{}).root),select:(0,be.Z)(M.select,(P.classes||{}).select),icon:(0,be.Z)(M.selectIcon,(P.classes||{}).icon)}),children:A.map((function(e){return(0,r.createElement)(B,(0,je.Z)({},!(0,we.Z)(B)&&{ownerState:L},{className:M.menuItem,key:e.label?e.label:e,value:e.value?e.value:e}),e.label?e.label:e)}))})),(0,O.jsx)(qe,{className:M.displayedRows,children:Z({from:0===h?0:w*C+1,to:-1===h?(w+1)*C:-1===C?h:Math.min(h,(w+1)*C),count:-1===h?-1:h,page:w})}),(0,O.jsx)(i,{className:M.actions,backIconButtonProps:o,count:h,nextIconButtonProps:j,onPageChange:b,page:w,rowsPerPage:C,showFirstButton:N,showLastButton:R,getItemAriaLabel:x})]})}))})),Qe=t(91803),Xe=t(52898),$e=t(12065),en=t(27247);function nn(e){var n=e.selected,t=e.onButtonClick;if(n.length)return(0,O.jsxs)(ke.Z,{sx:{pl:{sm:2},pr:{xs:1,sm:1},display:"flex",justifyContent:"space-between",bgcolor:function(e){return(0,$e.Fq)(e.palette.primary.main,e.palette.action.activatedOpacity)}},children:[(0,O.jsxs)(m.Z,{color:"inherit",variant:"subtitle1",component:"div",sx:{minWidth:200},children:[n.length," selected"]}),(0,O.jsxs)(x.Z,{sx:{display:"flex",alignItems:"center",gap:2,flexDirection:{xs:"row",md:"row"},flexWrap:"wrap"},children:[(0,O.jsx)(D.Z,{variant:"outlined",onClick:function(){return t("addTag")},sx:{minWidth:"max-content"},children:"Add Tag"}),(0,O.jsx)(D.Z,{variant:"outlined",onClick:function(){return t("removeAllTags")},sx:{minWidth:"max-content"},children:"Remove All Tags"}),(0,O.jsx)(D.Z,{variant:"outlined",onClick:function(){return t("removeTag")},sx:{minWidth:"max-content"},children:"Remove Tag"}),(0,O.jsx)(D.Z,{variant:"outlined",onClick:function(){return t("resetPassword")},sx:{minWidth:"max-content"},children:"Reset Passwords"}),(0,O.jsx)(Z.Z,{title:"Delete users",children:(0,O.jsx)(g.Z,{onClick:function(){return t("deleteUser")},children:(0,O.jsx)(en.Z,{color:"error"})})})]})]})}var tn=t(60753),rn=(0,t(81245).Z)((0,O.jsx)("path",{d:"M20 12l-1.41-1.41L13 16.17V4h-2v12.17l-5.58-5.59L4 12l8 8 8-8z"}),"ArrowDownward"),an=t(49853);function sn(e){return(0,Me.Z)("MuiTableSortLabel",e)}var on=(0,Le.Z)("MuiTableSortLabel",["root","active","icon","iconDirectionDesc","iconDirectionAsc"]),ln=["active","children","className","direction","hideSortIcon","IconComponent"],cn=(0,Ce.ZP)(tn.Z,{name:"MuiTableSortLabel",slot:"Root",overridesResolver:function(e,n){var t=e.ownerState;return[n.root,t.active&&n.active]}})((function(e){var n=e.theme;return(0,ge.Z)({cursor:"pointer",display:"inline-flex",justifyContent:"flex-start",flexDirection:"inherit",alignItems:"center","&:focus":{color:(n.vars||n).palette.text.secondary},"&:hover":(0,ge.Z)({color:(n.vars||n).palette.text.secondary},"& .".concat(on.icon),{opacity:.5})},"&.".concat(on.active),(0,ge.Z)({color:(n.vars||n).palette.text.primary},"& .".concat(on.icon),{opacity:1,color:(n.vars||n).palette.text.secondary}))})),dn=(0,Ce.ZP)("span",{name:"MuiTableSortLabel",slot:"Icon",overridesResolver:function(e,n){var t=e.ownerState;return[n.icon,n["iconDirection".concat((0,an.Z)(t.direction))]]}})((function(e){var n=e.theme,t=e.ownerState;return(0,je.Z)({fontSize:18,marginRight:4,marginLeft:4,opacity:0,transition:n.transitions.create(["opacity","transform"],{duration:n.transitions.duration.shorter}),userSelect:"none"},"desc"===t.direction&&{transform:"rotate(0deg)"},"asc"===t.direction&&{transform:"rotate(180deg)"})})),un=r.forwardRef((function(e,n){var t=(0,Se.Z)({props:e,name:"MuiTableSortLabel"}),r=t.active,a=void 0!==r&&r,s=t.children,i=t.className,o=t.direction,l=void 0===o?"asc":o,c=t.hideSortIcon,d=void 0!==c&&c,u=t.IconComponent,p=void 0===u?rn:u,h=(0,ve.Z)(t,ln),f=(0,je.Z)({},t,{active:a,direction:l,hideSortIcon:d,IconComponent:p}),x=function(e){var n=e.classes,t=e.direction,r={root:["root",e.active&&"active"],icon:["icon","iconDirection".concat((0,an.Z)(t))]};return(0,ye.Z)(r,sn,n)}(f);return(0,O.jsxs)(cn,(0,je.Z)({className:(0,be.Z)(x.root,i),component:"span",disableRipple:!0,ownerState:f,ref:n},h,{children:[s,d&&!a?null:(0,O.jsx)(dn,{as:p,className:(0,be.Z)(x.icon),ownerState:f})]}))})),pn={border:0,clip:"rect(0 0 0 0)",height:"1px",margin:-1,overflow:"hidden",padding:0,position:"absolute",whiteSpace:"nowrap",width:"1px"},hn=[{id:"appId",numeric:!1,disablePadding:!0,label:"App Id"},{id:"firstName",numeric:!0,disablePadding:!1,label:"First Name"},{id:"lastName",numeric:!0,disablePadding:!1,label:"Last Name"},{id:"tags",numeric:!0,disablePadding:!1,label:"User Tags"},{id:"email",numeric:!0,disablePadding:!1,label:"Email"},{id:"actions",numeric:!0,disablePadding:!1,label:"Actions"}];function fn(e){var n=e.onSelectAllClick,t=e.order,r=e.orderBy,a=e.numSelected,s=e.rowCount,i=e.onRequestSort;return(0,O.jsx)(p.Z,{children:(0,O.jsxs)(h.Z,{children:[(0,O.jsx)(d.Z,{padding:"checkbox",children:(0,O.jsx)(N.Z,{color:"primary",indeterminate:a>0&&a<s,checked:s>0&&a===s,onChange:n,inputProps:{"aria-label":"select all desserts"}})}),hn.map((function(e){return(0,O.jsx)(d.Z,{align:e.numeric?"center":"left",padding:e.disablePadding?"none":"normal",sortDirection:r===e.id&&t,children:(0,O.jsxs)(un,{active:r===e.id,direction:r===e.id?t:"asc",onClick:(n=e.id,function(e){"actions"!==n&&i(e,n)}),children:[e.label,r===e.id?(0,O.jsx)(x.Z,{component:"span",sx:pn,children:"desc"===t?"sorted descending":"sorted ascending"}):null]})},e.id);var n}))]})})}function xn(e){var n,t=e.open,a=e.onClose,l=e.type,c=e.updateData,d=e.selectedUsers,u=(0,r.useState)(""),p=(0,o.Z)(u,2),h=p[0],f=p[1],m=(0,r.useState)(!1),Z=(0,o.Z)(m,2),v=Z[0],j=Z[1],b=(0,r.useState)(!1),S=(0,o.Z)(b,2),k=S[0],I=S[1],N=(0,T.D)().showSnackbar,R=d.map((function(e){return e._id})),M=null===d||void 0===d||null===(n=d[0])||void 0===n?void 0:n.appId,B=function(e){var n=e.target.value;f(n)},F=function(){f(""),j(!1),I(!1),a()},z=function(){var e=(0,i.Z)((0,s.Z)().mark((function e(){var n;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return j(!0),n=h.trim().split(","),e.prev=2,e.next=5,(0,P.hr)(M,n,R);case 5:return e.next=7,c();case 7:N("success","Tag added"),F(),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(2),N("error","Something went wrong");case 14:j(!1);case 15:case"end":return e.stop()}}),e,null,[[2,11]])})));return function(){return e.apply(this,arguments)}}(),U=function(){var e=(0,i.Z)((0,s.Z)().mark((function e(){var n;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=h.trim().split(","),j(!0),e.prev=2,e.next=5,(0,P.r)(M,n,R);case 5:return e.next=7,c();case 7:N("success","Tag removed"),F(),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(2),N("error","Something went wrong");case 14:j(!1);case 15:case"end":return e.stop()}}),e,null,[[2,11]])})));return function(){return e.apply(this,arguments)}}(),_=function(){var e=(0,i.Z)((0,s.Z)().mark((function e(){return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return j(!0),e.prev=1,e.next=4,(0,P.S1)(M,[],R);case 4:return e.next=6,c();case 6:N("success","All tags removed"),F(),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(1),N("error","Something went wrong");case 13:j(!1);case 14:case"end":return e.stop()}}),e,null,[[1,10]])})));return function(){return e.apply(this,arguments)}}(),W=function(){var e=(0,i.Z)((0,s.Z)().mark((function e(){return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return j(!0),e.prev=1,e.next=4,(0,P.w9)(M,R);case 4:N("success","Passwords reseted"),F(),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),N("error","Something went wrong");case 11:j(!1);case 12:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(){return e.apply(this,arguments)}}(),K=function(){var e=(0,i.Z)((0,s.Z)().mark((function e(){return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return j(!0),e.prev=1,e.next=4,(0,P.Vt)(M,R);case 4:return e.next=6,c();case 6:N("success","Users deleted"),F(),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(1),N("error","Something went wrong");case 13:j(!1);case 14:case"end":return e.stop()}}),e,null,[[1,10]])})));return function(){return e.apply(this,arguments)}}();return(0,O.jsxs)(y.Z,{maxWidth:!1,open:t,onClose:F,children:[(0,O.jsx)(x.Z,{sx:{position:"absolute",top:0,right:0},children:(0,O.jsx)(g.Z,{onClick:F,children:(0,O.jsx)(C.Z,{})})}),function(){switch(l){case"addTag":return(0,O.jsxs)(x.Z,{style:{width:"350px"},children:[(0,O.jsx)(w.Z,{style:{display:"flex",justifyContent:"space-between"},children:"Add Tags"}),(0,O.jsx)(x.Z,{sx:{display:"flex",justifyContent:"flex-start",pl:3,pr:3},children:(0,O.jsx)(A.Z,{error:k,fullWidth:!0,margin:"dense",label:"Provide tags separated by comma",name:"tags",type:"tags",variant:"outlined",onChange:B,value:h})})]});case"removeTag":return(0,O.jsxs)(x.Z,{style:{width:"350px"},children:[(0,O.jsx)(w.Z,{style:{display:"flex",justifyContent:"space-between"},children:"Remove Tags"}),(0,O.jsx)(x.Z,{sx:{display:"flex",justifyContent:"flex-start",pl:3,pr:3},children:(0,O.jsx)(A.Z,{error:k,fullWidth:!0,margin:"dense",label:"Provide tags separated by comma",name:"tags",type:"tags",variant:"outlined",onChange:B,value:h})})]});case"removeAllTags":return(0,O.jsx)(x.Z,{style:{width:"350px"},children:(0,O.jsxs)(w.Z,{style:{display:"flex",justifyContent:"space-between"},children:["Are you sure you want to remove all tags from"," ",d.length," users?"]})});case"deleteUser":return(0,O.jsx)(x.Z,{style:{width:"350px"},children:(0,O.jsxs)(w.Z,{style:{display:"flex",justifyContent:"space-between"},children:["Are you sure you want to delete ",d.length," ",d.length>1?"users":"user","?"]})});case"resetPassword":return(0,O.jsx)(x.Z,{style:{width:"350px"},children:(0,O.jsxs)(w.Z,{style:{display:"flex",justifyContent:"space-between"},children:["Are you sure you want to force a password reset for"," ",d.length," users?"]})});default:return null}}(),(0,O.jsxs)(L.Z,{children:[(0,O.jsx)(D.Z,{disabled:v,onClick:F,children:"Cancel"}),(0,O.jsx)(D.Z,{disabled:v,onClick:function(){switch(l){case"deleteUser":return K();case"addTag":return h?z():void I(!0);case"removeTag":return h?U():void I(!0);case"removeAllTags":return _();case"resetPassword":return W()}},autoFocus:!0,color:"error",children:"Submit"})]})]})}var mn=t(22873),Zn=t(54572);function gn(e,n,t){return n[t]<e[t]?-1:n[t]>e[t]?1:0}function vn(e,n){return"desc"===e?function(e,t){return gn(e,t,n)}:function(e,t){return-gn(e,t,n)}}function jn(e,n){var t=e.map((function(e,n){return[e,n]}));return t.sort((function(e,t){var r=n(e[0],t[0]);return 0!==r?r:e[1]-t[1]})),t.map((function(e){return e[0]}))}function bn(){var e,n=(0,r.useState)("asc"),t=(0,o.Z)(n,2),a=t[0],p=t[1],Z=(0,r.useState)("appId"),y=(0,o.Z)(Z,2),w=y[0],S=y[1],A=(0,r.useState)([]),k=(0,o.Z)(A,2),I=k[0],T=k[1],R=(0,r.useState)(0),D=(0,o.Z)(R,2),L=D[0],M=D[1],B=(0,r.useState)({open:!1,type:"addTag"}),F=(0,o.Z)(B,2),z=F[0],U=F[1],_=r.useState(null),W=(0,o.Z)(_,2),K=W[0],V=W[1],E=Boolean(K),G=function(e){e.stopPropagation(),V(e.currentTarget)},q=function(){V(null)},H=(0,j.K)((function(e){return e.apps})),Y=(0,j.K)((function(e){var n;return null===(n=e.user.ACL)||void 0===n?void 0:n.ownerAccess})),Q=(0,r.useState)(!1),X=(0,o.Z)(Q,2),$=X[0],ee=X[1],ne=(0,r.useState)([]),te=(0,o.Z)(ne,2),re=te[0],ae=te[1],se=(0,r.useState)(null===(e=H[0])||void 0===e?void 0:e._id),ie=(0,o.Z)(se,2),oe=ie[0],le=ie[1],ce=(0,r.useState)({modalOpen:!1,user:null}),de=(0,o.Z)(ce,2),ue=de[0],ge=de[1],ve=(0,r.useState)(!1),je=(0,o.Z)(ve,2),be=je[0],ye=je[1],we=(0,r.useState)(!1),Ce=(0,o.Z)(we,2),Se=(Ce[0],Ce[1],(0,j.K)((function(e){return e.ACL.result.find((function(e){return e.appId===oe}))}))),Ae=Y||(null===Se||void 0===Se?void 0:Se.application.appUsers.create);(0,r.useEffect)((function(){ye(function(e){var n=null===e||void 0===e?void 0:e.application;if(n){for(var t=Object.keys(n),r=!1,a=0;a<t.length;a++){var s;if(!0===(null===(s=n[t[a]])||void 0===s?void 0:s.admin)){r=!0;break}}return r}return!1}(Se))}),[Se]);var ke=(0,r.useState)(),Pe=(0,o.Z)(ke,2),Ie=Pe[0],Ne=Pe[1],Te=function(){var e=(0,i.Z)((0,s.Z)().mark((function e(n){var t,r,a,i,o=arguments;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=o.length>1&&void 0!==o[1]?o[1]:10,r=o.length>2&&void 0!==o[2]?o[2]:0,e.prev=2,!n){e.next=11;break}return e.next=6,(0,P.ES)(n,t,r);case 6:return a=e.sent,i=a.data,Ne({limit:i.limit,offset:i.offset,total:i.total}),ae(i.items),e.abrupt("return",i.items);case 11:e.next=16;break;case 13:e.prev=13,e.t0=e.catch(2),console.log(e.t0);case 16:return e.abrupt("return",[]);case 17:case"end":return e.stop()}}),e,null,[[2,13]])})));return function(n){return e.apply(this,arguments)}}();(0,r.useEffect)((function(){oe&&Te(oe)}),[oe]);var Oe=function(e){le(e.target.value),Te(e.target.value)},Re=function(){return ge({modalOpen:!1,user:null})},De=function(){var e=(0,i.Z)((0,s.Z)().mark((function e(){return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:U((function(e){return(0,J.Z)((0,J.Z)({},e),{},{open:!1})}));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Le=function(){var e=(0,i.Z)((0,s.Z)().mark((function e(){return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Te(oe);case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Me=L>0?Math.max(0,10*(1+L)-re.length):0;return re.length?(0,O.jsxs)(x.Z,{sx:{width:"100%"},children:[(0,O.jsxs)(f.Z,{sx:{width:"100%",mb:2},children:[(0,O.jsxs)(x.Z,{sx:{display:"flex",alignItems:"center"},children:[(0,O.jsx)(m.Z,{variant:"h6",style:{margin:"16px"},children:"Users"}),!!H.length&&(0,O.jsxs)(pe.Z,{variant:"outlined",sx:{m:1,minWidth:120},children:[(0,O.jsx)(he.Z,{id:"select-label",children:"App"}),(0,O.jsx)(fe.Z,{labelId:"select-label",id:"select-label",label:"App",value:oe,onChange:Oe,children:H.map((function(e){return(0,O.jsx)(xe.Z,{value:e._id,children:e.appName},e._id)}))})]}),Ae&&(0,O.jsx)(g.Z,{onClick:function(){return ee(!0)},size:"large",sx:{marginLeft:"auto"},children:(0,O.jsx)(v.Z,{fontSize:"large",color:"primary"})})]}),(0,O.jsx)(u.Z,{children:(0,O.jsxs)(l.Z,{sx:{minWidth:750},"aria-labelledby":"tableTitle",size:"medium",children:[(0,O.jsx)(fn,{numSelected:I.length,order:a,orderBy:w,onSelectAllClick:function(e){if(e.target.checked){var n=re.map((function(e){return{_id:e._id,walletAddress:e.defaultWallet.walletAddress,appId:e.appId}}));T(n)}else T([])},onRequestSort:function(e,n){p(w===n&&"asc"===a?"desc":"asc"),S(n)},rowCount:re.length}),(0,O.jsxs)(c.Z,{children:[jn(re,vn(a,w)).slice(10*L,10*L+10).map((function(e,n){var t,r=(t=e._id.toString(),-1!==I.findIndex((function(e){return e._id===t}))),a="Users-table-checkbox-".concat(n);return(0,O.jsxs)(h.Z,{hover:!0,onClick:function(n){return function(e,n){var t=I.findIndex((function(e){return e._id===n._id})),r={_id:n._id,walletAddress:n.defaultWallet.walletAddress,appId:n.appId},a=[];-1===t?a=a.concat(I,r):0===t?a=a.concat(I.slice(1)):t===I.length-1?a=a.concat(I.slice(0,-1)):t>0&&(a=a.concat(I.slice(0,t),I.slice(t+1))),T(a)}(0,e)},role:"checkbox","aria-checked":r,tabIndex:-1,selected:r,children:[(0,O.jsx)(d.Z,{padding:"checkbox",children:(0,O.jsx)(N.Z,{color:"primary",checked:r,inputProps:{"aria-labelledby":a}})}),(0,O.jsx)(d.Z,{component:"th",id:a,scope:"row",padding:"none",children:e.appId}),(0,O.jsx)(d.Z,{align:"right",children:e.firstName}),(0,O.jsx)(d.Z,{align:"right",children:e.lastName}),(0,O.jsx)(d.Z,{align:"center",children:(0,O.jsx)(x.Z,{sx:{display:"flex",flexWrap:"wrap",gap:1,justifyContent:"center"},children:e.tags.map((function(e,n){return(0,O.jsx)(me.Z,{variant:"filled",color:"primary",label:e},n)}))})}),(0,O.jsx)(d.Z,{align:"right",children:e.email||"No Email"}),(0,O.jsxs)(d.Z,{align:"right",children:[(0,O.jsx)(g.Z,{disabled:!be,"aria-label":"more",id:"long-button","aria-controls":E?"long-menu":void 0,"aria-expanded":E?"true":void 0,"aria-haspopup":"true",onClick:G,children:(0,O.jsx)(Xe.Z,{})}),(0,O.jsx)(Ze.Z,{id:"long-menu",MenuListProps:{"aria-labelledby":"long-button"},anchorEl:K,open:E,onClose:q,PaperProps:{style:{maxHeight:216,width:"20ch"}},children:(0,O.jsx)(xe.Z,{onClick:function(n){return function(e,n){e.stopPropagation(),ge({modalOpen:!0,user:n}),q()}(n,e)},children:"Edit Acl"})})]})]},e._id)})),Me>0&&(0,O.jsx)(h.Z,{style:{height:33*Me},children:(0,O.jsx)(d.Z,{colSpan:6})})]})]})}),(0,O.jsx)(Ye,{component:"div",count:re.length,rowsPerPage:10,page:L,onPageChange:function(e,n){var t=0;M(n),n-1>0&&(t=(n-1)*((null===Ie||void 0===Ie?void 0:Ie.limit)||10)),Te(oe||null,(null===Ie||void 0===Ie?void 0:Ie.limit)||10,t).then((function(e){return ae(e)}))},rowsPerPageOptions:[]}),(0,O.jsx)(nn,{onButtonClick:function(e){U({open:!0,type:e})},selected:I})]}),(0,O.jsx)(xn,{type:z.type,open:z.open,onClose:De,selectedUsers:I,updateData:Le}),(0,O.jsx)(mn.Z,{open:$,setUsers:ae,setOpen:ee,appId:oe}),(0,O.jsx)(Qe.Z,{open:ue.modalOpen,onClose:Re,"aria-labelledby":"modal-modal-title","aria-describedby":"modal-modal-description",children:(0,O.jsxs)(x.Z,{sx:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:"70vw",bgcolor:"background.paper",boxShadow:24,borderRadius:"10px",p:4},children:[(0,O.jsx)(Zn.v,{updateData:function(e){var n=re,t=n.findIndex((function(e){return e._id===ue.user._id}));n[t].acl=e.result,ae(n)},onAclError:Re,user:ue.user}),(0,O.jsx)(g.Z,{onClick:Re,sx:{position:"absolute",top:0,right:0,color:"black"},children:(0,O.jsx)(C.Z,{fontSize:"large"})})]})})]}):(0,O.jsxs)(f.Z,{sx:{width:"100%",mb:2},children:[(0,O.jsxs)(x.Z,{sx:{display:"flex",alignItems:"center"},children:[(0,O.jsx)(m.Z,{variant:"h6",style:{margin:"16px"},children:"Users"}),!!H.length&&(0,O.jsxs)(pe.Z,{variant:"standard",sx:{m:1,minWidth:120},children:[(0,O.jsx)(he.Z,{id:"demo-simple-select-label",children:"App"}),(0,O.jsx)(fe.Z,{labelId:"demo-simple-select-label",id:"demo-simple-select",label:"App",value:oe,onChange:Oe,children:H.map((function(e){return(0,O.jsx)(xe.Z,{value:e._id,children:e.appName},e._id)}))})]}),Ae&&(0,O.jsx)(g.Z,{onClick:function(){return ee(!0)},size:"large",sx:{marginLeft:"auto"},children:(0,O.jsx)(v.Z,{fontSize:"large",color:"primary"})})]}),(0,O.jsxs)(x.Z,{style:{display:"flex",flexDirection:"column",alignItems:"center"},children:[(0,O.jsx)(b.Z,{}),(0,O.jsx)(m.Z,{style:{marginTop:"20px",marginBottom:"20px"},children:"Users not found."})]}),(0,O.jsx)(mn.Z,{open:$,setUsers:ae,setOpen:ee,appId:oe})]})}function yn(){return(0,O.jsx)("div",{style:{backgroundColor:"#edf0f4",padding:"20px"},children:(0,O.jsxs)(ue.Z,{maxWidth:"lg",children:[(0,O.jsx)(x.Z,{style:{marginTop:"20px"},children:(0,O.jsx)(te,{})}),(0,O.jsx)(x.Z,{style:{marginTop:"20px"},children:(0,O.jsx)(bn,{})})]})})}},18384:function(e,n,t){var r=t(64836);n.Z=void 0;var a=r(t(45649)),s=t(80184),i=(0,a.default)((0,s.jsx)("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-2 15-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z"}),"CheckCircle");n.Z=i},27247:function(e,n,t){var r=t(64836);n.Z=void 0;var a=r(t(45649)),s=t(80184),i=(0,a.default)((0,s.jsx)("path",{d:"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6v12zM19 4h-3.5l-1-1h-5l-1 1H5v2h14V4z"}),"Delete");n.Z=i},52898:function(e,n,t){var r=t(64836);n.Z=void 0;var a=r(t(45649)),s=t(80184),i=(0,a.default)((0,s.jsx)("path",{d:"M12 8c1.1 0 2-.9 2-2s-.9-2-2-2-2 .9-2 2 .9 2 2 2zm0 2c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm0 6c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2z"}),"MoreVert");n.Z=i}}]);
//# sourceMappingURL=966.e02f29ed.chunk.js.map