"use strict";(self.webpackChunkweb_app=self.webpackChunkweb_app||[]).push([[926],{1247:function(e,n,a){a.r(n),a.d(n,{default:function(){return V}});var t=a(72791),r=a(70885),l=a(21680),s=a(19773),i=a(24390),o=a(69963),c=a(9827),p=a(60807),d=a(56650),u=a(50228),f=a(4565),h=a(13811),m=a(68439),x=a(88522),g=a(95012),Z=a(60788),j=a(40464),v=a(29823),b=a(55705),A=a(59911),C=a(39709),y=a(57337),w=a(72900),O=a(88823),P=a(80184);function N(e){var n=e.open,a=e.setOpen,l=t.useRef(null),s=(0,x.K)((function(e){return e.setApp})),i=(0,t.useState)(!1),o=(0,r.Z)(i,2),c=o[0],p=o[1],d=(0,b.TA)({initialValues:{appName:"",appDescription:"",appGoogleId:"",defaultAccessProfileOpen:!1,defaultAccessAssetsOpen:!1,usersCanFree:!1,newUserTokenGift:0,coinsDayliBonus:0},validate:function(e){var n={};return e.appName||(n.appName="Required"),n},onSubmit:function(e){var n=e.appName,t=e.appDescription,r=e.appGoogleId,i=e.defaultAccessAssetsOpen,o=e.defaultAccessProfileOpen,c=e.usersCanFree;p(!0);var d,u=new FormData;if(l.current){var f=l.current.files;f&&(d=f[0])}d&&u.append("file",d),u.append("appName",n),u.append("appDescription",t),u.append("appGoogleId",r),u.append("defaultAccessAssetsOpen",i.toString()),u.append("defaultAccessProfileOpen",o.toString()),u.append("usersCanFree",c.toString()),y.ri(u).then((function(e){s(e.data.app),a(!1)})).finally((function(){return p(!1)}))}});return(0,P.jsx)(Z.Z,{onClose:function(){},open:n,children:(0,P.jsxs)(u.Z,{children:[(0,P.jsxs)(j.Z,{style:{display:"flex",justifyContent:"space-between"},children:["New App",(0,P.jsx)(h.Z,{disabled:c,onClick:function(){return a(!1)},children:(0,P.jsx)(v.Z,{})})]}),(0,P.jsx)(u.Z,{sx:{width:"100%",typography:"body1",padding:1},children:(0,P.jsxs)("form",{onSubmit:d.handleSubmit,children:[(0,P.jsx)(u.Z,{children:(0,P.jsx)(A.Z,{error:!(!d.touched.appName||!d.errors.appName),helperText:d.touched.appName&&d.errors.appName?d.errors.appName:"",margin:"dense",label:"App Name",name:"appName",variant:"standard",onChange:d.handleChange,onBlur:d.handleBlur,value:d.values.appName})}),(0,P.jsx)(u.Z,{children:(0,P.jsx)(A.Z,{margin:"dense",label:"Google Client Id",name:"appGoogleId",variant:"standard",onChange:d.handleChange,onBlur:d.handleBlur,value:d.values.appGoogleId})}),(0,P.jsxs)(u.Z,{style:{display:"inline-flex",flexDirection:"column"},children:[(0,P.jsx)(w.Z,{checked:d.values.defaultAccessProfileOpen,name:"defaultAccessProfileOpen",control:(0,P.jsx)(O.Z,{onChange:function(e){return d.setFieldValue("defaultAccessProfileOpen",e.target.checked)}}),label:"defaultAccessProfileOpen",labelPlacement:"end",onChange:d.handleChange}),(0,P.jsx)(w.Z,{checked:d.values.defaultAccessAssetsOpen,name:"defaultAccessAssetsOpen",control:(0,P.jsx)(O.Z,{onChange:function(e){return d.setFieldValue("defaultAccessAssetsOpen",e.target.checked)}}),label:"defaultAccessAssetsOpen",labelPlacement:"end"}),(0,P.jsx)(w.Z,{checked:d.values.usersCanFree,name:"usersCanFree",control:(0,P.jsx)(O.Z,{onChange:function(e){return d.setFieldValue("usersCanFree",e.target.checked)}}),label:"usersCanFree",labelPlacement:"end"}),(0,P.jsx)("input",{ref:l,type:"file",accept:"image/*"}),(0,P.jsx)(C.Z,{loading:c,variant:"contained",style:{marginTop:"15px"},type:"submit",disabled:c,children:"Create App"})]})]})})]})})}var S=a(17205),k=a(77248),F=a(8440),D=a(39571),I=a(52797),T=a(74142);function G(e){var n,a=t.useState(!1),l=(0,r.Z)(a,2),s=l[0],i=l[1],o=(0,x.K)((function(e){return e.deleteApp})),c=(0,T.Z)(),p=(0,I.Z)(c.breakpoints.down("md"));return(0,P.jsx)("div",{children:(0,P.jsxs)(Z.Z,{fullScreen:p,open:e.open,onClose:function(){},"aria-labelledby":"responsive-dialog-title",children:[(0,P.jsxs)(j.Z,{id:"responsive-dialog-title",children:["Are you sure want to remove application ",null===(n=e.app)||void 0===n?void 0:n.appName]}),(0,P.jsx)(F.Z,{children:(0,P.jsx)(D.Z,{children:"Your app clients(mobile, web) will not be able to send requests to Platform API after deleting the app"})}),(0,P.jsxs)(k.Z,{children:[(0,P.jsx)(S.Z,{disabled:s,variant:"contained",autoFocus:!0,onClick:function(){return e.setOpen(!1)},children:"Cancel"}),(0,P.jsx)(C.Z,{variant:"contained",loading:s,color:"error",onClick:function(){var n;e.app&&null!==(n=e.app)&&void 0!==n&&n._id&&(i(!0),y.P2(e.app._id).then((function(){var n;o(null===(n=e.app)||void 0===n?void 0:n._id),e.setOpen(!1)})).finally((function(){return i(!1)})))},autoFocus:!0,children:"Delete"})]})]})})}function M(e){var n=e.open,a=e.setOpen,l=e.app,s=t.useRef(null),i=(0,t.useState)(!1),o=(0,r.Z)(i,2),c=o[0],p=o[1],d=(0,x.K)((function(e){return e.updateApp})),f=(0,b.TA)({initialValues:{appName:l.appName,appDescription:l.appDescription?l.appDescription:"",appGoogleId:l.appGoogleId?l.appGoogleId:"",defaultAccessProfileOpen:l.defaultAccessProfileOpen,defaultAccessAssetsOpen:l.defaultAccessAssetsOpen,usersCanFree:l.usersCanFree},validate:function(e){var n={};return e.appName||(n.appName="Required"),n},onSubmit:function(e){var n=e.appName,t=e.appDescription,r=e.appGoogleId,i=e.defaultAccessAssetsOpen,o=e.defaultAccessProfileOpen,c=e.usersCanFree;p(!0);var u,f=new FormData;if(s.current){var h=s.current.files;h&&(u=h[0])}u&&f.append("file",u),f.append("appName",n),f.append("appDesctription",t),f.append("appGoogleId",r),f.append("defaultAccessAssetsOpen",i.toString()),f.append("defaultAccessProfileOpen",o.toString()),f.append("usersCanFree",c.toString()),y.KT(l._id,f).then((function(e){d(e.data.app),a(!1)})).finally((function(){return p(!1)}))}});return(0,P.jsx)(Z.Z,{onClose:function(){},open:n,children:(0,P.jsxs)(u.Z,{children:[(0,P.jsxs)(j.Z,{style:{display:"flex",justifyContent:"space-between"},children:["Edit App",(0,P.jsx)(h.Z,{disabled:c,onClick:function(){return a(!1)},children:(0,P.jsx)(v.Z,{})})]}),(0,P.jsx)(u.Z,{sx:{width:"100%",typography:"body1",padding:1},children:(0,P.jsxs)("form",{onSubmit:f.handleSubmit,children:[(0,P.jsx)(u.Z,{children:(0,P.jsx)(A.Z,{error:!(!f.touched.appName||!f.errors.appName),helperText:f.touched.appName&&f.errors.appName?f.errors.appName:"",margin:"dense",label:"App Name",name:"appName",variant:"standard",onChange:f.handleChange,onBlur:f.handleBlur,value:f.values.appName})}),(0,P.jsx)(u.Z,{children:(0,P.jsx)(A.Z,{margin:"dense",label:"Google Client Id",name:"appGoogleId",variant:"standard",onChange:f.handleChange,onBlur:f.handleBlur,value:f.values.appGoogleId})}),(0,P.jsxs)(u.Z,{style:{display:"inline-flex",flexDirection:"column"},children:[(0,P.jsx)(w.Z,{checked:f.values.defaultAccessProfileOpen,name:"defaultAccessProfileOpen",control:(0,P.jsx)(O.Z,{onChange:function(e){return f.setFieldValue("defaultAccessProfileOpen",e.target.checked)}}),label:"defaultAccessProfileOpen",labelPlacement:"end",onChange:f.handleChange}),(0,P.jsx)(w.Z,{checked:f.values.defaultAccessAssetsOpen,name:"defaultAccessAssetsOpen",control:(0,P.jsx)(O.Z,{onChange:function(e){return f.setFieldValue("defaultAccessAssetsOpen",e.target.checked)}}),label:"defaultAccessAssetsOpen",labelPlacement:"end"}),(0,P.jsx)(w.Z,{checked:f.values.usersCanFree,name:"usersCanFree",control:(0,P.jsx)(O.Z,{onChange:function(e){return f.setFieldValue("usersCanFree",e.target.checked)}}),label:"usersCanFree",labelPlacement:"end"}),(0,P.jsx)("input",{ref:s,type:"file",accept:"image/*"}),(0,P.jsx)(C.Z,{loading:c,variant:"contained",style:{marginTop:"15px"},type:"submit",children:"Update App"})]})]})})]})})}function R(e){var n,a=t.useState(!1),l=(0,r.Z)(a,2),s=l[0],i=l[1],o=(0,x.K)((function(e){return e.updateApp})),c=(0,T.Z)(),p=(0,I.Z)(c.breakpoints.down("md"));return(0,P.jsx)("div",{children:(0,P.jsxs)(Z.Z,{fullScreen:p,open:e.open,onClose:function(){},"aria-labelledby":"responsive-dialog-title",children:[(0,P.jsxs)(j.Z,{id:"responsive-dialog-title",children:["Are you sure want to rotate JWT for application ",null===(n=e.app)||void 0===n?void 0:n.appName]}),(0,P.jsx)(F.Z,{children:(0,P.jsx)(D.Z,{children:"You will need to update your app clients(mobile, web) with new App Jwt"})}),(0,P.jsxs)(k.Z,{children:[(0,P.jsx)(S.Z,{disabled:s,variant:"contained",autoFocus:!0,onClick:function(){return e.setOpen(!1)},children:"Cancel"}),(0,P.jsx)(C.Z,{variant:"contained",loading:s,color:"error",onClick:function(){var n;e.app&&null!==(n=e.app)&&void 0!==n&&n._id&&(i(!0),y.oK(e.app._id).then((function(n){o(n.data.app),e.setOpen(!1)})).finally((function(){return i(!1)})))},autoFocus:!0,children:"Rotate"})]})]})})}function L(){var e=(0,x.K)((function(e){return e.apps})),n=t.useState(!1),a=(0,r.Z)(n,2),Z=a[0],j=a[1],v=t.useState(!1),b=(0,r.Z)(v,2),A=b[0],C=b[1],y=t.useState(!1),w=(0,r.Z)(y,2),O=w[0],S=w[1],k=t.useState(!1),F=(0,r.Z)(k,2),D=F[0],I=F[1],T=t.useState({_id:"",appName:"",appDescription:"",appGoogleId:"",defaultAccessProfileOpen:!1,defaultAccessAssetsOpen:!1,usersCanFree:!1}),L=(0,r.Z)(T,2),_=L[0],B=L[1];return(0,P.jsxs)(o.Z,{component:d.Z,style:{margin:"0 auto"},children:[(0,P.jsxs)(u.Z,{style:{display:"flex",alignItems:"center"},children:[(0,P.jsx)(f.Z,{variant:"h6",style:{margin:"16px"},children:"Apps"}),(0,P.jsx)(h.Z,{onClick:function(){return j(!0)},size:"large",children:(0,P.jsx)(m.Z,{fontSize:"large"})})]}),0===e.length&&(0,P.jsxs)(u.Z,{style:{display:"flex",flexDirection:"column",alignItems:"center"},children:[(0,P.jsx)(g.Z,{}),(0,P.jsx)(f.Z,{style:{marginTop:"20px",marginBottom:"20px"},children:"You have not created any apps."})]}),e.length>0&&(0,P.jsxs)(l.Z,{sx:{minWidth:650},"aria-label":"simple table",children:[(0,P.jsx)(c.Z,{children:(0,P.jsxs)(p.Z,{children:[(0,P.jsx)(i.Z,{width:200,children:"Application Name"}),(0,P.jsx)(i.Z,{align:"right",children:"Is Assets Open"}),(0,P.jsx)(i.Z,{align:"right",children:"Is Profile Open"}),(0,P.jsx)(i.Z,{align:"right",children:"Is Users Can Free"}),(0,P.jsx)(i.Z,{align:"right",children:"Created"}),(0,P.jsx)(i.Z,{align:"right",children:"Actions"})]})}),(0,P.jsx)(s.Z,{children:e.map((function(e){return(0,P.jsxs)(p.Z,{sx:{"&:last-child td, &:last-child th":{border:0}},children:[(0,P.jsx)(i.Z,{component:"th",scope:"row",children:e.appName}),(0,P.jsx)(i.Z,{align:"right",children:e.defaultAccessAssetsOpen.toString()}),(0,P.jsx)(i.Z,{align:"right",children:e.defaultAccessProfileOpen.toString()}),(0,P.jsx)(i.Z,{align:"right",children:e.usersCanFree.toString()}),(0,P.jsx)(i.Z,{align:"right",children:new Date(e.createdAt).toDateString()}),(0,P.jsx)(i.Z,{align:"right",children:(0,P.jsxs)(u.Z,{style:{display:"flex",flexDirection:"column"},children:[(0,P.jsx)("a",{href:"/",onClick:function(n){n.preventDefault(),function(e){B(e),C(!0)}(e)},children:"Delete"}),(0,P.jsx)("a",{href:"data:text/json;chatset=utf-8,".concat(encodeURIComponent(JSON.stringify({appJwt:e.appToken}))),style:{display:"none"},download:"data.json",id:"app-jwt-".concat(e._id),children:"download jwt"}),(0,P.jsx)("a",{href:"/",onClick:function(n){n.preventDefault();var a=document.querySelector("#app-jwt-".concat(e._id));null===a||void 0===a||a.click()},children:"Download App JWT"}),(0,P.jsx)("a",{href:"/",onClick:function(n){n.preventDefault(),function(e){B(e),I(!0)}(e)},children:"Rotate App Jwt"}),(0,P.jsx)("a",{href:"/",onClick:function(n){n.preventDefault(),function(e){B(e),S(!0)}(e)},children:"Edit"})]})})]},e._id)}))})]}),(0,P.jsx)(N,{open:Z,setOpen:j}),(0,P.jsx)(G,{app:_,open:A,setOpen:C}),(0,P.jsx)(R,{app:_,open:D,setOpen:I}),O&&(0,P.jsx)(M,{app:_,open:O,setOpen:S})]})}var _=a(65931),B=a(20803);function V(){return(0,P.jsx)("div",{style:{backgroundColor:"#edf0f4",padding:"20px"},children:(0,P.jsxs)(B.Z,{maxWidth:"lg",children:[(0,P.jsx)(u.Z,{style:{marginTop:"20px"},children:(0,P.jsx)(L,{})}),(0,P.jsx)(u.Z,{style:{marginTop:"20px"},children:(0,P.jsx)(_.Z,{})})]})})}},72900:function(e,n,a){a.d(n,{Z:function(){return b}});var t=a(4942),r=a(63366),l=a(87462),s=a(72791),i=a(28182),o=a(94419),c=a(90529),p=a(4565),d=a(49853),u=a(60277),f=a(85513),h=a(21217);function m(e){return(0,h.Z)("MuiFormControlLabel",e)}var x=(0,a(75878).Z)("MuiFormControlLabel",["root","labelPlacementStart","labelPlacementTop","labelPlacementBottom","disabled","label","error"]),g=a(50040),Z=a(80184),j=["checked","className","componentsProps","control","disabled","disableTypography","inputRef","label","labelPlacement","name","onChange","value"],v=(0,u.ZP)("label",{name:"MuiFormControlLabel",slot:"Root",overridesResolver:function(e,n){var a=e.ownerState;return[(0,t.Z)({},"& .".concat(x.label),n.label),n.root,n["labelPlacement".concat((0,d.Z)(a.labelPlacement))]]}})((function(e){var n=e.theme,a=e.ownerState;return(0,l.Z)((0,t.Z)({display:"inline-flex",alignItems:"center",cursor:"pointer",verticalAlign:"middle",WebkitTapHighlightColor:"transparent",marginLeft:-11,marginRight:16},"&.".concat(x.disabled),{cursor:"default"}),"start"===a.labelPlacement&&{flexDirection:"row-reverse",marginLeft:16,marginRight:-11},"top"===a.labelPlacement&&{flexDirection:"column-reverse",marginLeft:16},"bottom"===a.labelPlacement&&{flexDirection:"column",marginLeft:16},(0,t.Z)({},"& .".concat(x.label),(0,t.Z)({},"&.".concat(x.disabled),{color:(n.vars||n).palette.text.disabled})))})),b=s.forwardRef((function(e,n){var a=(0,f.Z)({props:e,name:"MuiFormControlLabel"}),t=a.className,u=a.componentsProps,h=void 0===u?{}:u,x=a.control,b=a.disabled,A=a.disableTypography,C=a.label,y=a.labelPlacement,w=void 0===y?"end":y,O=(0,r.Z)(a,j),P=(0,c.Z)(),N=b;"undefined"===typeof N&&"undefined"!==typeof x.props.disabled&&(N=x.props.disabled),"undefined"===typeof N&&P&&(N=P.disabled);var S={disabled:N};["checked","name","onChange","value","inputRef"].forEach((function(e){"undefined"===typeof x.props[e]&&"undefined"!==typeof a[e]&&(S[e]=a[e])}));var k=(0,g.Z)({props:a,muiFormControl:P,states:["error"]}),F=(0,l.Z)({},a,{disabled:N,labelPlacement:w,error:k.error}),D=function(e){var n=e.classes,a=e.disabled,t=e.labelPlacement,r=e.error,l={root:["root",a&&"disabled","labelPlacement".concat((0,d.Z)(t)),r&&"error"],label:["label",a&&"disabled"]};return(0,o.Z)(l,m,n)}(F),I=C;return null==I||I.type===p.Z||A||(I=(0,Z.jsx)(p.Z,(0,l.Z)({component:"span",className:D.label},h.typography,{children:I}))),(0,Z.jsxs)(v,(0,l.Z)({className:(0,i.Z)(D.root,t),ownerState:F,ref:n},O,{children:[s.cloneElement(x,S),I]}))}))},52797:function(e,n,a){var t;a.d(n,{Z:function(){return u}});var r=a(70885),l=a(72791),s=a(69120),i=a(33073),o=a(93026);function c(e,n,a,t,s){var i="undefined"!==typeof window&&"undefined"!==typeof window.matchMedia,c=l.useState((function(){return s&&i?a(e).matches:t?t(e).matches:n})),p=(0,r.Z)(c,2),d=p[0],u=p[1];return(0,o.Z)((function(){var n=!0;if(i){var t=a(e),r=function(){n&&u(t.matches)};return r(),t.addListener(r),function(){n=!1,t.removeListener(r)}}}),[e,a,i]),d}var p=(t||(t=a.t(l,2))).useSyncExternalStore;function d(e,n,a,t){var s=l.useCallback((function(){return n}),[n]),i=l.useMemo((function(){if(null!==t){var n=t(e).matches;return function(){return n}}return s}),[s,e,t]),o=l.useMemo((function(){if(null===a)return[s,function(){return function(){}}];var n=a(e);return[function(){return n.matches},function(e){return n.addListener(e),function(){n.removeListener(e)}}]}),[s,a,e]),c=(0,r.Z)(o,2),d=c[0],u=c[1];return p(u,d,i)}function u(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=(0,s.Z)(),t="undefined"!==typeof window&&"undefined"!==typeof window.matchMedia,r=(0,i.Z)({name:"MuiUseMediaQuery",props:n,theme:a}),l=r.defaultMatches,o=void 0!==l&&l,u=r.matchMedia,f=void 0===u?t?window.matchMedia:null:u,h=r.ssrMatchMedia,m=void 0===h?null:h,x=r.noSsr;var g="function"===typeof e?e(a):e;g=g.replace(/^@media( ?)/m,"");var Z=void 0!==p?d:c,j=Z(g,o,f,m,x);return j}}}]);
//# sourceMappingURL=926.fba32f11.chunk.js.map