"use strict";(self.webpackChunkweb_app=self.webpackChunkweb_app||[]).push([[504],{60504:function(e,n,t){t.r(n),t.d(n,{default:function(){return an}});var a=t(72791),r=t.t(a,2),i=t(16090),o=t(79271),s=t(70885),l=t(21680),d=t(19773),c=t(24390),u=t(69963),p=t(9827),h=t(60807),f=t(56650),v=t(50228),m=t(4565),x=t(13811),g=t(68439),Z=t(80184);function j(){return(0,Z.jsx)("div",{className:"noDataImg"})}var b=t(60788),y=t(40464),C=t(29823),w=t(55705),A=t(59911),N=t(39709),k=t(57337),S=t(72900),O=t(88823);function P(e){var n=e.open,t=e.setOpen,r=a.useRef(null),o=(0,i.K)((function(e){return e.setApp})),l=(0,a.useState)(!1),d=(0,s.Z)(l,2),c=d[0],u=d[1],p=(0,w.TA)({initialValues:{appName:"",appDescription:"",appGoogleId:"",defaultAccessProfileOpen:!1,defaultAccessAssetsOpen:!1,usersCanFree:!1,newUserTokenGift:0,coinsDayliBonus:0},validate:function(e){var n={};return e.appName||(n.appName="Required"),n},onSubmit:function(e){var n=e.appName,a=e.appDescription,i=e.appGoogleId,s=e.defaultAccessAssetsOpen,l=e.defaultAccessProfileOpen,d=e.usersCanFree;u(!0);var c,p=new FormData;if(r.current){var h=r.current.files;h&&(c=h[0])}c&&p.append("file",c),p.append("appName",n),p.append("appDescription",a),p.append("appGoogleId",i),p.append("defaultAccessAssetsOpen",s.toString()),p.append("defaultAccessProfileOpen",l.toString()),p.append("usersCanFree",d.toString()),k.ri(p).then((function(e){o(e.data.app),t(!1)})).finally((function(){return u(!1)}))}});return(0,Z.jsx)(b.Z,{onClose:function(){},open:n,children:(0,Z.jsxs)(v.Z,{children:[(0,Z.jsxs)(y.Z,{style:{display:"flex",justifyContent:"space-between"},children:["New App",(0,Z.jsx)(x.Z,{disabled:c,onClick:function(){return t(!1)},children:(0,Z.jsx)(C.Z,{})})]}),(0,Z.jsx)(v.Z,{sx:{width:"100%",typography:"body1",padding:1},children:(0,Z.jsxs)("form",{onSubmit:p.handleSubmit,children:[(0,Z.jsx)(v.Z,{children:(0,Z.jsx)(A.Z,{error:!(!p.touched.appName||!p.errors.appName),helperText:p.touched.appName&&p.errors.appName?p.errors.appName:"",margin:"dense",label:"App Name",name:"appName",variant:"standard",onChange:p.handleChange,onBlur:p.handleBlur,value:p.values.appName})}),(0,Z.jsx)(v.Z,{children:(0,Z.jsx)(A.Z,{margin:"dense",label:"Google Client Id",name:"appGoogleId",variant:"standard",onChange:p.handleChange,onBlur:p.handleBlur,value:p.values.appGoogleId})}),(0,Z.jsxs)(v.Z,{style:{display:"inline-flex",flexDirection:"column"},children:[(0,Z.jsx)(S.Z,{checked:p.values.defaultAccessProfileOpen,name:"defaultAccessProfileOpen",control:(0,Z.jsx)(O.Z,{onChange:function(e){return p.setFieldValue("defaultAccessProfileOpen",e.target.checked)}}),label:"defaultAccessProfileOpen",labelPlacement:"end",onChange:p.handleChange}),(0,Z.jsx)(S.Z,{checked:p.values.defaultAccessAssetsOpen,name:"defaultAccessAssetsOpen",control:(0,Z.jsx)(O.Z,{onChange:function(e){return p.setFieldValue("defaultAccessAssetsOpen",e.target.checked)}}),label:"defaultAccessAssetsOpen",labelPlacement:"end"}),(0,Z.jsx)(S.Z,{checked:p.values.usersCanFree,name:"usersCanFree",control:(0,Z.jsx)(O.Z,{onChange:function(e){return p.setFieldValue("usersCanFree",e.target.checked)}}),label:"usersCanFree",labelPlacement:"end"}),(0,Z.jsx)("input",{ref:r,type:"file",accept:"image/*"}),(0,Z.jsx)(N.Z,{loading:c,variant:"contained",style:{marginTop:"15px"},type:"submit",disabled:c,children:"Create App"})]})]})})]})})}var I=t(17205),F=t(63366),R=t(87462),M=t(28182),B=t(94419),D=t(60277),z=t(85513),T=t(21217),L=t(75878);function _(e){return(0,T.Z)("MuiDialogActions",e)}(0,L.Z)("MuiDialogActions",["root","spacing"]);var W=["className","disableSpacing"],G=(0,D.ZP)("div",{name:"MuiDialogActions",slot:"Root",overridesResolver:function(e,n){var t=e.ownerState;return[n.root,!t.disableSpacing&&n.spacing]}})((function(e){var n=e.ownerState;return(0,R.Z)({display:"flex",alignItems:"center",padding:8,justifyContent:"flex-end",flex:"0 0 auto"},!n.disableSpacing&&{"& > :not(:first-of-type)":{marginLeft:8}})})),U=a.forwardRef((function(e,n){var t=(0,z.Z)({props:e,name:"MuiDialogActions"}),a=t.className,r=t.disableSpacing,i=void 0!==r&&r,o=(0,F.Z)(t,W),s=(0,R.Z)({},t,{disableSpacing:i}),l=function(e){var n=e.classes,t={root:["root",!e.disableSpacing&&"spacing"]};return(0,B.Z)(t,_,n)}(s);return(0,Z.jsx)(G,(0,R.Z)({className:(0,M.Z)(l.root,a),ownerState:s,ref:n},o))})),V=t(4942);function q(e){return(0,T.Z)("MuiDialogContent",e)}(0,L.Z)("MuiDialogContent",["root","dividers"]);var K=t(5186),E=["className","dividers"],J=(0,D.ZP)("div",{name:"MuiDialogContent",slot:"Root",overridesResolver:function(e,n){var t=e.ownerState;return[n.root,t.dividers&&n.dividers]}})((function(e){var n=e.theme,t=e.ownerState;return(0,R.Z)({flex:"1 1 auto",WebkitOverflowScrolling:"touch",overflowY:"auto",padding:"20px 24px"},t.dividers?{padding:"16px 24px",borderTop:"1px solid ".concat((n.vars||n).palette.divider),borderBottom:"1px solid ".concat((n.vars||n).palette.divider)}:(0,V.Z)({},".".concat(K.Z.root," + &"),{paddingTop:0}))})),Y=a.forwardRef((function(e,n){var t=(0,z.Z)({props:e,name:"MuiDialogContent"}),a=t.className,r=t.dividers,i=void 0!==r&&r,o=(0,F.Z)(t,E),s=(0,R.Z)({},t,{dividers:i}),l=function(e){var n=e.classes,t={root:["root",e.dividers&&"dividers"]};return(0,B.Z)(t,q,n)}(s);return(0,Z.jsx)(J,(0,R.Z)({className:(0,M.Z)(l.root,a),ownerState:s,ref:n},o))}));function H(e){return(0,T.Z)("MuiDialogContentText",e)}(0,L.Z)("MuiDialogContentText",["root"]);var Q=["children"],X=(0,D.ZP)(m.Z,{shouldForwardProp:function(e){return(0,D.FO)(e)||"classes"===e},name:"MuiDialogContentText",slot:"Root",overridesResolver:function(e,n){return n.root}})({}),$=a.forwardRef((function(e,n){var t=(0,z.Z)({props:e,name:"MuiDialogContentText"}),a=(0,F.Z)(t,Q),r=function(e){var n=e.classes,t=(0,B.Z)({root:["root"]},H,n);return(0,R.Z)({},n,t)}(a);return(0,Z.jsx)(X,(0,R.Z)({component:"p",variant:"body1",color:"text.secondary",ref:n,ownerState:a},t,{classes:r}))})),ee=t(69120),ne=t(33073),te=t(93026);function ae(e,n,t,r,i){var o="undefined"!==typeof window&&"undefined"!==typeof window.matchMedia,l=a.useState((function(){return i&&o?t(e).matches:r?r(e).matches:n})),d=(0,s.Z)(l,2),c=d[0],u=d[1];return(0,te.Z)((function(){var n=!0;if(o){var a=t(e),r=function(){n&&u(a.matches)};return r(),a.addListener(r),function(){n=!1,a.removeListener(r)}}}),[e,t,o]),c}var re=r.useSyncExternalStore;function ie(e,n,t,r){var i=a.useCallback((function(){return n}),[n]),o=a.useMemo((function(){if(null!==r){var n=r(e).matches;return function(){return n}}return i}),[i,e,r]),l=a.useMemo((function(){if(null===t)return[i,function(){return function(){}}];var n=t(e);return[function(){return n.matches},function(e){return n.addListener(e),function(){n.removeListener(e)}}]}),[i,t,e]),d=(0,s.Z)(l,2),c=d[0],u=d[1];return re(u,c,o)}function oe(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},t=(0,ee.Z)(),a="undefined"!==typeof window&&"undefined"!==typeof window.matchMedia,r=(0,ne.Z)({name:"MuiUseMediaQuery",props:n,theme:t}),i=r.defaultMatches,o=void 0!==i&&i,s=r.matchMedia,l=void 0===s?a?window.matchMedia:null:s,d=r.ssrMatchMedia,c=void 0===d?null:d,u=r.noSsr;var p="function"===typeof e?e(t):e;p=p.replace(/^@media( ?)/m,"");var h=void 0!==re?ie:ae,f=h(p,o,l,c,u);return f}var se=t(74142);function le(e){var n,t=a.useState(!1),r=(0,s.Z)(t,2),o=r[0],l=r[1],d=(0,i.K)((function(e){return e.deleteApp})),c=oe((0,se.Z)().breakpoints.down("md"));return(0,Z.jsx)("div",{children:(0,Z.jsxs)(b.Z,{fullScreen:c,open:e.open,onClose:function(){},"aria-labelledby":"responsive-dialog-title",children:[(0,Z.jsxs)(y.Z,{id:"responsive-dialog-title",children:["Are you sure want to remove application ",null===(n=e.app)||void 0===n?void 0:n.appName]}),(0,Z.jsx)(Y,{children:(0,Z.jsx)($,{children:"Your app clients(mobile, web) will not be able to send requests to Platform API after deleting the app"})}),(0,Z.jsxs)(U,{children:[(0,Z.jsx)(I.Z,{disabled:o,variant:"contained",autoFocus:!0,onClick:function(){return e.setOpen(!1)},children:"Cancel"}),(0,Z.jsx)(N.Z,{variant:"contained",loading:o,color:"error",onClick:function(){var n;e.app&&null!==(n=e.app)&&void 0!==n&&n._id&&(l(!0),k.P2(e.app._id).then((function(){var n;d(null===(n=e.app)||void 0===n?void 0:n._id),e.setOpen(!1)})).finally((function(){return l(!1)})))},autoFocus:!0,children:"Delete"})]})]})})}function de(e){var n=e.open,t=e.setOpen,r=e.app,o=a.useRef(null),l=(0,a.useState)(!1),d=(0,s.Z)(l,2),c=d[0],u=d[1],p=(0,i.K)((function(e){return e.updateApp})),h=(0,w.TA)({initialValues:{appName:r.appName,appDescription:r.appDescription?r.appDescription:"",appGoogleId:r.appGoogleId?r.appGoogleId:"",defaultAccessProfileOpen:r.defaultAccessProfileOpen,defaultAccessAssetsOpen:r.defaultAccessAssetsOpen,usersCanFree:r.usersCanFree},validate:function(e){var n={};return e.appName||(n.appName="Required"),n},onSubmit:function(e){var n=e.appName,a=e.appDescription,i=e.appGoogleId,s=e.defaultAccessAssetsOpen,l=e.defaultAccessProfileOpen,d=e.usersCanFree;u(!0);var c,h=new FormData;if(o.current){var f=o.current.files;f&&(c=f[0])}c&&h.append("file",c),h.append("appName",n),h.append("appDesctription",a),h.append("appGoogleId",i),h.append("defaultAccessAssetsOpen",s.toString()),h.append("defaultAccessProfileOpen",l.toString()),h.append("usersCanFree",d.toString()),k.KT(r._id,h).then((function(e){p(e.data.app),t(!1)})).finally((function(){return u(!1)}))}});return(0,Z.jsx)(b.Z,{onClose:function(){},open:n,children:(0,Z.jsxs)(v.Z,{children:[(0,Z.jsxs)(y.Z,{style:{display:"flex",justifyContent:"space-between"},children:["Edit App",(0,Z.jsx)(x.Z,{disabled:c,onClick:function(){return t(!1)},children:(0,Z.jsx)(C.Z,{})})]}),(0,Z.jsx)(v.Z,{sx:{width:"100%",typography:"body1",padding:1},children:(0,Z.jsxs)("form",{onSubmit:h.handleSubmit,children:[(0,Z.jsx)(v.Z,{children:(0,Z.jsx)(A.Z,{error:!(!h.touched.appName||!h.errors.appName),helperText:h.touched.appName&&h.errors.appName?h.errors.appName:"",margin:"dense",label:"App Name",name:"appName",variant:"standard",onChange:h.handleChange,onBlur:h.handleBlur,value:h.values.appName})}),(0,Z.jsx)(v.Z,{children:(0,Z.jsx)(A.Z,{margin:"dense",label:"Google Client Id",name:"appGoogleId",variant:"standard",onChange:h.handleChange,onBlur:h.handleBlur,value:h.values.appGoogleId})}),(0,Z.jsxs)(v.Z,{style:{display:"inline-flex",flexDirection:"column"},children:[(0,Z.jsx)(S.Z,{checked:h.values.defaultAccessProfileOpen,name:"defaultAccessProfileOpen",control:(0,Z.jsx)(O.Z,{onChange:function(e){return h.setFieldValue("defaultAccessProfileOpen",e.target.checked)}}),label:"defaultAccessProfileOpen",labelPlacement:"end",onChange:h.handleChange}),(0,Z.jsx)(S.Z,{checked:h.values.defaultAccessAssetsOpen,name:"defaultAccessAssetsOpen",control:(0,Z.jsx)(O.Z,{onChange:function(e){return h.setFieldValue("defaultAccessAssetsOpen",e.target.checked)}}),label:"defaultAccessAssetsOpen",labelPlacement:"end"}),(0,Z.jsx)(S.Z,{checked:h.values.usersCanFree,name:"usersCanFree",control:(0,Z.jsx)(O.Z,{onChange:function(e){return h.setFieldValue("usersCanFree",e.target.checked)}}),label:"usersCanFree",labelPlacement:"end"}),(0,Z.jsx)("input",{ref:o,type:"file",accept:"image/*"}),(0,Z.jsx)(N.Z,{loading:c,variant:"contained",style:{marginTop:"15px"},type:"submit",children:"Update App"})]})]})})]})})}function ce(e){var n,t=a.useState(!1),r=(0,s.Z)(t,2),o=r[0],l=r[1],d=(0,i.K)((function(e){return e.updateApp})),c=oe((0,se.Z)().breakpoints.down("md"));return(0,Z.jsx)("div",{children:(0,Z.jsxs)(b.Z,{fullScreen:c,open:e.open,onClose:function(){},"aria-labelledby":"responsive-dialog-title",children:[(0,Z.jsxs)(y.Z,{id:"responsive-dialog-title",children:["Are you sure want to rotate JWT for application ",null===(n=e.app)||void 0===n?void 0:n.appName]}),(0,Z.jsx)(Y,{children:(0,Z.jsx)($,{children:"You will need to update your app clients(mobile, web) with new App Jwt"})}),(0,Z.jsxs)(U,{children:[(0,Z.jsx)(I.Z,{disabled:o,variant:"contained",autoFocus:!0,onClick:function(){return e.setOpen(!1)},children:"Cancel"}),(0,Z.jsx)(N.Z,{variant:"contained",loading:o,color:"error",onClick:function(){var n;e.app&&null!==(n=e.app)&&void 0!==n&&n._id&&(l(!0),k.oK(e.app._id).then((function(n){d(n.data.app),e.setOpen(!1)})).finally((function(){return l(!1)})))},autoFocus:!0,children:"Rotate"})]})]})})}function ue(){var e=(0,i.K)((function(e){return e.apps})),n=a.useState(!1),t=(0,s.Z)(n,2),r=t[0],o=t[1],b=a.useState(!1),y=(0,s.Z)(b,2),C=y[0],w=y[1],A=a.useState(!1),N=(0,s.Z)(A,2),k=N[0],S=N[1],O=a.useState(!1),I=(0,s.Z)(O,2),F=I[0],R=I[1],M=a.useState({_id:"",appName:"",appDescription:"",appGoogleId:"",defaultAccessProfileOpen:!1,defaultAccessAssetsOpen:!1,usersCanFree:!1}),B=(0,s.Z)(M,2),D=B[0],z=B[1];return(0,Z.jsxs)(u.Z,{component:f.Z,style:{margin:"0 auto"},children:[(0,Z.jsxs)(v.Z,{style:{display:"flex",alignItems:"center"},children:[(0,Z.jsx)(m.Z,{variant:"h6",style:{margin:"16px"},children:"Apps"}),(0,Z.jsx)(x.Z,{onClick:function(){return o(!0)},size:"large",children:(0,Z.jsx)(g.Z,{fontSize:"large"})})]}),0===e.length&&(0,Z.jsxs)(v.Z,{style:{display:"flex",flexDirection:"column",alignItems:"center"},children:[(0,Z.jsx)(j,{}),(0,Z.jsx)(m.Z,{style:{marginTop:"20px",marginBottom:"20px"},children:"You have not created any apps."})]}),e.length>0&&(0,Z.jsxs)(l.Z,{sx:{minWidth:650},"aria-label":"simple table",children:[(0,Z.jsx)(p.Z,{children:(0,Z.jsxs)(h.Z,{children:[(0,Z.jsx)(c.Z,{width:200,children:"Application Name"}),(0,Z.jsx)(c.Z,{align:"right",children:"Is Assets Open"}),(0,Z.jsx)(c.Z,{align:"right",children:"Is Profile Open"}),(0,Z.jsx)(c.Z,{align:"right",children:"Is Users Can Free"}),(0,Z.jsx)(c.Z,{align:"right",children:"Created"}),(0,Z.jsx)(c.Z,{align:"right",children:"Actions"})]})}),(0,Z.jsx)(d.Z,{children:e.map((function(e){return(0,Z.jsxs)(h.Z,{sx:{"&:last-child td, &:last-child th":{border:0}},children:[(0,Z.jsx)(c.Z,{component:"th",scope:"row",children:e.appName}),(0,Z.jsx)(c.Z,{align:"right",children:e.defaultAccessAssetsOpen.toString()}),(0,Z.jsx)(c.Z,{align:"right",children:e.defaultAccessProfileOpen.toString()}),(0,Z.jsx)(c.Z,{align:"right",children:e.usersCanFree.toString()}),(0,Z.jsx)(c.Z,{align:"right",children:new Date(e.createdAt).toDateString()}),(0,Z.jsx)(c.Z,{align:"right",children:(0,Z.jsxs)(v.Z,{style:{display:"flex",flexDirection:"column"},children:[(0,Z.jsx)("a",{href:"/",onClick:function(n){n.preventDefault(),function(e){z(e),w(!0)}(e)},children:"Delete"}),(0,Z.jsx)("a",{href:"data:text/json;chatset=utf-8,".concat(encodeURIComponent(JSON.stringify({appJwt:e.appToken}))),style:{display:"none"},download:"data.json",id:"app-jwt-".concat(e._id),children:"download jwt"}),(0,Z.jsx)("a",{href:"/",onClick:function(n){n.preventDefault();var t=document.querySelector("#app-jwt-".concat(e._id));null===t||void 0===t||t.click()},children:"Download App JWT"}),(0,Z.jsx)("a",{href:"/",onClick:function(n){n.preventDefault(),function(e){z(e),R(!0)}(e)},children:"Rotate App Jwt"}),(0,Z.jsx)("a",{href:"/",onClick:function(n){n.preventDefault(),function(e){z(e),S(!0)}(e)},children:"Edit"})]})})]},e._id)}))})]}),(0,Z.jsx)(P,{open:r,setOpen:o}),(0,Z.jsx)(le,{app:D,open:C,setOpen:w}),(0,Z.jsx)(ce,{app:D,open:F,setOpen:R}),k&&(0,Z.jsx)(de,{app:D,open:k,setOpen:S})]})}var pe=t(74165),he=t(15861),fe=t(31766),ve=t(63381),me=t(65348),xe=t(81898),ge=t(79365),Ze=t(63818);function je(e){var n,t=e.open,r=e.setOpen,o=(0,i.K)((function(e){return e.apps})),l=(0,i.K)((function(e){return e.addAppUsers})),d=(0,a.useState)(!1),c=(0,s.Z)(d,2),u=c[0],p=c[1],h=(0,w.TA)({initialValues:{firstName:"",lastName:"",username:"",password:"",appId:null===(n=o[0])||void 0===n?void 0:n._id},validate:function(e){var n={};return e.firstName||(n.firstName="Required"),e.lastName||(n.lastName="Required"),e.username||(n.username="Required"),e.password||(n.password="Required"),n},onSubmit:function(e){var n=e.username,t=e.firstName,a=e.lastName,i=e.password,s=e.appId;p(!0);var d=o.find((function(e){return e._id===s}));k.dd(n,i,t,a,null===d||void 0===d?void 0:d.appToken).then((function(e){l([e.data.user]),r(!1)}))}});return 0===o.length?(0,Z.jsxs)(b.Z,{open:t,onClose:function(){},"aria-labelledby":"responsive-dialog-title",children:[(0,Z.jsx)(y.Z,{id:"responsive-dialog-title",children:"There is no apps"}),(0,Z.jsx)(Y,{children:(0,Z.jsx)($,{children:"You should create app first please!"})}),(0,Z.jsx)(U,{children:(0,Z.jsx)(I.Z,{disabled:u,variant:"contained",autoFocus:!0,onClick:function(){return r(!1)},children:"Close"})})]}):(0,Z.jsx)(b.Z,{onClose:function(){},open:t,children:(0,Z.jsxs)(v.Z,{style:{width:"400px"},children:[(0,Z.jsxs)(y.Z,{style:{display:"flex",justifyContent:"space-between"},children:["New User",(0,Z.jsx)(x.Z,{disabled:u,onClick:function(){return r(!1)},children:(0,Z.jsx)(C.Z,{})})]}),(0,Z.jsx)(v.Z,{sx:{width:"100%",typography:"body1",padding:1},children:(0,Z.jsxs)("form",{onSubmit:h.handleSubmit,children:[(0,Z.jsx)(v.Z,{children:(0,Z.jsxs)(xe.Z,{fullWidth:!0,children:[(0,Z.jsx)(ge.Z,{variant:"standard",htmlFor:"uncontrolled-native",children:"App"}),(0,Z.jsx)(Ze.Z,{inputProps:{name:"appName",id:"uncontrolled-native"},onChange:function(e){h.setFieldValue("appId",e.target.value)},children:o.map((function(e){return(0,Z.jsx)("option",{value:e._id,children:e.appName},e._id)}))})]})}),(0,Z.jsxs)(v.Z,{children:[(0,Z.jsx)(A.Z,{fullWidth:!0,error:!(!h.touched.firstName||!h.errors.firstName),helperText:h.touched.firstName&&h.errors.firstName?h.errors.firstName:"",margin:"dense",label:"First Name",name:"firstName",variant:"standard",onChange:h.handleChange,onBlur:h.handleBlur,value:h.values.firstName}),(0,Z.jsx)(A.Z,{fullWidth:!0,error:!(!h.touched.lastName||!h.errors.lastName),helperText:h.touched.lastName&&h.errors.lastName?h.errors.lastName:"",margin:"dense",label:"Last Name",name:"lastName",variant:"standard",onChange:h.handleChange,onBlur:h.handleBlur,value:h.values.lastName}),(0,Z.jsx)(A.Z,{fullWidth:!0,error:!(!h.touched.lastName||!h.errors.username),helperText:h.touched.username&&h.errors.username?h.errors.username:"",margin:"dense",label:"Username",name:"username",variant:"standard",onChange:h.handleChange,onBlur:h.handleBlur,value:h.values.username}),(0,Z.jsx)(A.Z,{fullWidth:!0,error:!(!h.touched.password||!h.errors.password),helperText:h.touched.password&&h.errors.password?h.errors.password:"",margin:"dense",label:"Password",name:"password",variant:"standard",onChange:h.handleChange,onBlur:h.handleBlur,value:h.values.password})]}),(0,Z.jsx)(v.Z,{style:{display:"inline-flex",margin:"0 auto",flexDirection:"column"},children:(0,Z.jsx)(N.Z,{loading:u,variant:"contained",style:{marginTop:"15px"},type:"submit",disabled:u,children:"Create New User"})})]})})]})})}function be(e){return(0,T.Z)("MuiPagination",e)}(0,L.Z)("MuiPagination",["root","ul","outlined","text"]);var ye=t(42982),Ce=t(58959),we=["boundaryCount","componentName","count","defaultPage","disabled","hideNextButton","hidePrevButton","onChange","page","showFirstButton","showLastButton","siblingCount"];var Ae=t(12065);function Ne(e){return(0,T.Z)("MuiPaginationItem",e)}var ke=(0,L.Z)("MuiPaginationItem",["root","page","sizeSmall","sizeLarge","text","textPrimary","textSecondary","outlined","outlinedPrimary","outlinedSecondary","rounded","ellipsis","firstLast","previousNext","focusVisible","disabled","selected","icon"]),Se=t(60753),Oe=t(49853),Pe=t(81245),Ie=(0,Pe.Z)((0,Z.jsx)("path",{d:"M18.41 16.59L13.82 12l4.59-4.59L17 6l-6 6 6 6zM6 6h2v12H6z"}),"FirstPage"),Fe=(0,Pe.Z)((0,Z.jsx)("path",{d:"M5.59 7.41L10.18 12l-4.59 4.59L7 18l6-6-6-6zM16 6h2v12h-2z"}),"LastPage"),Re=(0,Pe.Z)((0,Z.jsx)("path",{d:"M15.41 7.41L14 6l-6 6 6 6 1.41-1.41L10.83 12z"}),"NavigateBefore"),Me=(0,Pe.Z)((0,Z.jsx)("path",{d:"M10 6L8.59 7.41 13.17 12l-4.58 4.59L10 18l6-6z"}),"NavigateNext"),Be=["className","color","component","components","disabled","page","selected","shape","size","type","variant"],De=function(e,n){var t=e.ownerState;return[n.root,n[t.variant],n["size".concat((0,Oe.Z)(t.size))],"text"===t.variant&&n["text".concat((0,Oe.Z)(t.color))],"outlined"===t.variant&&n["outlined".concat((0,Oe.Z)(t.color))],"rounded"===t.shape&&n.rounded,"page"===t.type&&n.page,("start-ellipsis"===t.type||"end-ellipsis"===t.type)&&n.ellipsis,("previous"===t.type||"next"===t.type)&&n.previousNext,("first"===t.type||"last"===t.type)&&n.firstLast]},ze=(0,D.ZP)("div",{name:"MuiPaginationItem",slot:"Root",overridesResolver:De})((function(e){var n=e.theme,t=e.ownerState;return(0,R.Z)({},n.typography.body2,(0,V.Z)({borderRadius:16,textAlign:"center",boxSizing:"border-box",minWidth:32,padding:"0 6px",margin:"0 3px",color:(n.vars||n).palette.text.primary,height:"auto"},"&.".concat(ke.disabled),{opacity:(n.vars||n).palette.action.disabledOpacity}),"small"===t.size&&{minWidth:26,borderRadius:13,margin:"0 1px",padding:"0 4px"},"large"===t.size&&{minWidth:40,borderRadius:20,padding:"0 10px",fontSize:n.typography.pxToRem(15)})})),Te=(0,D.ZP)(Se.Z,{name:"MuiPaginationItem",slot:"Root",overridesResolver:De})((function(e){var n,t,a=e.theme,r=e.ownerState;return(0,R.Z)({},a.typography.body2,(t={borderRadius:16,textAlign:"center",boxSizing:"border-box",minWidth:32,height:32,padding:"0 6px",margin:"0 3px",color:(a.vars||a).palette.text.primary},(0,V.Z)(t,"&.".concat(ke.focusVisible),{backgroundColor:(a.vars||a).palette.action.focus}),(0,V.Z)(t,"&.".concat(ke.disabled),{opacity:(a.vars||a).palette.action.disabledOpacity}),(0,V.Z)(t,"transition",a.transitions.create(["color","background-color"],{duration:a.transitions.duration.short})),(0,V.Z)(t,"&:hover",{backgroundColor:(a.vars||a).palette.action.hover,"@media (hover: none)":{backgroundColor:"transparent"}}),(0,V.Z)(t,"&.".concat(ke.selected),(n={backgroundColor:(a.vars||a).palette.action.selected,"&:hover":{backgroundColor:a.vars?"rgba(".concat(a.vars.palette.action.selected," / calc(").concat(a.vars.palette.action.selectedOpacity," + ").concat(a.vars.palette.action.hoverOpacity,"))"):(0,Ae.Fq)(a.palette.action.selected,a.palette.action.selectedOpacity+a.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:(a.vars||a).palette.action.selected}}},(0,V.Z)(n,"&.".concat(ke.focusVisible),{backgroundColor:a.vars?"rgba(".concat(a.vars.palette.action.selected," / calc(").concat(a.vars.palette.action.selectedOpacity," + ").concat(a.vars.palette.action.focusOpacity,"))"):(0,Ae.Fq)(a.palette.action.selected,a.palette.action.selectedOpacity+a.palette.action.focusOpacity)}),(0,V.Z)(n,"&.".concat(ke.disabled),{opacity:1,color:(a.vars||a).palette.action.disabled,backgroundColor:(a.vars||a).palette.action.selected}),n)),t),"small"===r.size&&{minWidth:26,height:26,borderRadius:13,margin:"0 1px",padding:"0 4px"},"large"===r.size&&{minWidth:40,height:40,borderRadius:20,padding:"0 10px",fontSize:a.typography.pxToRem(15)},"rounded"===r.shape&&{borderRadius:(a.vars||a).shape.borderRadius})}),(function(e){var n=e.theme,t=e.ownerState;return(0,R.Z)({},"text"===t.variant&&(0,V.Z)({},"&.".concat(ke.selected),(0,R.Z)({},"standard"!==t.color&&(0,V.Z)({color:(n.vars||n).palette[t.color].contrastText,backgroundColor:(n.vars||n).palette[t.color].main,"&:hover":{backgroundColor:(n.vars||n).palette[t.color].dark,"@media (hover: none)":{backgroundColor:(n.vars||n).palette[t.color].main}}},"&.".concat(ke.focusVisible),{backgroundColor:(n.vars||n).palette[t.color].dark}),(0,V.Z)({},"&.".concat(ke.disabled),{color:(n.vars||n).palette.action.disabled}))),"outlined"===t.variant&&(0,V.Z)({border:n.vars?"1px solid rgba(".concat(n.vars.palette.common.onBackgroundChannel," / 0.23)"):"1px solid ".concat("light"===n.palette.mode?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)")},"&.".concat(ke.selected),(0,R.Z)({},"standard"!==t.color&&(0,V.Z)({color:(n.vars||n).palette[t.color].main,border:"1px solid ".concat(n.vars?"rgba(".concat(n.vars.palette[t.color].mainChannel," / 0.5)"):(0,Ae.Fq)(n.palette[t.color].main,.5)),backgroundColor:n.vars?"rgba(".concat(n.vars.palette[t.color].mainChannel," / ").concat(n.vars.palette.action.activatedOpacity,")"):(0,Ae.Fq)(n.palette[t.color].main,n.palette.action.activatedOpacity),"&:hover":{backgroundColor:n.vars?"rgba(".concat(n.vars.palette[t.color].mainChannel," / calc(").concat(n.vars.palette.action.activatedOpacity," + ").concat(n.vars.palette.action.focusOpacity,"))"):(0,Ae.Fq)(n.palette[t.color].main,n.palette.action.activatedOpacity+n.palette.action.focusOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},"&.".concat(ke.focusVisible),{backgroundColor:n.vars?"rgba(".concat(n.vars.palette[t.color].mainChannel," / calc(").concat(n.vars.palette.action.activatedOpacity," + ").concat(n.vars.palette.action.focusOpacity,"))"):(0,Ae.Fq)(n.palette[t.color].main,n.palette.action.activatedOpacity+n.palette.action.focusOpacity)}),(0,V.Z)({},"&.".concat(ke.disabled),{borderColor:(n.vars||n).palette.action.disabledBackground,color:(n.vars||n).palette.action.disabled}))))})),Le=(0,D.ZP)("div",{name:"MuiPaginationItem",slot:"Icon",overridesResolver:function(e,n){return n.icon}})((function(e){var n=e.theme,t=e.ownerState;return(0,R.Z)({fontSize:n.typography.pxToRem(20),margin:"0 -8px"},"small"===t.size&&{fontSize:n.typography.pxToRem(18)},"large"===t.size&&{fontSize:n.typography.pxToRem(22)})})),_e=a.forwardRef((function(e,n){var t=(0,z.Z)({props:e,name:"MuiPaginationItem"}),a=t.className,r=t.color,i=void 0===r?"standard":r,o=t.component,s=t.components,l=void 0===s?{first:Ie,last:Fe,next:Me,previous:Re}:s,d=t.disabled,c=void 0!==d&&d,u=t.page,p=t.selected,h=void 0!==p&&p,f=t.shape,v=void 0===f?"circular":f,m=t.size,x=void 0===m?"medium":m,g=t.type,j=void 0===g?"page":g,b=t.variant,y=void 0===b?"text":b,C=(0,F.Z)(t,Be),w=(0,R.Z)({},t,{color:i,disabled:c,selected:h,shape:v,size:x,type:j,variant:y}),A=(0,se.Z)(),N=function(e){var n=e.classes,t=e.color,a=e.disabled,r=e.selected,i=e.size,o=e.shape,s=e.type,l=e.variant,d={root:["root","size".concat((0,Oe.Z)(i)),l,o,"standard"!==t&&"".concat(l).concat((0,Oe.Z)(t)),a&&"disabled",r&&"selected",{page:"page",first:"firstLast",last:"firstLast","start-ellipsis":"ellipsis","end-ellipsis":"ellipsis",previous:"previousNext",next:"previousNext"}[s]],icon:["icon"]};return(0,B.Z)(d,Ne,n)}(w),k=("rtl"===A.direction?{previous:l.next||Me,next:l.previous||Re,last:l.first||Ie,first:l.last||Fe}:{previous:l.previous||Re,next:l.next||Me,first:l.first||Ie,last:l.last||Fe})[j];return"start-ellipsis"===j||"end-ellipsis"===j?(0,Z.jsx)(ze,{ref:n,ownerState:w,className:(0,M.Z)(N.root,a),children:"\u2026"}):(0,Z.jsxs)(Te,(0,R.Z)({ref:n,ownerState:w,component:o,disabled:c,className:(0,M.Z)(N.root,a)},C,{children:["page"===j&&u,k?(0,Z.jsx)(Le,{as:k,ownerState:w,className:N.icon}):null]}))})),We=["boundaryCount","className","color","count","defaultPage","disabled","getItemAriaLabel","hideNextButton","hidePrevButton","onChange","page","renderItem","shape","showFirstButton","showLastButton","siblingCount","size","variant"],Ge=(0,D.ZP)("nav",{name:"MuiPagination",slot:"Root",overridesResolver:function(e,n){var t=e.ownerState;return[n.root,n[t.variant]]}})({}),Ue=(0,D.ZP)("ul",{name:"MuiPagination",slot:"Ul",overridesResolver:function(e,n){return n.ul}})({display:"flex",flexWrap:"wrap",alignItems:"center",padding:0,margin:0,listStyle:"none"});function Ve(e,n,t){return"page"===e?"".concat(t?"":"Go to ","page ").concat(n):"Go to ".concat(e," page")}var qe=a.forwardRef((function(e,n){var t=(0,z.Z)({props:e,name:"MuiPagination"}),a=t.boundaryCount,r=void 0===a?1:a,i=t.className,o=t.color,l=void 0===o?"standard":o,d=t.count,c=void 0===d?1:d,u=t.defaultPage,p=void 0===u?1:u,h=t.disabled,f=void 0!==h&&h,v=t.getItemAriaLabel,m=void 0===v?Ve:v,x=t.hideNextButton,g=void 0!==x&&x,j=t.hidePrevButton,b=void 0!==j&&j,y=t.renderItem,C=void 0===y?function(e){return(0,Z.jsx)(_e,(0,R.Z)({},e))}:y,w=t.shape,A=void 0===w?"circular":w,N=t.showFirstButton,k=void 0!==N&&N,S=t.showLastButton,O=void 0!==S&&S,P=t.siblingCount,I=void 0===P?1:P,D=t.size,T=void 0===D?"medium":D,L=t.variant,_=void 0===L?"text":L,W=(0,F.Z)(t,We),G=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=e.boundaryCount,t=void 0===n?1:n,a=e.componentName,r=void 0===a?"usePagination":a,i=e.count,o=void 0===i?1:i,l=e.defaultPage,d=void 0===l?1:l,c=e.disabled,u=void 0!==c&&c,p=e.hideNextButton,h=void 0!==p&&p,f=e.hidePrevButton,v=void 0!==f&&f,m=e.onChange,x=e.page,g=e.showFirstButton,Z=void 0!==g&&g,j=e.showLastButton,b=void 0!==j&&j,y=e.siblingCount,C=void 0===y?1:y,w=(0,F.Z)(e,we),A=(0,Ce.Z)({controlled:x,default:d,name:r,state:"page"}),N=(0,s.Z)(A,2),k=N[0],S=N[1],O=function(e,n){x||S(n),m&&m(e,n)},P=function(e,n){var t=n-e+1;return Array.from({length:t},(function(n,t){return e+t}))},I=P(1,Math.min(t,o)),M=P(Math.max(o-t+1,t+1),o),B=Math.max(Math.min(k-C,o-t-2*C-1),t+2),D=Math.min(Math.max(k+C,t+2*C+2),M.length>0?M[0]-2:o-1),z=[].concat((0,ye.Z)(Z?["first"]:[]),(0,ye.Z)(v?[]:["previous"]),(0,ye.Z)(I),(0,ye.Z)(B>t+2?["start-ellipsis"]:t+1<o-t?[t+1]:[]),(0,ye.Z)(P(B,D)),(0,ye.Z)(D<o-t-1?["end-ellipsis"]:o-t>t?[o-t]:[]),(0,ye.Z)(M),(0,ye.Z)(h?[]:["next"]),(0,ye.Z)(b?["last"]:[])),T=function(e){switch(e){case"first":return 1;case"previous":return k-1;case"next":return k+1;case"last":return o;default:return null}},L=z.map((function(e){return"number"===typeof e?{onClick:function(n){O(n,e)},type:"page",page:e,selected:e===k,disabled:u,"aria-current":e===k?"true":void 0}:{onClick:function(n){O(n,T(e))},type:e,page:T(e),selected:!1,disabled:u||-1===e.indexOf("ellipsis")&&("next"===e||"last"===e?k>=o:k<=1)}}));return(0,R.Z)({items:L},w)}((0,R.Z)({},t,{componentName:"Pagination"})),U=G.items,V=(0,R.Z)({},t,{boundaryCount:r,color:l,count:c,defaultPage:p,disabled:f,getItemAriaLabel:m,hideNextButton:g,hidePrevButton:b,renderItem:C,shape:A,showFirstButton:k,showLastButton:O,siblingCount:I,size:T,variant:_}),q=function(e){var n=e.classes,t={root:["root",e.variant],ul:["ul"]};return(0,B.Z)(t,be,n)}(V);return(0,Z.jsx)(Ge,(0,R.Z)({"aria-label":"pagination navigation",className:(0,M.Z)(q.root,i),ownerState:V,ref:n},W,{children:(0,Z.jsx)(Ue,{className:q.ul,ownerState:V,children:U.map((function(e,n){return(0,Z.jsx)("li",{children:C((0,R.Z)({},e,{color:l,"aria-label":m(e.type,e.page,e.selected),shape:A,size:T,variant:_}))},n)}))})}))})),Ke=qe,Ee=t(1413),Je=t(52791),Ye=t(11302),He={inputProps:{"aria-label":"Checkbox"}},Qe=function(e,n){return!!e&&!!e.find((function(e){return e===n}))},Xe=function(e){var n=e.name,t=e.row,a=e.onChange,r=e.disableAllRow,o=(0,i.K)((function(e){var n;return null===(n=e.user)||void 0===n?void 0:n.ACL.ownerAccess}));return(0,Z.jsxs)(h.Z,{sx:{"&:last-child td, &:last-child th":{border:0}},children:[(0,Z.jsx)(c.Z,{component:"th",scope:"row",children:n}),(0,Z.jsx)(c.Z,{style:{backgroundColor:Qe(null===t||void 0===t?void 0:t.disabled,"create")?"lightgrey":"white"},align:"left",children:(0,Z.jsx)(O.Z,(0,Ee.Z)({checked:null===t||void 0===t?void 0:t.create,name:"create",disabled:(Qe(null===t||void 0===t?void 0:t.disabled,"create")||r)&&!o,onChange:function(e){return a(e,n)}},He))}),(0,Z.jsx)(c.Z,{style:{backgroundColor:Qe(null===t||void 0===t?void 0:t.disabled,"read")?"lightgrey":"white"},align:"left",children:(0,Z.jsx)(O.Z,(0,Ee.Z)({name:"read",onChange:function(e){return a(e,n)},disabled:Qe(null===t||void 0===t?void 0:t.disabled,"read")||r,checked:null===t||void 0===t?void 0:t.read},He))}),(0,Z.jsx)(c.Z,{style:{backgroundColor:Qe(null===t||void 0===t?void 0:t.disabled,"update")?"lightgrey":"white"},align:"left",children:(0,Z.jsx)(O.Z,(0,Ee.Z)({name:"update",onChange:function(e){return a(e,n)},disabled:Qe(null===t||void 0===t?void 0:t.disabled,"update")||r,checked:null===t||void 0===t?void 0:t.update},He))}),(0,Z.jsx)(c.Z,{style:{backgroundColor:Qe(null===t||void 0===t?void 0:t.disabled,"delete")?"lightgrey":"white"},align:"left",children:(0,Z.jsx)(O.Z,(0,Ee.Z)({name:"delete",onChange:function(e){return a(e,n)},disabled:Qe(null===t||void 0===t?void 0:t.disabled,"delete")||r,checked:null===t||void 0===t?void 0:t.delete},He))}),(0,Z.jsx)(c.Z,{style:{backgroundColor:Qe(null===t||void 0===t?void 0:t.disabled,"admin")?"lightgrey":"white"},align:"left",children:(0,Z.jsx)(O.Z,(0,Ee.Z)({name:"admin",onChange:function(e){return a(e,n)},disabled:Qe(null===t||void 0===t?void 0:t.disabled,"admin")||r,checked:null===t||void 0===t?void 0:t.admin},He))})]})},$e=function(e){var n=e.userId,t=e.updateData,r=(0,a.useState)(),o=(0,s.Z)(r,2),v=o[0],x=o[1],g=(0,a.useState)([]),j=(0,s.Z)(g,2),b=j[0],y=j[1],C=(0,a.useState)([]),w=(0,s.Z)(C,2),A=(w[0],w[1]),N=(0,i.K)((function(e){return e.ACL})),S=(0,a.useState)(!1),O=(0,s.Z)(S,2),P=O[0],F=O[1];(0,a.useEffect)((function(){console.log("userAclApplicationKeys ",b)}),[b]);var R=function(){var e=(0,he.Z)((0,pe.Z)().mark((function e(){var t,a,r,i;return(0,pe.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return F(!0),e.prev=1,e.next=4,(0,k.wX)(n);case 4:t=e.sent,a=t.data,console.log("getAcl ",a),x(a),r=Object.keys(a.result.application),i=Object.keys(a.result.network),y(r),A(i),e.next=17;break;case 14:e.prev=14,e.t0=e.catch(1),console.log(e.t0);case 17:F(!1);case 18:case"end":return e.stop()}}),e,null,[[1,14]])})));return function(){return e.apply(this,arguments)}}(),M=function(e,n){x((function(t){return{result:(0,Ee.Z)((0,Ee.Z)({},t.result),{},{application:(0,Ee.Z)((0,Ee.Z)({},t.result.application),{},(0,V.Z)({},n,(0,Ee.Z)((0,Ee.Z)({},t.result.application[n]),{},(0,V.Z)({},e.target.name,e.target.checked))))})}}))},B=function(){var e=(0,he.Z)((0,pe.Z)().mark((function e(){var a,r,i,o,s;return(0,pe.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return F(!0),e.prev=1,a=Object.fromEntries(Object.entries(v.result.application).map((function(e){return delete e[1].disabled,e}))),r=Object.fromEntries(Object.entries(v.result.network).map((function(e){return delete e[1].disabled,e}))),i={application:a,network:r},e.next=7,(0,k.eU)(n,i);case 7:o=e.sent,s=o.data,t&&t(s),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(1),console.log(e.t0);case 15:F(!1);case 16:case"end":return e.stop()}}),e,null,[[1,12]])})));return function(){return e.apply(this,arguments)}}();return(0,a.useEffect)((function(){R()}),[]),P?(0,Z.jsx)(Ye.A,{}):(0,Z.jsxs)(Z.Fragment,{children:[(0,Z.jsx)(m.Z,{marginBottom:"10px",fontWeight:"bold",children:"Applications"}),(0,Z.jsx)(u.Z,{component:f.Z,children:(0,Z.jsxs)(l.Z,{size:"small",sx:{minWidth:650},"aria-label":"simple table",children:[(0,Z.jsx)(p.Z,{children:(0,Z.jsxs)(h.Z,{children:[(0,Z.jsx)(c.Z,{children:"Name"}),(0,Z.jsx)(c.Z,{children:"Create"}),(0,Z.jsx)(c.Z,{align:"left",children:"Read"}),(0,Z.jsx)(c.Z,{align:"left",children:"Update"}),(0,Z.jsx)(c.Z,{align:"left",children:"Delete"}),(0,Z.jsx)(c.Z,{align:"left",children:"Admin"})]})}),(0,Z.jsx)(d.Z,{children:N.result&&b.map((function(e){var n,t=v.result.application[e],a=N.result.application[e];return(0,Z.jsx)(Xe,{disableAllRow:(n=a,!(n&&Object.entries(n).find((function(e){return"admin"===e[0]&&!!e[1]})))),onChange:M,name:e,row:t},e)}))})]})}),(0,Z.jsx)(m.Z,{marginBottom:"10px",marginTop:"10px",fontWeight:"bold",children:"Networks"}),(0,Z.jsx)(u.Z,{component:f.Z,children:(0,Z.jsxs)(l.Z,{size:"small",sx:{minWidth:650},"aria-label":"simple table",children:[(0,Z.jsx)(p.Z,{children:(0,Z.jsxs)(h.Z,{children:[(0,Z.jsx)(c.Z,{children:"Name"}),(0,Z.jsx)(c.Z,{children:"Create"}),(0,Z.jsx)(c.Z,{align:"left",children:"Read"}),(0,Z.jsx)(c.Z,{align:"left",children:"Update"}),(0,Z.jsx)(c.Z,{align:"left",children:"Delete"}),(0,Z.jsx)(c.Z,{align:"left",children:"Admin"})]})}),(0,Z.jsx)(d.Z,{})]})}),(0,Z.jsx)(Je.Z,{sx:{display:"flex",width:"100%",justifyContent:"flex-end",marginTop:"20px"},children:(0,Z.jsx)(I.Z,{variant:"contained",onClick:B,children:"Update Acl"})})]})},en={position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:"70vw",bgcolor:"background.paper",boxShadow:24,borderRadius:"10px",p:4};function nn(){var e=(0,i.K)((function(e){return e.apps})),n=a.useState(!1),t=(0,s.Z)(n,2),r=t[0],o=t[1],b=a.useState([]),y=(0,s.Z)(b,2),w=y[0],A=y[1],N=a.useState(),S=(0,s.Z)(N,2),O=S[0],P=S[1],I=a.useState({modalOpen:!1,userId:""}),F=(0,s.Z)(I,2),R=F[0],M=F[1],B=a.useState(),D=(0,s.Z)(B,2),z=D[0],T=D[1],L=function(){var e=(0,he.Z)((0,pe.Z)().mark((function e(n){var t,a,r,i,o=arguments;return(0,pe.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=o.length>1&&void 0!==o[1]?o[1]:10,a=o.length>2&&void 0!==o[2]?o[2]:0,e.prev=2,!n){e.next=10;break}return e.next=6,k.ES(n,t,a);case 6:return r=e.sent,i=r.data,T({limit:i.limit,offset:i.offset,total:i.total}),e.abrupt("return",i.items);case 10:e.next=14;break;case 12:e.prev=12,e.t0=e.catch(2);case 14:return e.abrupt("return",[]);case 15:case"end":return e.stop()}}),e,null,[[2,12]])})));return function(n){return e.apply(this,arguments)}}();a.useEffect((function(){e.length&&(P(e[0]._id),L(e[0]._id).then((function(e){A(e)})))}),[e]);var _=function(){return M({modalOpen:!1,userId:""})};return(0,Z.jsxs)(u.Z,{component:f.Z,style:{margin:"0 auto"},children:[(0,Z.jsxs)(v.Z,{style:{display:"flex",alignItems:"center"},children:[(0,Z.jsx)(m.Z,{variant:"h6",style:{margin:"16px"},children:"Users"}),O?(0,Z.jsxs)(xe.Z,{variant:"standard",sx:{m:1,minWidth:120},children:[(0,Z.jsx)(ge.Z,{id:"demo-simple-select-label",children:"App"}),(0,Z.jsx)(ve.Z,{labelId:"demo-simple-select-label",id:"demo-simple-select",label:"App",value:O,onChange:function(e){P(e.target.value),L(e.target.value).then((function(e){A(e)}))},children:e.map((function(e){return(0,Z.jsx)(me.Z,{value:e._id,children:e.appName},e._id)}))})]}):null,(0,Z.jsx)(x.Z,{onClick:function(){return o(!0)},size:"large",children:(0,Z.jsx)(g.Z,{fontSize:"large"})})]}),0===w.length&&(0,Z.jsxs)(v.Z,{style:{display:"flex",flexDirection:"column",alignItems:"center"},children:[(0,Z.jsx)(j,{}),(0,Z.jsx)(m.Z,{style:{marginTop:"20px",marginBottom:"20px"},children:"Users not found."})]}),w.length>0&&(0,Z.jsxs)(l.Z,{"aria-label":"simple table",children:[(0,Z.jsx)(p.Z,{children:(0,Z.jsxs)(h.Z,{children:[(0,Z.jsx)(c.Z,{width:200,children:"appId"}),(0,Z.jsx)(c.Z,{align:"right",children:"firstName"}),(0,Z.jsx)(c.Z,{align:"right",children:"lastName"}),(0,Z.jsx)(c.Z,{align:"right",children:"username"}),(0,Z.jsx)(c.Z,{align:"right",children:"email"}),(0,Z.jsx)(c.Z,{align:"right",children:"Actions"})]})}),(0,Z.jsxs)(d.Z,{children:[w.map((function(e){return(0,Z.jsxs)(h.Z,{sx:{"&:last-child td, &:last-child th":{border:0}},children:[(0,Z.jsx)(c.Z,{component:"th",scope:"row",children:e.appId}),(0,Z.jsx)(c.Z,{align:"right",children:e.firstName}),(0,Z.jsx)(c.Z,{align:"right",children:e.lastName}),(0,Z.jsx)(c.Z,{align:"right",children:e.username?e.username:"-"}),(0,Z.jsx)(c.Z,{align:"right",children:e.email?e.email:"-"}),(0,Z.jsx)(c.Z,{align:"right",children:(0,Z.jsxs)(v.Z,{sx:{width:"200px"},children:[(0,Z.jsx)(m.Z,{children:"Edit"}),(0,Z.jsx)(m.Z,{style:{cursor:"pointer",textDecoration:"underline"},onClick:function(){return n=e._id,M({modalOpen:!0,userId:n});var n},children:"Edit ACL"})]})})]},e._id)})),(null===z||void 0===z?void 0:z.total)&&(0,Z.jsx)(h.Z,{children:(0,Z.jsx)(c.Z,{colSpan:6,children:(0,Z.jsx)(Ke,{onChange:function(e,n){var t=0;n-1>0&&(t=(n-1)*((null===z||void 0===z?void 0:z.limit)||10)),L(O||null,(null===z||void 0===z?void 0:z.limit)||10,t).then((function(e){return A(e)}))},count:Math.ceil(z.total/z.limit)})})})]})]}),(0,Z.jsx)(je,{open:r,setOpen:o}),(0,Z.jsx)(fe.Z,{open:R.modalOpen,onClose:_,"aria-labelledby":"modal-modal-title","aria-describedby":"modal-modal-description",children:(0,Z.jsxs)(v.Z,{sx:en,children:[(0,Z.jsx)($e,{updateData:function(e){var n=w,t=n.findIndex((function(e){return e._id===R.userId}));n[t]._id=e.result.userId,A(n)},userId:R.userId}),(0,Z.jsx)(x.Z,{onClick:_,sx:{position:"absolute",top:0,right:0,color:"black"},children:(0,Z.jsx)(C.Z,{fontSize:"large"})})]})})]})}var tn=t(57020);function an(){var e=(0,i.K)((function(e){return e.user})),n=(0,o.k6)();return a.useEffect((function(){e.firstName||(console.log("!owner.firstName"),n.push("/"))}),[e,n]),(0,Z.jsx)("div",{style:{backgroundColor:"#edf0f4",padding:"20px"},children:(0,Z.jsxs)(tn.Z,{maxWidth:"lg",children:[(0,Z.jsx)(v.Z,{style:{marginTop:"20px"},children:(0,Z.jsx)(ue,{})}),(0,Z.jsx)(v.Z,{style:{marginTop:"20px"},children:(0,Z.jsx)(nn,{})})]})})}}}]);
//# sourceMappingURL=504.009ad485.chunk.js.map