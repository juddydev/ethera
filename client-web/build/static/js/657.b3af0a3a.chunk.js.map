{"version":3,"file":"static/js/657.b3af0a3a.chunk.js","mappings":"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","sources":["helpers/chat/createPrivateChat.ts","componets/Chat/Messages/Message.tsx","componets/Chat/Messages/SystemMessage.tsx","pages/ChatInRoom/Chat.tsx","pages/ChatInRoom/index.tsx"],"sourcesContent":["import xmpp from \"../../xmpp\";\nimport {useStoreState} from \"../../store\";\n\nexport const underscoreManipulation = (str:string) => {\n    if(str){\n        return str.replace(/([A-Z])/g, '_$1').toLowerCase()\n    }else{\n        return 'invalid string passed'\n    }\n};\n\nexport const createPrivateChat = async (\n    myWalletAddress: string,\n    otherUserWalletAddress: string,\n    myFirstName: string,\n    otherFirstName: string,\n    CONFERENCEDOMAIN: string,\n    userJID?: string\n) => {\n    const combinedWalletAddress = [myWalletAddress, otherUserWalletAddress]\n        .sort()\n        .join('.');\n\n    const roomJid = combinedWalletAddress.toLowerCase() + CONFERENCEDOMAIN;\n    const combinedUsersName = [myFirstName, otherFirstName].sort().join(' and ');\n\n    const currentChatRooms = useStoreState.getState().userChatRooms;\n\n    let isNewRoom = false;\n    if(currentChatRooms.filter((el) => el.jid === roomJid).length === 0){\n        isNewRoom = true;\n        xmpp.createNewRoom(combinedWalletAddress.toLowerCase());\n        xmpp.setOwner(combinedWalletAddress.toLowerCase());\n        xmpp.roomConfig(\n            combinedWalletAddress.toLowerCase(),\n            {roomName: combinedUsersName},\n        );\n        xmpp.subsribe(roomJid);\n        xmpp.presenceInRoom(roomJid);\n\n        setTimeout(() => {\n            xmpp.sendInvite(\n                underscoreManipulation(myWalletAddress),\n                roomJid.toLowerCase(),\n                underscoreManipulation(otherUserWalletAddress),\n            );\n        }, 1000);\n    }\n\n    return {roomJid, roomName: combinedUsersName, isNewRoom};\n};\n","import React, { useEffect, useState } from \"react\";\nimport {\n  Message as KitMessage,\n  MessageModel,\n  MessageSeparator,\n} from \"@chatscope/chat-ui-kit-react\";\nimport { differenceInHours, format, formatDistance, subDays } from \"date-fns\";\nimport { TMessageHistory, useStoreState } from \"../../../store\";\nimport { useHistory } from \"react-router\";\nimport {\n  Card,\n  CardActionArea,\n  CardMedia,\n  Dialog,\n  DialogContent, Divider, Button,\n  IconButton,\n  Slider,\n  Typography,\n} from \"@mui/material\";\nimport MoreVertIcon from \"@mui/icons-material/MoreVert\";\nimport { transferCoin } from \"../../../http\";\nimport xmpp from \"../../../xmpp\";\nimport { createPrivateChat } from \"../../../helpers/chat/createPrivateChat\";\nimport coin from \"../../../assets/images/coin.png\";\nimport { Box } from \"@mui/system\";\nimport SendIcon from '@mui/icons-material/Send';\nimport BlockIcon from '@mui/icons-material/Block';\n\nexport interface IMessage {\n  message: TMessageHistory;\n  userJid: string;\n  position: {\n    type: string;\n    position: MessageModel[\"position\"];\n    separator?: string;\n  };\n  is?: string;\n  buttonSender: any;\n  chooseDirectRoom: any;\n}\n\nexport interface IButtons {\n  name: string;\n  notDisplayedValue: string;\n  value: string;\n}\n\ntype IDialog = \"dialog\" | \"image\" | \"error\" | \"clarification\";\ntype IDirection = \"outgoing\" | \"incoming\";\n\nexport const Message: React.FC<IMessage> = ({\n  message,\n  userJid,\n  position,\n  buttonSender,\n  chooseDirectRoom,\n}) => {\n  const firstName = message.data.senderFirstName;\n  const lastName = message.data.senderLastName;\n  const messageJid = message.data.senderJID;\n  const history = useHistory();\n  const [buttons, setButtons] = useState<IButtons[]>();\n  const [openDialog, setOpenDialog] = useState(false);\n  const [anchorEl, setAnchorEl] = React.useState<null | HTMLElement>(null);\n  const [dialogMenuType, setDialogMenuType] = useState<IDialog>(\"dialog\");\n  const [dialogText, setDialogText] = useState(\"\");\n  const openMenu = Boolean(anchorEl);\n  const [coinAmount, setCoinAmount] = useState(1);\n  const balance = useStoreState((store) => store.balance);\n  const coinData = balance.filter(\n    (el) => !el.tokenType && el.contractAddress.length > 10\n  );\n  const user = useStoreState((store) => store.user);\n  const [messageDirection, setMessageDirection] = useState<IDirection>(\"incoming\")\n\n  const openDialogMenu = (type: IDialog) => {\n    setAnchorEl(null);\n    setOpenDialog(true);\n    setDialogMenuType(type);\n  };\n\n  const sendCoins = () => {\n    // @ts-ignore\n    transferCoin(\n      \"DPT\",\n      coinData[0].tokenName,\n      Number(coinAmount),\n      message.data.senderWalletAddress\n    )\n      .then(() => {\n        const textMessage =\n          user.firstName +\n          \" \" +\n          user.lastName +\n          \" -> \" +\n          coinAmount +\n          \" \" +\n          coinData[0].tokenName +\n          \" -> \" +\n          message.data.senderFirstName +\n          \" \" +\n          message.data.senderLastName;\n\n        xmpp.sendSystemMessage(\n          message.roomJID,\n          user.firstName,\n          user.lastName,\n          user.walletAddress,\n          textMessage,\n          coinAmount,\n          message.id\n        );\n\n        setOpenDialog(false);\n      })\n      .catch((error) => {\n        console.log(error);\n        setDialogText(\"An error occurred during the coin transfer.\");\n        setDialogMenuType(\"error\");\n      });\n  };\n\n  const openPrivateRoom = () => {\n    createPrivateChat(\n      user.walletAddress,\n      message.data.senderWalletAddress,\n      user.firstName,\n      message.data.senderFirstName,\n      \"@conference.dev.dxmpp.com\",\n      message.data.senderJID\n    )\n      .then((result) => {\n        if (result.isNewRoom) {\n          const temporaryRoomData = {\n            jid: result.roomJid,\n            name: result.roomName,\n            room_background: \"none\",\n            room_thumbnail: \"none\",\n            users_cnt: \"2\",\n            unreadMessages: 0,\n            composing: \"\",\n            toUpdate: true,\n          };\n          useStoreState.getState().setNewUserChatRoom(temporaryRoomData);\n          chooseDirectRoom(result.roomJid);\n        } else {\n          chooseDirectRoom(result.roomJid);\n        }\n      })\n      .catch((error) => {\n        console.log(\"openPrivateRoom Error: \", error);\n      });\n  };\n\n  const fullViewImage = () => {\n    setOpenDialog(true);\n    setDialogMenuType(\"image\");\n  };\n\n  const rightClick = (event) => {\n    event.preventDefault()\n    openDialogMenu(\"dialog\")\n  }\n\n  const userToBlackList = (step: \"clarify\" | \"block\") => {\n    if(step === \"clarify\"){\n      setDialogText(\"Are you sure you want to block the user?\");\n      setDialogMenuType(\"clarification\");\n    }\n\n    if(step === \"block\"){\n      xmpp.blacklistUser(message.data.senderJID);\n      useStoreState.getState().removeAllInMessageHistory(message.data.senderJID);\n      setOpenDialog(false);\n    }\n  }\n\n  useEffect(() => {\n    if (message.data.quickReplies) {\n      setButtons(JSON.parse(message.data.quickReplies));\n    }\n    setMessageDirection(String(userJid).split(\"/\")[0] === String(messageJid).split(\"/\")[0]\n        ? \"outgoing\"\n        : \"incoming\")\n  }, []);\n  return (\n    <div is={\"Message\"}>\n      {position.separator ? (\n        <MessageSeparator>{position.separator}</MessageSeparator>\n      ) : null}\n      <KitMessage\n        onContextMenu={messageDirection === \"incoming\" ? rightClick : null}\n        style={{\n          marginBottom: position.type === \"last\" || position.type === \"single\" ? 15 : null\n        }}\n        model={{\n          sender: firstName + \" \" + lastName,\n          direction: messageDirection,\n          position: position.position,\n        }}\n        avatarPosition={\n          String(userJid).split(\"/\")[0] === String(messageJid).split(\"/\")[0]\n            ? \"tr\"\n            : \"tl\"\n        }\n        avatarSpacer={position.type !== \"first\" && position.type !== \"single\"}\n      >\n        {(position.type === \"first\" || position.type === \"single\") && (\n          <img\n            style={{\n              borderRadius: \"50%\",\n              boxSizing: \"border-box\",\n              width: \"42px\",\n              height: \"42px\",\n              cursor: \"pointer\",\n            }}\n            onClick={() =>\n              history.push(\"/profile/\" + message.data.senderWalletAddress)\n            }\n            is={\"Avatar\"}\n            src={\n              message.data.photoURL\n                ? message.data.photoURL\n                : \"https://icotar.com/initials/\" + firstName + \" \" + lastName\n            }\n            onError={({ currentTarget }) => {\n              currentTarget.onerror = null;\n              currentTarget.src =\n                \"https://icotar.com/initials/\" + firstName + \" \" + lastName;\n            }}\n            alt={firstName}\n          />\n        )}\n\n        <KitMessage.CustomContent>\n          {(position.type === \"first\" || position.type === \"single\") && (\n            <span\n              style={{\n                display: \"flex\",\n                justifyContent: \"space-between\",\n                alignItems: \"center\",\n              }}\n            >\n              <strong\n                style={{ cursor: \"pointer\" }}\n                onClick={() =>\n                  history.push(\"/profile/\" + message.data.senderWalletAddress)\n                }\n              >\n                {firstName} {lastName}\n                <br />\n              </strong>\n              {String(userJid).split(\"/\")[0] !==\n              String(messageJid).split(\"/\")[0] ? (\n                <IconButton\n                  aria-label=\"more\"\n                  id=\"long-button\"\n                  aria-controls={openMenu ? \"long-menu\" : undefined}\n                  aria-expanded={openMenu ? \"true\" : undefined}\n                  aria-haspopup=\"true\"\n                  onClick={() => openDialogMenu(\"dialog\")}\n                >\n                  <MoreVertIcon />\n                </IconButton>\n              ) : null}\n            </span>\n          )}\n\n          {message.data.isMediafile &&\n          message.data.mimetype.split(\"/\")[0] === \"image\" ? (\n            <Card sx={{ maxWidth: 200 }}>\n              <CardActionArea onClick={fullViewImage}>\n                <CardMedia\n                  style={{\n                    height: 150,\n                    objectFit: \"cover\",\n                    objectPosition: \"left\",\n                  }}\n                  component=\"img\"\n                  height=\"150\"\n                  image={message.data.location}\n                  alt={message.data.originalName}\n                />\n              </CardActionArea>\n            </Card>\n          ) : null}\n\n          {message.data.isMediafile &&\n          message.data.mimetype.split(\"/\")[0] === \"application\" ? (\n            <a target=\"_blank\" href={message.data.location}>\n              <KitMessage.ImageContent\n                src={message.data.locationPreview}\n                alt={message.data.originalName}\n                width={150}\n              />\n              {message.data.mimetype.split(\"/\")[1]}\n            </a>\n          ) : null}\n\n          {message.data.isMediafile &&\n          message.data.mimetype.split(\"/\")[0] === \"video\" ? (\n            <video controls width=\"200px\">\n              <source\n                src={message.data.location}\n                type={message.data.mimetype}\n                title={message.data.originalName}\n              />\n              Sorry, your browser doesn't support videos.\n            </video>\n          ) : null}\n\n          {message.data.isMediafile &&\n          message.data.mimetype.split(\"/\")[0] === \"audio\" ? (\n              <audio controls>\n                  <source src={message.data.location} type={message.data.mimetype} />\n                    Your browser does not support the audio element.\n              </audio>\n          ) : null}\n\n        {!message.data.isMediafile ?\n            <div>\n              <span dangerouslySetInnerHTML={{__html: message.body.replace(/\\b(https?\\:\\/\\/\\S+)/mg, '<a href=\"$1\">$1</a>')}}></span>\n              {/*FOOTER */}\n              <div style={{\n                display: \"flex\",\n                justifyContent: \"space-between\",\n                alignItems: \"center\",\n                marginTop: 5,\n                minWidth: 200,\n                color: messageDirection === \"incoming\" ? \"rgb(110, 169, 215)\" : \"#c6e3fa\",\n                flexDirection: messageDirection === \"incoming\" ? \"row\" : \"row-reverse\"\n              }}>\n\n                <div style={{\n                  fontSize: 12,\n                }}>\n                  {\n                    differenceInHours(new Date(), new Date(message.date)) > 5\n                    ? format(new Date(message.date), \"h:mm a\")\n                    : formatDistance(\n                    subDays(new Date(message.date), 0),\n                    new Date(),\n                    {\n                      addSuffix: true,\n                    })\n                  }\n                </div>\n                {message.coinsInMessage > 0 ?\n                  <div style={{display: \"flex\", alignItems: \"center\"}}>\n                    <div style={{fontSize: 12}}>{message?.coinsInMessage}</div>\n                    <img\n                        src={coin}\n                        style={{ width: 25, height: 25 }}\n                        alt={\"coin\"}\n                    />\n                  </div>\n                : null}\n              </div>\n            </div>\n            : null\n        }\n      </KitMessage.CustomContent>\n\n        {/*{(position.type === \"last\" || position.type === \"single\") && (*/}\n        {/*  <KitMessage.Footer*/}\n        {/*    sentTime={*/}\n        {/*      differenceInHours(new Date(), new Date(message.date)) > 5*/}\n        {/*        ? format(new Date(message.date), \"h:mm a\")*/}\n        {/*        : formatDistance(*/}\n        {/*            subDays(new Date(message.date), 0),*/}\n        {/*            new Date(),*/}\n        {/*            {*/}\n        {/*              addSuffix: true,*/}\n        {/*            }*/}\n        {/*          )*/}\n        {/*    }*/}\n        {/*  />*/}\n        {/*)}*/}\n      </KitMessage>\n      {buttons ? (\n      <Box sx={{ '& button': { m: 0.5 } }}>\n        <div\n          style={{\n            display: \"flex\",\n            flexDirection: \"column\",\n            width: \"max-content\",\n            marginLeft: \"45px\",\n          }}\n        >\n          {buttons.map((button, index) => {\n            return (\n              <Button variant=\"outlined\" size=\"small\" onClick={() => buttonSender(button)} key={index} >\n                {button.name}\n              </Button>\n            );\n          })}\n        </div>\n      </Box>\n      ) : null}\n\n      <Dialog\n        open={openDialog}\n        onClose={() => setOpenDialog(false)}\n        maxWidth={\"xl\"}\n      >\n        <DialogContent>\n          {dialogMenuType === \"error\" ? <div>{dialogText}</div> : null}\n\n          {dialogMenuType === \"clarification\" ?\n              <div style={{display: \"flex\", flexDirection: \"column\"}}>\n                {dialogText}\n                <Button onClick={() => userToBlackList(\"block\")} variant=\"outlined\" size=\"small\">\n                  To block list\n                </Button>\n              </div>\n              : null}\n\n          {dialogMenuType === \"dialog\" ? (\n            <div style={{ display: \"flex\", flexDirection: \"column\" }}>\n              <div>\n                Reward{\" \"}\n                <strong>\n                  {message.data.senderFirstName +\n                    \" \" +\n                    message.data.senderLastName}\n                </strong>{\" \"}\n                with coins\n              </div>\n              <Slider\n                aria-label=\"Coin amount\"\n                defaultValue={1}\n                valueLabelDisplay=\"auto\"\n                step={2}\n                marks\n                min={1}\n                max={7}\n                value={coinAmount}\n                onChange={(e, newValue) =>\n                  setCoinAmount(newValue || newValue[0])\n                }\n                sx={{marginTop: '10px'}}\n              />\n              <Box\n                sx={{\n                  display: \"flex\",\n                  justifyContent: \"center\",\n                  alignItems: \"center\",\n                }}\n              >\n                <Typography sx={{ fontWeight: \"bold\" }}>\n                  {coinAmount}\n                </Typography>\n                <img\n                  src={coin}\n                  style={{ width: 30, height: 30 }}\n                  alt={\"coin\"}\n                />\n              </Box>\n                <Button onClick={sendCoins} variant=\"outlined\" size=\"small\">\n                    Send coins\n                </Button>\n              <Divider style={{margin: \"10px\"}} />\n                <Button onClick={openPrivateRoom} variant=\"outlined\" startIcon={<SendIcon />}>\n                    Direct message\n                </Button>\n                <Divider style={{margin: \"10px\"}} />\n                <Button onClick={() => userToBlackList(\"clarify\")} variant=\"contained\" startIcon={<BlockIcon />}>\n                    Block this user\n                </Button>\n                <Typography style={{textAlign: \"center\"}} variant=\"caption\" display=\"block\" gutterBottom>\n                    Stop seeing this user.\n                </Typography>\n            </div>\n          ) : null}\n\n          {dialogMenuType === \"image\" ? (\n            <div>\n              <img\n                src={message.data.location}\n                alt={message.data.originalName}\n                style={{ maxWidth: \"100%\" }}\n              />\n            </div>\n          ) : null}\n        </DialogContent>\n      </Dialog>\n    </div>\n  );\n};\n","import {TMessageHistory} from \"../../../store\";\nimport React from \"react\";\n\nexport interface IMessage {\n    message: TMessageHistory;\n    userJid: string;\n    is?: string;\n}\n\nexport const SystemMessage: React.FC<IMessage> = ({message, userJid}) => {\n    return (\n        <div style={{\n            textAlign: \"center\",\n            color: \"#6ea9d7\",\n            fontSize: \".8em\",\n            boxSizing: \"border-box\",\n            fontFamily: \"Helvetica Neue,Segoe UI,Helvetica,Arial,sans-serif\"\n        }} key={message.key}>\n            {message.body}\n        </div>\n    );\n}","import React, {useCallback, useEffect, useRef, useState} from \"react\";\nimport Box from \"@mui/material/Box\";\nimport xmpp from \"../../xmpp\";\nimport { TMessageHistory, useStoreState } from \"../../store\";\nimport { getPublicProfile, uploadFile } from \"../../http\";\nimport { TProfile } from \"../Profile/types\";\nimport BookmarkRemoveIcon from \"@mui/icons-material/BookmarkRemove\";\nimport { format, formatDistance, subDays } from \"date-fns\";\nimport * as DOMPurify from \"dompurify\";\n\nimport {\n  MainContainer,\n  Avatar,\n  ChatContainer,\n  MessageList,\n  MessageInput,\n  Conversation,\n  ConversationList,\n  Sidebar,\n  Search,\n  ConversationHeader,\n  TypingIndicator,\n  MessageModel,\n} from \"@chatscope/chat-ui-kit-react\";\nimport { Message } from \"../../componets/Chat/Messages/Message\";\nimport { SystemMessage } from \"../../componets/Chat/Messages/SystemMessage\";\nimport {\n  Button,\n  CircularProgress,\n  Dialog,\n  DialogActions,\n  DialogContent,\n  DialogContentText,\n  DialogTitle,\n  useMediaQuery,\n  useTheme,\n} from \"@mui/material\";\nimport { useParams, useHistory } from \"react-router-dom\";\nimport { useDropzone } from 'react-dropzone';\n\ntype IMessagePosition = {\n  position: MessageModel[\"position\"];\n  type: string;\n  separator?: string;\n};\n\nconst getPosition = (\n  arr: TMessageHistory[],\n  message: TMessageHistory,\n  index: number\n) => {\n  const previousJID = arr[index - 1]?.data.senderJID?.split(\"/\")[0];\n  const nextJID = arr[index + 1]?.data.senderJID?.split(\"/\")[0];\n  const currentJID = message.data.senderJID?.split(\"/\")[0];\n\n  let result: IMessagePosition = {\n    position: \"single\",\n    type: \"single\",\n  };\n\n  if (arr[index - 1] && message) {\n    if (\n      format(new Date(arr[index - 1]?.date), \"dd\") !==\n      format(new Date(message.date), \"dd\")\n    ) {\n      result.separator = format(new Date(message.date), \"EEEE, dd LLLL yyyy\");\n    }\n  }\n\n  if (previousJID !== currentJID && nextJID !== currentJID) {\n    return result;\n  }\n\n  if (previousJID !== currentJID && nextJID === currentJID) {\n    result.position = \"first\";\n    result.type = \"first\";\n    return result;\n  }\n\n  if (previousJID === currentJID && nextJID === currentJID) {\n    result.position = \"normal\";\n    result.type = \"normal\";\n    return result;\n  }\n\n  if (previousJID === currentJID && nextJID !== currentJID && arr[index - 1]?.data.isSystemMessage === \"false\") {\n    result.position = \"single\";\n    result.type = \"last\";\n    return result;\n  }\n\n  return result;\n};\n\nexport function ChatInRoom() {\n  const messages = useStoreState((state) => state.historyMessages);\n  const user = useStoreState((store) => store.user);\n  const useChatRooms = useStoreState((store) => store.userChatRooms);\n  const loaderArchive = useStoreState((store) => store.loaderArchive);\n  const currentUntrackedChatRoom = useStoreState(\n    (store) => store.currentUntrackedChatRoom\n  );\n  const [profile, setProfile] = useState<TProfile>();\n  const [myMessage, setMyMessage] = useState(\"\");\n  const [currentRoom, setCurrentRoom] = useState(\"\");\n  const [roomData, setRoomData] = useState<{\n    jid: string;\n    name: string;\n    room_background: string;\n    room_thumbnail: string;\n    users_cnt: string;\n  }>({\n    jid: \"\",\n    name: \"\",\n    room_background: \"\",\n    room_thumbnail: \"\",\n    users_cnt: \"\",\n  });\n  const fileRef = useRef(null);\n  const theme = useTheme();\n  const fullScreen = useMediaQuery(theme.breakpoints.down(\"md\"));\n  const [openDialog, setOpenDialog] = useState(false);\n  const [showDialogTxt, setShowDialogTxt] = useState(false);\n  const [dialogTxt, setDialogTxt] = useState<{\n    headline: string;\n    description: string;\n  }>({ headline: \"\", description: \"\" });\n  // @ts-ignore\n  const { roomJID } = useParams();\n  const history = useHistory();\n  const [firstLoadMessages, setFirstLoadMessages] = useState(true);\n\n  const onDrop = useCallback(acceptedFiles => {\n    sendFile(acceptedFiles[0]);\n  }, [roomData]);\n\n  const {\n    getRootProps\n  } = useDropzone({\n    onDrop,\n    noClick: true,\n    maxFiles: 1\n  });\n  const onYReachStart = () => {\n    const filteredMessages = messages.filter(\n        (item: any) => item.roomJID === currentRoom\n    );\n\n    if (loaderArchive) {\n      return;\n    } else {\n      const lastMessageID = filteredMessages[0].id;\n      xmpp.getPaginatedArchive(currentRoom, String(lastMessageID), 10);\n    }\n  };\n\n  useEffect(() => {\n    getPublicProfile(user.walletAddress).then((result) => {\n      setProfile(result.data.result);\n    });\n  }, []);\n\n  const chooseRoom = (jid: string) => {\n    history.push(\"/chat/\" + jid.split(\"@\")[0]);\n    setCurrentRoom(jid);\n    const currentRoomData = useChatRooms.filter((e) => e.jid === jid)[0];\n    setRoomData(currentRoomData);\n    useStoreState.getState().clearCounterChatRoom(jid);\n    useStoreState.getState().setCurrentUntrackedChatRoom(jid);\n\n    const filteredMessages = messages.filter(\n      (item: any) => item.roomJID === jid\n    );\n    setFirstLoadMessages(true)\n\n    if (\n      !loaderArchive &&\n      filteredMessages.length <= 10 &&\n      filteredMessages.length > 0\n    ) {\n      const lastMessageID = filteredMessages[0].id;\n      xmpp.getPaginatedArchive(jid, String(lastMessageID), 50);\n    }\n  };\n\n  const getConversationInfo = (roomJID: string) => {\n    const messagesInRoom = messages\n      .filter((item: any) => item.roomJID === roomJID)\n      .slice(-1);\n    if (loaderArchive && messagesInRoom.length <= 0) {\n      return \"Loading...\";\n    }\n\n    if (messagesInRoom.length > 0) {\n      return messagesInRoom[0].body;\n    }\n    return \"No messages yet\";\n  };\n\n  const getLastActiveTime = (roomJID: string) => {\n    const messagesInRoom = messages\n      .filter((item: any) => item.roomJID === roomJID)\n      .slice(-1);\n    if (messagesInRoom.length <= 0) {\n      return \"\";\n    }\n\n    return format(new Date(messagesInRoom[0].date), \"H:mm\");\n\n    // if (differenceInHours(new Date(), new Date(messagesInRoom[0].date)) > 1) {\n    //   return format(new Date(messagesInRoom[0].date), \"hh:mm\");\n    // } else {\n    //   return formatDistance(\n    //     subDays(new Date(messagesInRoom[0].date), 0),\n    //     new Date(),\n    //     { addSuffix: true }\n    //   );\n    // }\n  };\n\n  const stripHtml = (html: string) => {\n    let doc: any;\n    let str = html;\n\n    str=str.replace(/<br>/gi, \"\\n\");\n    str=str.replace(/<p.*>/gi, \"\\n\");\n    str=str.replace(/<(?:.|\\s)*?>/g, \"\");\n\n    if(str.trim().length === 0){\n      doc = new DOMParser().parseFromString(html, 'text/html');\n    }else{\n      doc = new DOMParser().parseFromString(str, 'text/html');\n    }\n    return doc.body.textContent || \"\";\n  }\n\n  const sendMessage = (button: any) => {\n    if (myMessage.trim().length > 0) {\n      let userAvatar = \"\";\n      if (profile?.profileImage) {\n        userAvatar = profile?.profileImage;\n      }\n      const clearMessageFromHtml = DOMPurify.sanitize(myMessage);\n      const finalMessageTxt = stripHtml(clearMessageFromHtml);\n\n      if(finalMessageTxt.trim().length > 0){\n        xmpp.sendMessage(\n            currentRoom,\n            user.firstName,\n            user.lastName,\n            userAvatar,\n            user.walletAddress,\n            typeof button === \"object\" ? button.value : finalMessageTxt,\n            typeof button === \"object\" ? button.notDisplayedValue : null\n        );\n      }\n    }\n  };\n\n  const sendFile = (file: File) => {\n    setDialogTxt({\n      headline: \"File is loading, please wait...\",\n      description: \"\",\n    });\n    setOpenDialog(true);\n\n    const formData = new FormData();\n    formData.append(\"files\", file);\n\n    uploadFile(formData)\n      .then((result) => {\n        let userAvatar = \"\";\n        if (profile?.profileImage) {\n          userAvatar = profile?.profileImage;\n        }\n\n        result.data.results.map(async (item: any) => {\n          const data = {\n            firstName: user.firstName,\n            lastName: user.lastName,\n            walletAddress: user.walletAddress,\n            chatName: roomData.name,\n            userAvatar: userAvatar,\n            createdAt: item.createdAt,\n            expiresAt: item.expiresAt,\n            fileName: item.filename,\n            isVisible: item.isVisible,\n            location: item.location,\n            locationPreview: item.locationPreview,\n            mimetype: item.mimetype,\n            originalName: item.originalname,\n            ownerKey: item.ownerKey,\n            size: item.size,\n            duration: item?.duration,\n            updatedAt: item.updatedAt,\n            userId: item.userId,\n            waveForm: \"\",\n            attachmentId: item._id,\n            wrappable: true,\n          };\n          xmpp.sendMediaMessageStanza(currentRoom, data);\n          setOpenDialog(false);\n        });\n      })\n      .catch((error) => {\n        console.log(error);\n        setDialogTxt({\n          headline: \"Error\",\n          description: \"An error occurred while uploading the file\",\n        });\n        setShowDialogTxt(true);\n      });\n    if(fileRef.current){\n      fileRef.current.value = \"\";\n    }\n  };\n\n  const setMessage = (value) => {\n    setMyMessage(value);\n    xmpp.isComposing(\n      user.walletAddress,\n      roomData.jid,\n      user.firstName + \" \" + user.lastName\n    );\n  };\n\n  const handlePaste = event => {\n    // @ts-ignore\n    let item = Array.from(event.clipboardData.items).find(x => /^image\\//.test(x.type));\n    if(item){\n      // @ts-ignore\n      let blob = item.getAsFile();\n      sendFile(blob)\n    }\n  };\n\n  useEffect(() => {\n    const timeoutId = setTimeout(() => {\n      xmpp.pausedComposing(user.walletAddress, roomData.jid);\n    }, 1000);\n    return () => clearTimeout(timeoutId);\n  }, [myMessage]);\n\n  useEffect(() => {\n    if (currentUntrackedChatRoom) {\n      if (\n        !roomJID ||\n        roomJID === \"none\" ||\n        roomJID === \"\" ||\n          currentUntrackedChatRoom.split(\"@\")[0] === roomJID\n      ) {\n        if(currentUntrackedChatRoom.split(\"@\")[1]){\n          chooseRoom(currentUntrackedChatRoom);\n        }else{\n          chooseRoom(currentUntrackedChatRoom+\"@conference.dev.dxmpp.com\");\n        }\n      }\n    }\n\n    if (\n        currentUntrackedChatRoom.split(\"@\")[0] !== roomJID &&\n        roomJID !== \"none\" &&\n        roomJID !== \"\"\n    ) {\n      useStoreState.getState().setCurrentUntrackedChatRoom(roomJID);\n      chooseRoom(roomJID);\n    }\n\n    window.onblur = () => {\n      useStoreState.getState().setCurrentUntrackedChatRoom(\"\");\n    };\n\n    window.onfocus = () => {\n      if (currentRoom) {\n        useStoreState.getState().setCurrentUntrackedChatRoom(currentRoom);\n        useStoreState.getState().clearCounterChatRoom(currentRoom);\n      }\n    };\n  }, [currentRoom]);\n\n  useEffect(() => {\n    const filteredMessages = messages.filter(\n        (item: any) => item.roomJID === currentRoom\n    );\n\n    if(!loaderArchive && filteredMessages.length > 0 && filteredMessages.length <= 51 && currentRoom && firstLoadMessages){\n      const lastUpFilteredMessage = filteredMessages[0];\n\n      if(filteredMessages.length >= 10 && filteredMessages.length < 15 && lastUpFilteredMessage.data.isSystemMessage){\n        setFirstLoadMessages(false);\n        xmpp.getPaginatedArchive(currentRoom, String(lastUpFilteredMessage.id), 5);\n      }else if(filteredMessages.length === 1){\n        setFirstLoadMessages(false);\n        xmpp.getPaginatedArchive(currentRoom, String(lastUpFilteredMessage.id), 50);\n      }\n    }\n  }, [messages])\n\n  return (\n    <Box style={{paddingBlock: \"20px\", height: \"100%\"}}>\n      <MainContainer responsive>\n        <Sidebar position=\"left\" scrollable={false}>\n          <Search placeholder=\"Search...\" />\n          <ConversationList loading={loaderArchive}>\n            {useChatRooms.map((room) => (\n              <Conversation\n                active={room.jid === currentRoom}\n                key={room.jid}\n                unreadCnt={room.unreadMessages}\n                onClick={() => chooseRoom(room.jid)}\n                name={room.name}\n                info={getConversationInfo(room.jid)}\n                lastActivityTime={getLastActiveTime(room.jid)}\n              >\n                <Avatar\n                  src={\n                    room.room_background !== \"none\"\n                      ? room.room_background\n                      : \"https://icotar.com/initials/\" + room.name\n                  }\n                />\n              </Conversation>\n            ))}\n          </ConversationList>\n        </Sidebar>\n\n        <div {...getRootProps()} style={{width: \"100%\", height: \"100%\"}}>\n        <ChatContainer >\n          {!!roomData && (\n            <ConversationHeader>\n              <ConversationHeader.Back />\n              {messages.filter((item: any) => item.roomJID === currentRoom)\n                .length > 0 && (\n                <ConversationHeader.Content\n                  userName={roomData.name}\n                  info={\n                    \"Active \" +\n                    formatDistance(\n                      subDays(\n                        new Date(\n                          messages\n                            .filter((item: any) => item.roomJID === currentRoom)\n                            .slice(-1)[0].date\n                        ),\n                        0\n                      ),\n                      new Date(),\n                      { addSuffix: true }\n                    )\n                  }\n                />\n              )}\n              <ConversationHeader.Actions>\n                <BookmarkRemoveIcon />\n              </ConversationHeader.Actions>\n            </ConversationHeader>\n          )}\n          <MessageList\n            loadingMore={loaderArchive}\n            onYReachStart={onYReachStart}\n            disableOnYReachWhenNoScroll={true}\n            typingIndicator={\n              !!useChatRooms.filter((e) => e.jid === currentRoom)[0]\n                ?.composing && (\n                <TypingIndicator\n                  style={{opacity: \".6\"}}\n                  content={\n                    useChatRooms.filter((e) => e.jid === currentRoom)[0]\n                      ?.composing\n                  }\n                />\n              )\n            }\n          >\n            {messages\n              .filter((item: any) => item.roomJID === currentRoom)\n              .map((message, index, arr) => {\n                const position = getPosition(arr, message, index);\n                if (message.data.isSystemMessage === \"false\") {\n                  return (\n                    <Message\n                      key={message.id}\n                      is={\"Message\"}\n                      position={position}\n                      message={message}\n                      userJid={xmpp.client?.jid?.toString()}\n                      buttonSender={sendMessage}\n                      chooseDirectRoom={chooseRoom}\n                    />\n                  );\n                } else {\n                  return (\n                    <SystemMessage\n                      key={message.id}\n                      is={\"Message\"}\n                      message={message}\n                      userJid={xmpp.client?.jid?.toString()}\n                    />\n                  );\n                }\n              })}\n            {messages.length <= 0 ||\n              (!currentRoom && (\n                <MessageList.Content\n                  style={{\n                    display: \"flex\",\n                    flexDirection: \"column\",\n                    justifyContent: \"center\",\n                    height: \"100%\",\n                    textAlign: \"center\",\n                    fontSize: \"1.2em\",\n                  }}\n                >\n                  {!loaderArchive ? (\n                    <span>\n                      {!currentRoom &&\n                        \"To get started, please select a chat room.\"}\n                    </span>\n                  ) : (\n                    \"Loading...\"\n                  )}\n                </MessageList.Content>\n              ))}\n            {!loaderArchive &&\n              currentRoom &&\n              messages.filter((item: any) => item.roomJID === currentRoom)\n                .length <= 0 && (\n                <MessageList.Content\n                  style={{\n                    display: \"flex\",\n                    flexDirection: \"column\",\n                    justifyContent: \"center\",\n                    height: \"100%\",\n                    textAlign: \"center\",\n                    fontSize: \"1.2em\",\n                  }}\n                >\n                  Message list is empty\n                </MessageList.Content>\n              )}\n          </MessageList>\n          {!!roomData?.name && (\n            <div is={\"MessageInput\"}>\n              <MessageInput\n                onPaste={handlePaste}\n                placeholder=\"Type message here\"\n                onChange={setMessage}\n                onSend={sendMessage}\n                onAttachClick={() => fileRef.current.click()}\n              />\n              <input\n                type=\"file\"\n                name=\"file\"\n                id=\"file\"\n                onChange={(event) => sendFile(event.target.files[0])}\n                ref={fileRef}\n                style={{ display: \"none\" }}\n              />\n            </div>\n          )}\n        </ChatContainer>\n        </div>\n      </MainContainer>\n\n      <Dialog\n        fullScreen={fullScreen}\n        open={openDialog}\n        onClose={() => setOpenDialog(true)}\n        aria-labelledby=\"responsive-dialog-title\"\n      >\n        <DialogTitle id=\"responsive-dialog-title\">\n          {dialogTxt.headline}\n        </DialogTitle>\n        <DialogContent>\n          {showDialogTxt && dialogTxt.description.length > 0 ? (\n            <DialogContentText>{dialogTxt.description}</DialogContentText>\n          ) : (\n            <Box sx={{ display: \"flex\", justifyContent: \"center\" }}>\n              <CircularProgress />\n            </Box>\n          )}\n        </DialogContent>\n        {showDialogTxt ? (\n          <DialogActions>\n            <Button onClick={() => setOpenDialog(false)} autoFocus>\n              Close\n            </Button>\n          </DialogActions>\n        ) : null}\n      </Dialog>\n    </Box>\n  );\n}\n","import React from \"react\";\nimport Container from \"@mui/material/Container\";\nimport { ChatInRoom } from \"./Chat\";\n\nexport default function Chat() {\n  return (\n    <Container maxWidth=\"xl\" style={{ height: \"calc(100vh - 68px)\" }}>\n      <ChatInRoom />\n    </Container>\n  );\n}\n"],"names":["underscoreManipulation","str","replace","toLowerCase","createPrivateChat","myWalletAddress","otherUserWalletAddress","myFirstName","otherFirstName","CONFERENCEDOMAIN","userJID","combinedWalletAddress","sort","join","roomJid","combinedUsersName","currentChatRooms","useStoreState","userChatRooms","isNewRoom","filter","el","jid","length","xmpp","roomName","setTimeout","Message","message","userJid","position","buttonSender","chooseDirectRoom","firstName","data","senderFirstName","lastName","senderLastName","messageJid","senderJID","history","useHistory","useState","buttons","setButtons","openDialog","setOpenDialog","React","anchorEl","setAnchorEl","dialogMenuType","setDialogMenuType","dialogText","setDialogText","openMenu","Boolean","coinAmount","setCoinAmount","coinData","store","balance","tokenType","contractAddress","user","messageDirection","setMessageDirection","openDialogMenu","type","userToBlackList","step","removeAllInMessageHistory","useEffect","quickReplies","JSON","parse","String","split","is","separator","onContextMenu","event","preventDefault","style","marginBottom","model","sender","direction","avatarPosition","avatarSpacer","borderRadius","boxSizing","width","height","cursor","onClick","push","senderWalletAddress","src","photoURL","onError","currentTarget","onerror","alt","display","justifyContent","alignItems","IconButton","id","undefined","MoreVert","isMediafile","mimetype","Card","sx","maxWidth","CardActionArea","CardMedia","objectFit","objectPosition","component","image","location","originalName","target","href","locationPreview","controls","title","dangerouslySetInnerHTML","__html","body","marginTop","minWidth","color","flexDirection","fontSize","differenceInHours","Date","date","format","formatDistance","subDays","addSuffix","coinsInMessage","coin","m","marginLeft","map","button","index","Button","variant","size","name","Dialog","open","onClose","DialogContent","Slider","defaultValue","valueLabelDisplay","marks","min","max","value","onChange","e","newValue","Typography","fontWeight","transferCoin","tokenName","Number","then","textMessage","roomJID","walletAddress","catch","error","console","log","Divider","margin","result","temporaryRoomData","room_background","room_thumbnail","users_cnt","unreadMessages","composing","toUpdate","setNewUserChatRoom","startIcon","Send","Block","textAlign","gutterBottom","SystemMessage","fontFamily","key","ChatInRoom","messages","state","historyMessages","useChatRooms","loaderArchive","currentUntrackedChatRoom","profile","setProfile","myMessage","setMyMessage","currentRoom","setCurrentRoom","roomData","setRoomData","fileRef","useRef","theme","useTheme","fullScreen","useMediaQuery","breakpoints","down","showDialogTxt","setShowDialogTxt","headline","description","dialogTxt","setDialogTxt","useParams","firstLoadMessages","setFirstLoadMessages","onDrop","useCallback","acceptedFiles","sendFile","getRootProps","useDropzone","noClick","maxFiles","getPublicProfile","chooseRoom","currentRoomData","clearCounterChatRoom","setCurrentUntrackedChatRoom","filteredMessages","item","lastMessageID","getConversationInfo","messagesInRoom","slice","getLastActiveTime","sendMessage","trim","userAvatar","profileImage","finalMessageTxt","html","DOMParser","parseFromString","textContent","stripHtml","DOMPurify","notDisplayedValue","file","formData","FormData","append","uploadFile","results","chatName","createdAt","expiresAt","fileName","filename","isVisible","originalname","ownerKey","duration","updatedAt","userId","waveForm","attachmentId","_id","wrappable","current","timeoutId","clearTimeout","window","onblur","onfocus","lastUpFilteredMessage","isSystemMessage","Box","paddingBlock","responsive","scrollable","placeholder","loading","room","active","unreadCnt","info","lastActivityTime","userName","BookmarkRemove","loadingMore","onYReachStart","disableOnYReachWhenNoScroll","typingIndicator","opacity","content","arr","previousJID","nextJID","currentJID","getPosition","toString","onPaste","Array","from","clipboardData","items","find","x","test","blob","getAsFile","onSend","onAttachClick","click","files","ref","DialogTitle","DialogContentText","CircularProgress","DialogActions","autoFocus","Chat","Container"],"sourceRoot":""}