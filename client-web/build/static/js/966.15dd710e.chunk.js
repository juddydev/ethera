"use strict";(self.webpackChunkweb_app=self.webpackChunkweb_app||[]).push([[966],{83589:function(e,n,t){t.r(n),t.d(n,{default:function(){return Zn}});var r=t(72791),a=t.t(r,2),i=t(74165),s=t(15861),o=t(70885),l=t(21680),c=t(19773),d=t(24390),u=t(69963),p=t(9827),h=t(60807),f=t(56650),x=t(50228),m=t(4565),g=t(55152),Z=t(13811),v=t(68439),j=t(11210),b=t(32037),y=t(60788),w=t(40464),C=t(29823),k=t(55705),S=t(59911),P=t(39709),A=t(47409),I=t(72900),N=t(45473),O=t(17205),T=t(52775),R=t(80184);function D(e){var n=e.open,t=e.setOpen,a=r.useRef(null),i=(0,j.K)((function(e){return e.setApp})),s=(0,r.useState)(!1),l=(0,o.Z)(s,2),c=l[0],d=l[1],u=(0,r.useState)(""),p=(0,o.Z)(u,2),h=p[0],f=p[1],m=(0,T.D)().showSnackbar,g=(0,k.TA)({initialValues:{appName:"",appDescription:"",appGoogleId:"",defaultAccessProfileOpen:!1,defaultAccessAssetsOpen:!1,usersCanFree:!1,newUserTokenGift:0,coinsDayliBonus:0,appUrl:""},validate:function(e){var n={};return e.appName||(n.appName="Required"),n},onSubmit:function(e){var n=e.appName,r=e.appDescription,s=e.appGoogleId,o=e.defaultAccessAssetsOpen,l=e.defaultAccessProfileOpen,c=e.usersCanFree,u=e.appUrl;d(!0);var p,h=new FormData;if(a.current){var f=a.current.files;f&&(p=f[0])}p&&h.append("file",p),h.append("appName",n),h.append("appDescription",r),h.append("appGoogleId",s),h.append("defaultAccessAssetsOpen",o.toString()),h.append("defaultAccessProfileOpen",l.toString()),h.append("usersCanFree",c.toString()),h.append("appUrl",u),A.ri(h).then((function(e){i(e.data.app),t(!1)})).catch((function(e){var n,t;m("error","Cannot create the app "+((null===(n=e.response)||void 0===n||null===(t=n.data)||void 0===t?void 0:t.error)||""))})).finally((function(){return d(!1)}))}});return(0,R.jsx)(y.Z,{onClose:function(){t(!1),f("")},open:n,children:(0,R.jsxs)(x.Z,{sx:{padding:1,minWidth:500},children:[(0,R.jsx)(Z.Z,{sx:{position:"absolute",top:0,right:0},disabled:c,onClick:function(){return t(!1)},children:(0,R.jsx)(C.Z,{})}),(0,R.jsx)(w.Z,{sx:{padding:1},children:"New App"}),(0,R.jsx)(x.Z,{sx:{width:"100%",padding:1},children:(0,R.jsxs)("form",{onSubmit:g.handleSubmit,style:{width:"100%"},children:[(0,R.jsx)(x.Z,{children:(0,R.jsx)(S.Z,{sx:{width:"100%"},error:!!g.touched.appName&&!!g.errors.appName,margin:"dense",label:"App Name",name:"appName",variant:"outlined",onChange:g.handleChange,onBlur:g.handleBlur,value:g.values.appName})}),(0,R.jsx)(x.Z,{children:(0,R.jsx)(S.Z,{sx:{width:"100%"},margin:"dense",label:"Google Client Id",name:"appGoogleId",variant:"outlined",onChange:g.handleChange,onBlur:g.handleBlur,value:g.values.appGoogleId})}),(0,R.jsx)(x.Z,{children:(0,R.jsx)(S.Z,{sx:{width:"100%"},margin:"dense",label:"App Url",name:"appUrl",variant:"outlined",onChange:g.handleChange,onBlur:g.handleBlur,value:g.values.appUrl,error:!!g.touched.appUrl&&!!g.errors.appUrl})}),(0,R.jsxs)(x.Z,{sx:{display:"flex",justifyContent:"space-between",mt:1},children:[(0,R.jsxs)(x.Z,{sx:{display:"flex",flexDirection:"column"},children:[(0,R.jsx)(I.Z,{checked:g.values.defaultAccessProfileOpen,name:"Default Access Profile Open",control:(0,R.jsx)(N.Z,{onChange:function(e){return g.setFieldValue("defaultAccessProfileOpen",e.target.checked)}}),label:"Default Access Profile Open",labelPlacement:"end",onChange:g.handleChange}),(0,R.jsx)(I.Z,{checked:g.values.defaultAccessAssetsOpen,name:"Default Access Assets Open",control:(0,R.jsx)(N.Z,{onChange:function(e){return g.setFieldValue("defaultAccessAssetsOpen",e.target.checked)}}),label:"Default Access Assets Open",labelPlacement:"end"}),(0,R.jsx)(I.Z,{checked:g.values.usersCanFree,name:"Users can free",control:(0,R.jsx)(N.Z,{onChange:function(e){return g.setFieldValue("usersCanFree",e.target.checked)}}),label:"Users can free",labelPlacement:"end"})]}),(0,R.jsxs)(x.Z,{sx:{display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center"},children:[(0,R.jsx)("input",{onChange:function(e){var n=e.target;if(n.files){var t=new FileReader;t.onload=function(e){var n;e&&(null!==(n=e.target)&&void 0!==n&&n.result&&f(e.target.result))},t.readAsDataURL(n.files[0])}},ref:a,type:"file",accept:"image/*",style:{display:"none"}}),h?(0,R.jsx)(x.Z,{sx:{display:"flex",justifyContent:"center",alignItems:"center",width:"100%",cursor:"pointer"},onClick:function(){var e;return null===(e=a.current)||void 0===e?void 0:e.click()},children:(0,R.jsx)("img",{src:h,style:{width:200,height:"100%",objectFit:"cover",borderRadius:10},alt:"test"})}):(0,R.jsx)(O.Z,{variant:"text",onClick:function(){var e;return null===(e=a.current)||void 0===e?void 0:e.click()},children:"upload image"})]})]}),(0,R.jsx)(P.Z,{loading:c,variant:"contained",style:{marginTop:"15px",width:"100%"},type:"submit",disabled:c,children:"Create App"})]})})]})})}var B=t(77248),M=t(8440),F=t(39571),L=t(69120),U=t(33073),W=t(93026);function _(e,n,t,a,i){var s="undefined"!==typeof window&&"undefined"!==typeof window.matchMedia,l=r.useState((function(){return i&&s?t(e).matches:a?a(e).matches:n})),c=(0,o.Z)(l,2),d=c[0],u=c[1];return(0,W.Z)((function(){var n=!0;if(s){var r=t(e),a=function(){n&&u(r.matches)};return a(),r.addListener(a),function(){n=!1,r.removeListener(a)}}}),[e,t,s]),d}var z=a.useSyncExternalStore;function G(e,n,t,a){var i=r.useCallback((function(){return n}),[n]),s=r.useMemo((function(){if(null!==a){var n=a(e).matches;return function(){return n}}return i}),[i,e,a]),l=r.useMemo((function(){if(null===t)return[i,function(){return function(){}}];var n=t(e);return[function(){return n.matches},function(e){return n.addListener(e),function(){n.removeListener(e)}}]}),[i,t,e]),c=(0,o.Z)(l,2),d=c[0],u=c[1];return z(u,d,s)}function K(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},t=(0,L.Z)(),r="undefined"!==typeof window&&"undefined"!==typeof window.matchMedia,a=(0,U.Z)({name:"MuiUseMediaQuery",props:n,theme:t}),i=a.defaultMatches,s=void 0!==i&&i,o=a.matchMedia,l=void 0===o?r?window.matchMedia:null:o,c=a.ssrMatchMedia,d=void 0===c?null:c,u=a.noSsr;var p="function"===typeof e?e(t):e;p=p.replace(/^@media( ?)/m,"");var h=void 0!==z?G:_,f=h(p,s,l,d,u);return f}var V=t(74142);function E(e){var n,t=r.useState(!1),a=(0,o.Z)(t,2),i=a[0],s=a[1],l=(0,j.K)((function(e){return e.deleteApp})),c=K((0,V.Z)().breakpoints.down("md"));return(0,R.jsx)("div",{children:(0,R.jsxs)(y.Z,{fullScreen:c,open:e.open,onClose:function(){return e.setOpen(!1)},"aria-labelledby":"responsive-dialog-title",children:[(0,R.jsxs)(w.Z,{id:"responsive-dialog-title",children:["Are you sure want to remove application ",null===(n=e.app)||void 0===n?void 0:n.appName]}),(0,R.jsx)(M.Z,{children:(0,R.jsx)(F.Z,{children:"Your app clients(mobile, web) will not be able to send requests to Platform API after deleting the app"})}),(0,R.jsxs)(B.Z,{children:[(0,R.jsx)(O.Z,{disabled:i,variant:"contained",autoFocus:!0,onClick:function(){return e.setOpen(!1)},children:"Cancel"}),(0,R.jsx)(P.Z,{variant:"contained",loading:i,color:"error",onClick:function(){var n;e.app&&null!==(n=e.app)&&void 0!==n&&n._id&&(s(!0),A.P2(e.app._id).then((function(){var n;l(null===(n=e.app)||void 0===n?void 0:n._id),e.setOpen(!1)})).finally((function(){return s(!1)})))},autoFocus:!0,children:"Delete"})]})]})})}function q(e){var n=e.open,t=e.setOpen,a=e.app,i=r.useRef(null),s=(0,r.useState)(!1),l=(0,o.Z)(s,2),c=l[0],d=l[1],u=(0,j.K)((function(e){return e.updateApp})),p=(0,k.TA)({initialValues:{appName:a.appName,appDescription:a.appDescription?a.appDescription:"",appGoogleId:a.appGoogleId?a.appGoogleId:"",defaultAccessProfileOpen:a.defaultAccessProfileOpen,defaultAccessAssetsOpen:a.defaultAccessAssetsOpen,usersCanFree:a.usersCanFree},validate:function(e){var n={};return e.appName||(n.appName="Required"),n},onSubmit:function(e){var n=e.appName,r=e.appDescription,s=e.appGoogleId,o=e.defaultAccessAssetsOpen,l=e.defaultAccessProfileOpen,c=e.usersCanFree;d(!0);var p,h=new FormData;if(i.current){var f=i.current.files;f&&(p=f[0])}p&&h.append("file",p),h.append("appName",n),h.append("appDesctription",r),h.append("appGoogleId",s),h.append("defaultAccessAssetsOpen",o.toString()),h.append("defaultAccessProfileOpen",l.toString()),h.append("usersCanFree",c.toString()),A.KT(a._id,h).then((function(e){u(e.data.app),t(!1)})).finally((function(){return d(!1)}))}});return(0,R.jsx)(y.Z,{onClose:function(){return t(!1)},open:n,children:(0,R.jsxs)(x.Z,{children:[(0,R.jsxs)(w.Z,{style:{display:"flex",justifyContent:"space-between"},children:["Edit App",(0,R.jsx)(Z.Z,{disabled:c,onClick:function(){return t(!1)},children:(0,R.jsx)(C.Z,{})})]}),(0,R.jsx)(x.Z,{sx:{width:"100%",typography:"body1",padding:1},children:(0,R.jsxs)("form",{onSubmit:p.handleSubmit,children:[(0,R.jsx)(x.Z,{children:(0,R.jsx)(S.Z,{error:!(!p.touched.appName||!p.errors.appName),helperText:p.touched.appName&&p.errors.appName?p.errors.appName:"",margin:"dense",label:"App Name",name:"appName",variant:"standard",onChange:p.handleChange,onBlur:p.handleBlur,value:p.values.appName})}),(0,R.jsx)(x.Z,{children:(0,R.jsx)(S.Z,{margin:"dense",label:"Google Client Id",name:"appGoogleId",variant:"standard",onChange:p.handleChange,onBlur:p.handleBlur,value:p.values.appGoogleId})}),(0,R.jsxs)(x.Z,{style:{display:"inline-flex",flexDirection:"column"},children:[(0,R.jsx)(I.Z,{checked:p.values.defaultAccessProfileOpen,name:"defaultAccessProfileOpen",control:(0,R.jsx)(N.Z,{onChange:function(e){return p.setFieldValue("defaultAccessProfileOpen",e.target.checked)}}),label:"defaultAccessProfileOpen",labelPlacement:"end",onChange:p.handleChange}),(0,R.jsx)(I.Z,{checked:p.values.defaultAccessAssetsOpen,name:"defaultAccessAssetsOpen",control:(0,R.jsx)(N.Z,{onChange:function(e){return p.setFieldValue("defaultAccessAssetsOpen",e.target.checked)}}),label:"defaultAccessAssetsOpen",labelPlacement:"end"}),(0,R.jsx)(I.Z,{checked:p.values.usersCanFree,name:"usersCanFree",control:(0,R.jsx)(N.Z,{onChange:function(e){return p.setFieldValue("usersCanFree",e.target.checked)}}),label:"usersCanFree",labelPlacement:"end"}),(0,R.jsx)("input",{ref:i,type:"file",accept:"image/*"}),(0,R.jsx)(P.Z,{loading:c,variant:"contained",style:{marginTop:"15px"},type:"submit",children:"Update App"})]})]})})]})})}function H(e){var n,t=r.useState(!1),a=(0,o.Z)(t,2),i=a[0],s=a[1],l=(0,j.K)((function(e){return e.updateApp})),c=K((0,V.Z)().breakpoints.down("md"));return(0,R.jsx)("div",{children:(0,R.jsxs)(y.Z,{fullScreen:c,open:e.open,onClose:function(){return e.setOpen(!1)},"aria-labelledby":"responsive-dialog-title",children:[(0,R.jsxs)(w.Z,{id:"responsive-dialog-title",children:["Are you sure want to rotate JWT for application ",null===(n=e.app)||void 0===n?void 0:n.appName]}),(0,R.jsx)(M.Z,{children:(0,R.jsx)(F.Z,{children:"You will need to update your app clients(mobile, web) with new App Jwt"})}),(0,R.jsxs)(B.Z,{children:[(0,R.jsx)(O.Z,{disabled:i,variant:"contained",autoFocus:!0,onClick:function(){return e.setOpen(!1)},children:"Cancel"}),(0,R.jsx)(P.Z,{variant:"contained",loading:i,color:"error",onClick:function(){var n;e.app&&null!==(n=e.app)&&void 0!==n&&n._id&&(s(!0),A.oK(e.app._id).then((function(n){l(n.data.app),e.setOpen(!1)})).finally((function(){return s(!1)})))},autoFocus:!0,children:"Rotate"})]})]})})}var J=t(1413),Y=t(54871),Q=t(81508),X=t(55137),$=function(e){var n=e.open,t=e.onClose,a=e.afterSubmit,l=(0,j.K)((function(e){return e.user})),c=(0,j.K)((function(e){return e.setUser})),d=(0,r.useState)(!1),u=(0,o.Z)(d,2),p=u[0],h=u[1],f=(0,r.useState)(!1),m=(0,o.Z)(f,2),g=m[0],v=m[1],b=(0,T.D)().showSnackbar,O=(0,r.useState)(!1),D=(0,o.Z)(O,2),B=D[0],M=D[1],F=(0,r.useState)(""),L=(0,o.Z)(F,2),U=L[0],W=(L[1],(0,k.TA)({initialValues:{companyName:""},onSubmit:function(){var e=(0,s.Z)((0,i.Z)().mark((function e(n){var r;return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=n.companyName,M(!0),e.prev=2,e.next=5,(0,A.jR)(r);case 5:e.sent,c((0,J.Z)((0,J.Z)({},l),{},{isAgreeWithTerms:!0})),t(),a(),e.next=15;break;case 11:e.prev=11,e.t0=e.catch(2),console.log(e.t0),b("error","Something went wrong");case 15:M(!1);case 16:case"end":return e.stop()}}),e,null,[[2,11]])})));return function(n){return e.apply(this,arguments)}}()}));return(0,R.jsxs)(y.Z,{onClose:t,maxWidth:!1,open:n,children:[(0,R.jsxs)(x.Z,{style:{width:"400px"},children:[(0,R.jsx)(Z.Z,{sx:{position:"absolute",top:0,right:0},disabled:B,onClick:t,children:(0,R.jsx)(C.Z,{})}),(0,R.jsx)(w.Z,{sx:{display:"flex",justifyContent:"space-between",paddingLeft:1},children:"Owner Registration"}),(0,R.jsx)(x.Z,{sx:{width:"100%",typography:"body1",padding:1},children:(0,R.jsxs)("form",{onSubmit:W.handleSubmit,children:[(0,R.jsx)(S.Z,{margin:"dense",label:"Company Name",name:"companyName",type:"text",fullWidth:!0,inputProps:{autoComplete:"off"},variant:"standard",onChange:W.handleChange,onBlur:W.handleBlur,error:W.touched.companyName&&Boolean(W.errors.companyName),helperText:W.touched.companyName&&W.errors.companyName?W.errors.companyName:""}),(0,R.jsx)(Y.Z,{children:(0,R.jsx)(I.Z,{value:"I agree to the terms and conditions",control:(0,R.jsx)(N.Z,{checked:g,onChange:function(e){return v(e.target.checked)}}),label:"I agree to the terms and conditions",labelPlacement:"end"})}),!!U&&(0,R.jsx)(Q.Z,{severity:"error",children:U}),(0,R.jsx)(x.Z,{sx:{margin:2,display:"flex",justifyContent:"center"},children:(0,R.jsx)(P.Z,{loading:B,variant:"contained",type:"submit",disabled:B||!g,children:"Register"})})]})})]}),(0,R.jsx)(y.Z,{onClose:function(){return h(!1)},maxWidth:!1,open:p,children:(0,R.jsx)(x.Z,{sx:{width:800},children:(0,R.jsx)(X.Z,{setTermsOpen:function(e){return h(e)},firstName:l.firstName,lastName:l.lastName,email:l.lastName,company:"company"})})})]})},ee=t(68438);function ne(){var e=(0,j.K)((function(e){return e.apps})),n=(0,j.K)((function(e){return e.setApps})),t=(0,j.K)((function(e){return e.user})),a=(0,r.useState)(!1),y=(0,o.Z)(a,2),w=y[0],C=y[1],k=(0,r.useState)(!1),S=(0,o.Z)(k,2),P=S[0],I=S[1],N=+(0,j.K)((function(e){return e.balance.find((function(e){return e.tokenName===ee.zl}))})).balance>=10,O=(0,r.useState)(!1),B=(0,o.Z)(O,2),M=B[0],F=B[1],L=(0,r.useState)(!1),U=(0,o.Z)(L,2),W=U[0],_=U[1],z=(0,r.useState)(!1),G=(0,o.Z)(z,2),K=G[0],V=G[1],J=(0,r.useState)({_id:"",appName:"",appDescription:"",appGoogleId:"",defaultAccessProfileOpen:!1,defaultAccessAssetsOpen:!1,usersCanFree:!1}),Y=(0,o.Z)(J,2),Q=Y[0],X=Y[1],ne=(0,T.D)().showSnackbar,te=function(){var e=(0,s.Z)((0,i.Z)().mark((function e(){var t,r;return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,(0,A.C6)();case 3:t=e.sent,r=t.data.apps.filter((function(e){return!!e})),n(r),e.next=12;break;case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0),ne("error","Cannot get user apps");case 12:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}}();return(0,r.useEffect)((function(){te()}),[]),(0,R.jsxs)(u.Z,{component:f.Z,style:{margin:"0 auto"},children:[(0,R.jsxs)(x.Z,{style:{display:"flex",alignItems:"center"},children:[(0,R.jsx)(m.Z,{variant:"h6",style:{margin:"16px"},children:"Apps"}),(0,R.jsx)(g.Z,{title:N?"":"You don't have enough coins to create the app.",children:(0,R.jsx)("span",{children:(0,R.jsx)(Z.Z,{disabled:!N,onClick:function(){t.isAgreeWithTerms?C(!0):I(!0)},size:"large",children:(0,R.jsx)(v.Z,{fontSize:"large"})})})})]}),0===e.length&&(0,R.jsxs)(x.Z,{style:{display:"flex",flexDirection:"column",alignItems:"center"},children:[(0,R.jsx)(b.Z,{}),(0,R.jsx)(m.Z,{style:{marginTop:"20px",marginBottom:"20px"},children:"You have not created any apps."})]}),e.length>0&&(0,R.jsxs)(l.Z,{sx:{minWidth:650},"aria-label":"simple table",children:[(0,R.jsx)(p.Z,{children:(0,R.jsxs)(h.Z,{children:[(0,R.jsx)(d.Z,{width:200,children:"Application Name"}),(0,R.jsx)(d.Z,{align:"right",children:"Is Assets Open"}),(0,R.jsx)(d.Z,{align:"right",children:"Is Profile Open"}),(0,R.jsx)(d.Z,{align:"right",children:"Is Users Can Free"}),(0,R.jsx)(d.Z,{align:"right",children:"Created"}),(0,R.jsx)(d.Z,{align:"right",children:"Actions"})]})}),(0,R.jsx)(c.Z,{children:e.map((function(e){return(0,R.jsxs)(h.Z,{sx:{"&:last-child td, &:last-child th":{border:0}},children:[(0,R.jsx)(d.Z,{component:"th",scope:"row",children:e.appName}),(0,R.jsx)(d.Z,{align:"right",children:e.defaultAccessAssetsOpen.toString()}),(0,R.jsx)(d.Z,{align:"right",children:e.defaultAccessProfileOpen.toString()}),(0,R.jsx)(d.Z,{align:"right",children:e.usersCanFree.toString()}),(0,R.jsx)(d.Z,{align:"right",children:new Date(e.createdAt).toDateString()}),(0,R.jsx)(d.Z,{align:"right",children:(0,R.jsxs)(x.Z,{style:{display:"flex",flexDirection:"column"},children:[(0,R.jsx)("a",{href:"/",onClick:function(n){n.preventDefault(),function(e){X(e),F(!0)}(e)},children:"Delete"}),(0,R.jsx)("a",{href:"data:text/json;chatset=utf-8,".concat(encodeURIComponent(JSON.stringify({appJwt:e.appToken}))),style:{display:"none"},download:"data.json",id:"app-jwt-".concat(e._id),children:"download jwt"}),(0,R.jsx)("a",{href:"/",onClick:function(n){n.preventDefault();var t=document.querySelector("#app-jwt-".concat(e._id));null===t||void 0===t||t.click()},children:"Download App JWT"}),(0,R.jsx)("a",{href:"/",onClick:function(n){n.preventDefault(),function(e){X(e),V(!0)}(e)},children:"Rotate App Jwt"}),(0,R.jsx)("a",{href:"/",onClick:function(n){n.preventDefault(),function(e){X(e),_(!0)}(e)},children:"Edit"})]})})]},e._id)}))})]}),(0,R.jsx)(D,{open:w,setOpen:C}),(0,R.jsx)($,{onClose:function(){return I(!1)},open:P,afterSubmit:function(){return C(!0)}}),(0,R.jsx)(E,{app:Q,open:M,setOpen:F}),(0,R.jsx)(H,{app:Q,open:K,setOpen:V}),W&&(0,R.jsx)(q,{app:Q,open:W,setOpen:_})]})}var te,re,ae,ie,se,oe,le,ce,de=t(20803),ue=t(16992),pe=t(70324),he=t(4942),fe=t(63366),xe=t(87462),me=t(28182),ge=t(94419),Ze=t(20627),ve=t(60277),je=t(85513),be=t(1169),ye=t(63381),we=t(44666),Ce=t(42806),ke=t(91223),Se=t(19458),Pe=t(68840),Ae=["backIconButtonProps","count","getItemAriaLabel","nextIconButtonProps","onPageChange","page","rowsPerPage","showFirstButton","showLastButton"],Ie=r.forwardRef((function(e,n){var t=e.backIconButtonProps,r=e.count,a=e.getItemAriaLabel,i=e.nextIconButtonProps,s=e.onPageChange,o=e.page,l=e.rowsPerPage,c=e.showFirstButton,d=e.showLastButton,u=(0,fe.Z)(e,Ae),p=(0,V.Z)();return(0,R.jsxs)("div",(0,xe.Z)({ref:n},u,{children:[c&&(0,R.jsx)(Z.Z,{onClick:function(e){s(e,0)},disabled:0===o,"aria-label":a("first",o),title:a("first",o),children:"rtl"===p.direction?te||(te=(0,R.jsx)(Se.Z,{})):re||(re=(0,R.jsx)(Pe.Z,{}))}),(0,R.jsx)(Z.Z,(0,xe.Z)({onClick:function(e){s(e,o-1)},disabled:0===o,color:"inherit","aria-label":a("previous",o),title:a("previous",o)},t,{children:"rtl"===p.direction?ae||(ae=(0,R.jsx)(ke.Z,{})):ie||(ie=(0,R.jsx)(Ce.Z,{}))})),(0,R.jsx)(Z.Z,(0,xe.Z)({onClick:function(e){s(e,o+1)},disabled:-1!==r&&o>=Math.ceil(r/l)-1,color:"inherit","aria-label":a("next",o),title:a("next",o)},i,{children:"rtl"===p.direction?se||(se=(0,R.jsx)(Ce.Z,{})):oe||(oe=(0,R.jsx)(ke.Z,{}))})),d&&(0,R.jsx)(Z.Z,{onClick:function(e){s(e,Math.max(0,Math.ceil(r/l)-1))},disabled:o>=Math.ceil(r/l)-1,"aria-label":a("last",o),title:a("last",o),children:"rtl"===p.direction?le||(le=(0,R.jsx)(Pe.Z,{})):ce||(ce=(0,R.jsx)(Se.Z,{}))})]}))})),Ne=t(51853),Oe=t(75878),Te=t(21217);function Re(e){return(0,Te.Z)("MuiTablePagination",e)}var De,Be=(0,Oe.Z)("MuiTablePagination",["root","toolbar","spacer","selectLabel","selectRoot","select","selectIcon","input","menuItem","displayedRows","actions"]),Me=["ActionsComponent","backIconButtonProps","className","colSpan","component","count","getItemAriaLabel","labelDisplayedRows","labelRowsPerPage","nextIconButtonProps","onPageChange","onRowsPerPageChange","page","rowsPerPage","rowsPerPageOptions","SelectProps","showFirstButton","showLastButton"],Fe=(0,ve.ZP)(d.Z,{name:"MuiTablePagination",slot:"Root",overridesResolver:function(e,n){return n.root}})((function(e){var n=e.theme;return{overflow:"auto",color:(n.vars||n).palette.text.primary,fontSize:n.typography.pxToRem(14),"&:last-child":{padding:0}}})),Le=(0,ve.ZP)(we.Z,{name:"MuiTablePagination",slot:"Toolbar",overridesResolver:function(e,n){return(0,xe.Z)((0,he.Z)({},"& .".concat(Be.actions),n.actions),n.toolbar)}})((function(e){var n,t=e.theme;return n={minHeight:52,paddingRight:2},(0,he.Z)(n,"".concat(t.breakpoints.up("xs")," and (orientation: landscape)"),{minHeight:52}),(0,he.Z)(n,t.breakpoints.up("sm"),{minHeight:52,paddingRight:2}),(0,he.Z)(n,"& .".concat(Be.actions),{flexShrink:0,marginLeft:20}),n})),Ue=(0,ve.ZP)("div",{name:"MuiTablePagination",slot:"Spacer",overridesResolver:function(e,n){return n.spacer}})({flex:"1 1 100%"}),We=(0,ve.ZP)("p",{name:"MuiTablePagination",slot:"SelectLabel",overridesResolver:function(e,n){return n.selectLabel}})((function(e){var n=e.theme;return(0,xe.Z)({},n.typography.body2,{flexShrink:0})})),_e=(0,ve.ZP)(ye.Z,{name:"MuiTablePagination",slot:"Select",overridesResolver:function(e,n){var t;return(0,xe.Z)((t={},(0,he.Z)(t,"& .".concat(Be.selectIcon),n.selectIcon),(0,he.Z)(t,"& .".concat(Be.select),n.select),t),n.input,n.selectRoot)}})((0,he.Z)({color:"inherit",fontSize:"inherit",flexShrink:0,marginRight:32,marginLeft:8},"& .".concat(Be.select),{paddingLeft:8,paddingRight:24,textAlign:"right",textAlignLast:"right"})),ze=(0,ve.ZP)(pe.Z,{name:"MuiTablePagination",slot:"MenuItem",overridesResolver:function(e,n){return n.menuItem}})({}),Ge=(0,ve.ZP)("p",{name:"MuiTablePagination",slot:"DisplayedRows",overridesResolver:function(e,n){return n.displayedRows}})((function(e){var n=e.theme;return(0,xe.Z)({},n.typography.body2,{flexShrink:0})}));function Ke(e){var n=e.from,t=e.to,r=e.count;return"".concat(n,"\u2013").concat(t," of ").concat(-1!==r?r:"more than ".concat(t))}function Ve(e){return"Go to ".concat(e," page")}var Ee=r.forwardRef((function(e,n){var t,a=(0,je.Z)({props:e,name:"MuiTablePagination"}),i=a.ActionsComponent,s=void 0===i?Ie:i,o=a.backIconButtonProps,l=a.className,c=a.colSpan,u=a.component,p=void 0===u?d.Z:u,h=a.count,f=a.getItemAriaLabel,x=void 0===f?Ve:f,m=a.labelDisplayedRows,g=void 0===m?Ke:m,Z=a.labelRowsPerPage,v=void 0===Z?"Rows per page:":Z,j=a.nextIconButtonProps,b=a.onPageChange,y=a.onRowsPerPageChange,w=a.page,C=a.rowsPerPage,k=a.rowsPerPageOptions,S=void 0===k?[10,25,50,100]:k,P=a.SelectProps,A=void 0===P?{}:P,I=a.showFirstButton,N=void 0!==I&&I,O=a.showLastButton,T=void 0!==O&&O,D=(0,fe.Z)(a,Me),B=a,M=function(e){var n=e.classes;return(0,ge.Z)({root:["root"],toolbar:["toolbar"],spacer:["spacer"],selectLabel:["selectLabel"],select:["select"],input:["input"],selectIcon:["selectIcon"],menuItem:["menuItem"],displayedRows:["displayedRows"],actions:["actions"]},Re,n)}(B),F=A.native?"option":ze;p!==d.Z&&"td"!==p||(t=c||1e3);var L=(0,Ne.Z)(A.id),U=(0,Ne.Z)(A.labelId);return(0,R.jsx)(Fe,(0,xe.Z)({colSpan:t,ref:n,as:p,ownerState:B,className:(0,me.Z)(M.root,l)},D,{children:(0,R.jsxs)(Le,{className:M.toolbar,children:[(0,R.jsx)(Ue,{className:M.spacer}),S.length>1&&(0,R.jsx)(We,{className:M.selectLabel,id:U,children:v}),S.length>1&&(0,R.jsx)(_e,(0,xe.Z)({variant:"standard"},!A.variant&&{input:De||(De=(0,R.jsx)(be.ZP,{}))},{value:C,onChange:y,id:L,labelId:U},A,{classes:(0,xe.Z)({},A.classes,{root:(0,me.Z)(M.input,M.selectRoot,(A.classes||{}).root),select:(0,me.Z)(M.select,(A.classes||{}).select),icon:(0,me.Z)(M.selectIcon,(A.classes||{}).icon)}),children:S.map((function(e){return(0,r.createElement)(F,(0,xe.Z)({},!(0,Ze.Z)(F)&&{ownerState:B},{className:M.menuItem,key:e.label?e.label:e,value:e.value?e.value:e}),e.label?e.label:e)}))})),(0,R.jsx)(Ge,{className:M.displayedRows,children:g({from:0===h?0:w*C+1,to:-1===h?(w+1)*C:-1===C?h:Math.min(h,(w+1)*C),count:-1===h?-1:h,page:w})}),(0,R.jsx)(s,{className:M.actions,backIconButtonProps:o,count:h,nextIconButtonProps:j,onPageChange:b,page:w,rowsPerPage:C,showFirstButton:N,showLastButton:T,getItemAriaLabel:x})]})}))})),qe=t(91803),He=t(52898),Je=t(12065),Ye=t(27247);function Qe(e){var n=e.selected,t=e.onButtonClick;if(n.length)return(0,R.jsxs)(we.Z,{sx:{pl:{sm:2},pr:{xs:1,sm:1},display:"flex",justifyContent:"space-between",bgcolor:function(e){return(0,Je.Fq)(e.palette.primary.main,e.palette.action.activatedOpacity)}},children:[(0,R.jsxs)(m.Z,{color:"inherit",variant:"subtitle1",component:"div",sx:{minWidth:200},children:[n.length," selected"]}),(0,R.jsxs)(x.Z,{sx:{display:"flex",alignItems:"center",gap:2,flexDirection:{xs:"row",md:"row"},flexWrap:"wrap"},children:[(0,R.jsx)(O.Z,{variant:"outlined",onClick:function(){return t("sendTokens")},sx:{minWidth:"max-content"},children:"Send Tokens"}),(0,R.jsx)(O.Z,{variant:"outlined",onClick:function(){return t("addTag")},sx:{minWidth:"max-content"},children:"Add Tag"}),(0,R.jsx)(O.Z,{variant:"outlined",onClick:function(){return t("removeAllTags")},sx:{minWidth:"max-content"},children:"Remove All Tags"}),(0,R.jsx)(O.Z,{variant:"outlined",onClick:function(){return t("removeTag")},sx:{minWidth:"max-content"},children:"Remove Tag"}),(0,R.jsx)(O.Z,{variant:"outlined",onClick:function(){return t("resetPassword")},sx:{minWidth:"max-content"},children:"Reset Passwords"}),(0,R.jsx)(g.Z,{title:"Delete",children:(0,R.jsx)(Z.Z,{onClick:function(){return t("deleteUser")},children:(0,R.jsx)(Ye.Z,{})})})]})]})}var Xe=t(60753),$e=(0,t(81245).Z)((0,R.jsx)("path",{d:"M20 12l-1.41-1.41L13 16.17V4h-2v12.17l-5.58-5.59L4 12l8 8 8-8z"}),"ArrowDownward"),en=t(49853);function nn(e){return(0,Te.Z)("MuiTableSortLabel",e)}var tn=(0,Oe.Z)("MuiTableSortLabel",["root","active","icon","iconDirectionDesc","iconDirectionAsc"]),rn=["active","children","className","direction","hideSortIcon","IconComponent"],an=(0,ve.ZP)(Xe.Z,{name:"MuiTableSortLabel",slot:"Root",overridesResolver:function(e,n){var t=e.ownerState;return[n.root,t.active&&n.active]}})((function(e){var n=e.theme;return(0,he.Z)({cursor:"pointer",display:"inline-flex",justifyContent:"flex-start",flexDirection:"inherit",alignItems:"center","&:focus":{color:(n.vars||n).palette.text.secondary},"&:hover":(0,he.Z)({color:(n.vars||n).palette.text.secondary},"& .".concat(tn.icon),{opacity:.5})},"&.".concat(tn.active),(0,he.Z)({color:(n.vars||n).palette.text.primary},"& .".concat(tn.icon),{opacity:1,color:(n.vars||n).palette.text.secondary}))})),sn=(0,ve.ZP)("span",{name:"MuiTableSortLabel",slot:"Icon",overridesResolver:function(e,n){var t=e.ownerState;return[n.icon,n["iconDirection".concat((0,en.Z)(t.direction))]]}})((function(e){var n=e.theme,t=e.ownerState;return(0,xe.Z)({fontSize:18,marginRight:4,marginLeft:4,opacity:0,transition:n.transitions.create(["opacity","transform"],{duration:n.transitions.duration.shorter}),userSelect:"none"},"desc"===t.direction&&{transform:"rotate(0deg)"},"asc"===t.direction&&{transform:"rotate(180deg)"})})),on=r.forwardRef((function(e,n){var t=(0,je.Z)({props:e,name:"MuiTableSortLabel"}),r=t.active,a=void 0!==r&&r,i=t.children,s=t.className,o=t.direction,l=void 0===o?"asc":o,c=t.hideSortIcon,d=void 0!==c&&c,u=t.IconComponent,p=void 0===u?$e:u,h=(0,fe.Z)(t,rn),f=(0,xe.Z)({},t,{active:a,direction:l,hideSortIcon:d,IconComponent:p}),x=function(e){var n=e.classes,t=e.direction,r={root:["root",e.active&&"active"],icon:["icon","iconDirection".concat((0,en.Z)(t))]};return(0,ge.Z)(r,nn,n)}(f);return(0,R.jsxs)(an,(0,xe.Z)({className:(0,me.Z)(x.root,s),component:"span",disableRipple:!0,ownerState:f,ref:n},h,{children:[i,d&&!a?null:(0,R.jsx)(sn,{as:p,className:(0,me.Z)(x.icon),ownerState:f})]}))})),ln={border:0,clip:"rect(0 0 0 0)",height:"1px",margin:-1,overflow:"hidden",padding:0,position:"absolute",whiteSpace:"nowrap",width:"1px"},cn=[{id:"appId",numeric:!1,disablePadding:!0,label:"App Id"},{id:"firstName",numeric:!0,disablePadding:!1,label:"First Name"},{id:"lastName",numeric:!0,disablePadding:!1,label:"Last Name"},{id:"username",numeric:!0,disablePadding:!1,label:"User Name"},{id:"email",numeric:!0,disablePadding:!1,label:"Email"},{id:"actions",numeric:!0,disablePadding:!1,label:"Actions"}];function dn(e){var n=e.onSelectAllClick,t=e.order,r=e.orderBy,a=e.numSelected,i=e.rowCount,s=e.onRequestSort;return(0,R.jsx)(p.Z,{children:(0,R.jsxs)(h.Z,{children:[(0,R.jsx)(d.Z,{padding:"checkbox",children:(0,R.jsx)(N.Z,{color:"primary",indeterminate:a>0&&a<i,checked:i>0&&a===i,onChange:n,inputProps:{"aria-label":"select all desserts"}})}),cn.map((function(e){return(0,R.jsx)(d.Z,{align:e.numeric?"right":"left",padding:e.disablePadding?"none":"normal",sortDirection:r===e.id&&t,children:(0,R.jsxs)(on,{active:r===e.id,direction:r===e.id?t:"asc",onClick:(n=e.id,function(e){"actions"!==n&&s(e,n)}),children:[e.label,r===e.id?(0,R.jsx)(x.Z,{component:"span",sx:ln,children:"desc"===t?"sorted descending":"sorted ascending"}):null]})},e.id);var n}))]})})}function un(e){var n=e.open,t=e.onClose,a=e.type,l=e.userIds,c=(0,r.useState)(""),d=(0,o.Z)(c,2),u=d[0],p=d[1],h=(0,r.useState)(!1),f=(0,o.Z)(h,2),m=f[0],g=f[1],v=(0,r.useState)(!1),j=(0,o.Z)(v,2),b=j[0],k=j[1],P=(0,T.D)().showSnackbar,I=function(e){var n=e.target.value;p(n)},N=function(){p(""),g(!1),k(!1),t()},D=function(){var e=(0,s.Z)((0,i.Z)().mark((function e(){return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return g(!0),e.prev=1,e.next=4,(0,A.hr)(u,l);case 4:P("success","Tag added"),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(1),P("error","Something went wrong");case 10:g(!1);case 11:case"end":return e.stop()}}),e,null,[[1,7]])})));return function(){return e.apply(this,arguments)}}(),M=function(){var e=(0,s.Z)((0,i.Z)().mark((function e(){return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return g(!0),e.prev=1,e.next=4,(0,A.qd)(l,u);case 4:P("success","Tokens sent"),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(1),P("error","Something went wrong");case 10:g(!1);case 11:case"end":return e.stop()}}),e,null,[[1,7]])})));return function(){return e.apply(this,arguments)}}(),F=function(){var e=(0,s.Z)((0,i.Z)().mark((function e(n){return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return g(!0),e.prev=1,e.next=4,(0,A.r)(u,l,n);case 4:P("success","Tag removed"),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(1),P("error","Something went wrong");case 10:g(!1);case 11:case"end":return e.stop()}}),e,null,[[1,7]])})));return function(n){return e.apply(this,arguments)}}(),L=function(){var e=(0,s.Z)((0,i.Z)().mark((function e(){return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return g(!0),e.prev=1,e.next=4,(0,A.w9)(l);case 4:P("success","Passwords reseted"),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(1),P("error","Something went wrong");case 10:g(!1);case 11:case"end":return e.stop()}}),e,null,[[1,7]])})));return function(){return e.apply(this,arguments)}}(),U=function(){var e=(0,s.Z)((0,i.Z)().mark((function e(){return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return g(!0),e.prev=1,e.next=4,(0,A.Vt)(l);case 4:P("success","Users deleted"),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(1),P("error","Something went wrong");case 10:g(!1);case 11:case"end":return e.stop()}}),e,null,[[1,7]])})));return function(){return e.apply(this,arguments)}}();return(0,R.jsxs)(y.Z,{maxWidth:!1,open:n,onClose:N,children:[(0,R.jsx)(x.Z,{sx:{position:"absolute",top:0,right:0},children:(0,R.jsx)(Z.Z,{onClick:N,children:(0,R.jsx)(C.Z,{})})}),function(){switch(a){case"addTag":return(0,R.jsxs)(x.Z,{style:{width:"350px"},children:[(0,R.jsx)(w.Z,{style:{display:"flex",justifyContent:"space-between"},children:"Add Tags"}),(0,R.jsx)(x.Z,{sx:{display:"flex",justifyContent:"flex-start",pl:3,pr:3},children:(0,R.jsx)(S.Z,{error:b,fullWidth:!0,margin:"dense",label:"Tags",name:"tags",type:"tags",variant:"outlined",onChange:I,value:u})})]});case"removeTag":return(0,R.jsxs)(x.Z,{style:{width:"350px"},children:[(0,R.jsx)(w.Z,{style:{display:"flex",justifyContent:"space-between"},children:"Remove Tags"}),(0,R.jsx)(x.Z,{sx:{display:"flex",justifyContent:"flex-start",pl:3,pr:3},children:(0,R.jsx)(S.Z,{error:b,fullWidth:!0,margin:"dense",label:"Tags",name:"tags",type:"tags",variant:"outlined",onChange:I,value:u})})]});case"removeAllTags":return(0,R.jsx)(x.Z,{style:{width:"350px"},children:(0,R.jsx)(w.Z,{style:{display:"flex",justifyContent:"space-between"},children:"Are you sure you want to remove all Tags?"})});case"deleteUser":return(0,R.jsx)(x.Z,{style:{width:"350px"},children:(0,R.jsx)(w.Z,{style:{display:"flex",justifyContent:"space-between"},children:"Are you sure you want to delete user?"})});case"resetPassword":return(0,R.jsx)(x.Z,{style:{width:"350px"},children:(0,R.jsxs)(w.Z,{style:{display:"flex",justifyContent:"space-between"},children:["Are you sure you want to force a password reset for"," ",l.length," users?"]})});case"sendTokens":return(0,R.jsxs)(x.Z,{style:{width:"350px"},children:[(0,R.jsx)(w.Z,{style:{display:"flex",justifyContent:"space-between"},children:"Send Tokens"}),(0,R.jsx)(x.Z,{sx:{display:"flex",justifyContent:"flex-start",pl:3,pr:3},children:(0,R.jsx)(S.Z,{error:b,fullWidth:!0,margin:"dense",label:"Number of tokens",name:"tokens",type:"tokens",variant:"outlined",onChange:I,value:u})})]});default:return null}}(),(0,R.jsxs)(B.Z,{children:[(0,R.jsx)(O.Z,{disabled:m,onClick:N,children:"Cancel"}),(0,R.jsx)(O.Z,{onClick:function(){switch(a){case"deleteUser":return U();case"addTag":return u?D():void k(!0);case"removeTag":return u?F(!1):void k(!0);case"removeAllTags":return F(!0);case"sendTokens":return u?M():void k(!0);case"resetPassword":return L()}},autoFocus:!0,color:"error",children:"Submit"})]})]})}var pn=t(22873),hn=t(54572);function fn(e,n,t){return n[t]<e[t]?-1:n[t]>e[t]?1:0}function xn(e,n){return"desc"===e?function(e,t){return fn(e,t,n)}:function(e,t){return-fn(e,t,n)}}function mn(e,n){var t=e.map((function(e,n){return[e,n]}));return t.sort((function(e,t){var r=n(e[0],t[0]);return 0!==r?r:e[1]-t[1]})),t.map((function(e){return e[0]}))}function gn(){var e,n=(0,r.useState)("asc"),t=(0,o.Z)(n,2),a=t[0],p=t[1],g=(0,r.useState)("appId"),y=(0,o.Z)(g,2),w=y[0],k=y[1],S=(0,r.useState)([]),P=(0,o.Z)(S,2),I=P[0],O=P[1],T=(0,r.useState)(0),D=(0,o.Z)(T,2),B=D[0],M=D[1],F=(0,r.useState)({open:!1,type:"addTag"}),L=(0,o.Z)(F,2),U=L[0],W=L[1],_=r.useState(null),z=(0,o.Z)(_,2),G=z[0],K=z[1],V=Boolean(G),E=function(e){e.stopPropagation(),K(e.currentTarget)},q=function(){K(null)},H=(0,j.K)((function(e){return e.apps})),Y=(0,j.K)((function(e){var n;return null===(n=e.user.ACL)||void 0===n?void 0:n.ownerAccess})),Q=(0,r.useState)(!1),X=(0,o.Z)(Q,2),$=X[0],ee=X[1],ne=(0,r.useState)([]),te=(0,o.Z)(ne,2),re=te[0],ae=te[1],ie=(0,r.useState)(),se=(0,o.Z)(ie,2),oe=se[0],le=se[1],ce=(0,r.useState)({modalOpen:!1,userId:""}),de=(0,o.Z)(ce,2),he=de[0],fe=de[1],xe=(0,r.useState)(!1),me=(0,o.Z)(xe,2),ge=me[0],Ze=me[1],ve=(0,j.K)((function(e){return e.ACL}));(0,r.useEffect)((function(){Ze(function(e){var n;if(null===(n=e.result)||void 0===n?void 0:n.application){for(var t,r=Object.keys(null===(t=e.result)||void 0===t?void 0:t.application),a=!1,i=0;i<r.length;i++){var s,o;if(!0===(null===(s=e.result)||void 0===s||null===(o=s.application[r[i]])||void 0===o?void 0:o.admin)){a=!0;break}}return a}return!1}(ve))}),[ve]);var je=(0,r.useState)(),be=(0,o.Z)(je,2),ye=be[0],we=be[1],Ce=function(){var e=(0,s.Z)((0,i.Z)().mark((function e(n){var t,r,a,s,o=arguments;return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=o.length>1&&void 0!==o[1]?o[1]:10,r=o.length>2&&void 0!==o[2]?o[2]:0,e.prev=2,!n){e.next=10;break}return e.next=6,(0,A.ES)(n,t,r);case 6:return a=e.sent,s=a.data,we({limit:s.limit,offset:s.offset,total:s.total}),e.abrupt("return",s.items);case 10:e.next=15;break;case 12:e.prev=12,e.t0=e.catch(2),console.log(e.t0);case 15:return e.abrupt("return",[]);case 16:case"end":return e.stop()}}),e,null,[[2,12]])})));return function(n){return e.apply(this,arguments)}}();(0,r.useEffect)((function(){H.length&&H[0]&&(le(H[0]._id),Ce(H[0]._id).then((function(e){ae(e)})))}),[H]);var ke=function(){return fe({modalOpen:!1,userId:""})};console.log(I);var Se,Pe=B>0?Math.max(0,10*(1+B)-re.length):0;return re.length?(0,R.jsxs)(x.Z,{sx:{width:"100%"},children:[(0,R.jsxs)(f.Z,{sx:{width:"100%",mb:2},children:[(0,R.jsxs)(x.Z,{sx:{display:"flex",alignItems:"center"},children:[(0,R.jsx)(m.Z,{variant:"h6",style:{margin:"16px"},children:"Users"}),(Y||(null===(e=ve.result)||void 0===e?void 0:e.application.appUsers.create))&&(0,R.jsx)(Z.Z,{onClick:function(){return ee(!0)},size:"large",children:(0,R.jsx)(v.Z,{fontSize:"large"})})]}),(0,R.jsx)(u.Z,{children:(0,R.jsxs)(l.Z,{sx:{minWidth:750},"aria-labelledby":"tableTitle",size:"medium",children:[(0,R.jsx)(dn,{numSelected:I.length,order:a,orderBy:w,onSelectAllClick:function(e){if(e.target.checked){var n=re.map((function(e){return e._id}));O(n)}else O([])},onRequestSort:function(e,n){p(w===n&&"asc"===a?"desc":"asc"),k(n)},rowCount:re.length}),(0,R.jsxs)(c.Z,{children:[mn(re,xn(a,w)).slice(10*B,10*B+10).map((function(e,n){var t,r=(t=e._id.toString(),-1!==I.indexOf(t)),a="Users-table-checkbox-".concat(n);return(0,R.jsxs)(h.Z,{hover:!0,onClick:function(n){return function(e,n){var t=I.indexOf(n),r=[];-1===t?r=r.concat(I,n):0===t?r=r.concat(I.slice(1)):t===I.length-1?r=r.concat(I.slice(0,-1)):t>0&&(r=r.concat(I.slice(0,t),I.slice(t+1))),O(r)}(0,e._id.toString())},role:"checkbox","aria-checked":r,tabIndex:-1,selected:r,children:[(0,R.jsx)(d.Z,{padding:"checkbox",children:(0,R.jsx)(N.Z,{color:"primary",checked:r,inputProps:{"aria-labelledby":a}})}),(0,R.jsx)(d.Z,{component:"th",id:a,scope:"row",padding:"none",children:e.appId}),(0,R.jsx)(d.Z,{align:"right",children:e.firstName}),(0,R.jsx)(d.Z,{align:"right",children:e.lastName}),(0,R.jsx)(d.Z,{align:"right",children:e.username}),(0,R.jsx)(d.Z,{align:"right",children:e.email||"No Email"}),(0,R.jsxs)(d.Z,{align:"right",children:[(0,R.jsx)(Z.Z,{disabled:!ge,"aria-label":"more",id:"long-button","aria-controls":V?"long-menu":void 0,"aria-expanded":V?"true":void 0,"aria-haspopup":"true",onClick:E,children:(0,R.jsx)(He.Z,{})}),(0,R.jsx)(ue.Z,{id:"long-menu",MenuListProps:{"aria-labelledby":"long-button"},anchorEl:G,open:V,onClose:q,PaperProps:{style:{maxHeight:216,width:"20ch"}},children:(0,R.jsx)(pe.Z,{onClick:function(){return n=e._id,fe({modalOpen:!0,userId:n}),void q();var n},children:"Edit Acl"})})]})]},e._id)})),Pe>0&&(0,R.jsx)(h.Z,{style:{height:33*Pe},children:(0,R.jsx)(d.Z,{colSpan:6})})]})]})}),(0,R.jsx)(Ee,{component:"div",count:re.length,rowsPerPage:10,page:B,onPageChange:function(e,n){var t=0;M(n),n-1>0&&(t=(n-1)*((null===ye||void 0===ye?void 0:ye.limit)||10)),Ce(oe||null,(null===ye||void 0===ye?void 0:ye.limit)||10,t).then((function(e){return ae(e)}))},rowsPerPageOptions:[]}),(0,R.jsx)(Qe,{onButtonClick:function(e){W({open:!0,type:e})},selected:I})]}),(0,R.jsx)(un,{type:U.type,open:U.open,onClose:function(){return W((function(e){return(0,J.Z)((0,J.Z)({},e),{},{open:!1})}))},userIds:I}),(0,R.jsx)(pn.Z,{open:$,setUsers:ae,setOpen:ee}),(0,R.jsx)(qe.Z,{open:he.modalOpen,onClose:ke,"aria-labelledby":"modal-modal-title","aria-describedby":"modal-modal-description",children:(0,R.jsxs)(x.Z,{sx:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:"70vw",bgcolor:"background.paper",boxShadow:24,borderRadius:"10px",p:4},children:[(0,R.jsx)(hn.v,{updateData:function(e){var n=re,t=n.findIndex((function(e){return e._id===he.userId}));n[t]._id=e.result.userId,ae(n)},userId:he.userId,onAclError:ke}),(0,R.jsx)(Z.Z,{onClick:ke,sx:{position:"absolute",top:0,right:0,color:"black"},children:(0,R.jsx)(C.Z,{fontSize:"large"})})]})})]}):(0,R.jsxs)(f.Z,{sx:{width:"100%",mb:2},children:[(0,R.jsxs)(x.Z,{sx:{display:"flex",alignItems:"center"},children:[(0,R.jsx)(m.Z,{variant:"h6",style:{margin:"16px"},children:"Users"}),(Y||(null===(Se=ve.result)||void 0===Se?void 0:Se.application.appUsers.create))&&(0,R.jsx)(Z.Z,{onClick:function(){return ee(!0)},size:"large",children:(0,R.jsx)(v.Z,{fontSize:"large"})})]}),(0,R.jsxs)(x.Z,{style:{display:"flex",flexDirection:"column",alignItems:"center"},children:[(0,R.jsx)(b.Z,{}),(0,R.jsx)(m.Z,{style:{marginTop:"20px",marginBottom:"20px"},children:"Users not found."})]}),(0,R.jsx)(pn.Z,{open:$,setUsers:ae,setOpen:ee})]})}function Zn(){return(0,R.jsx)("div",{style:{backgroundColor:"#edf0f4",padding:"20px"},children:(0,R.jsxs)(de.Z,{maxWidth:"lg",children:[(0,R.jsx)(x.Z,{style:{marginTop:"20px"},children:(0,R.jsx)(ne,{})}),(0,R.jsx)(x.Z,{style:{marginTop:"20px"},children:(0,R.jsx)(gn,{})})]})})}},27247:function(e,n,t){var r=t(64836);n.Z=void 0;var a=r(t(45649)),i=t(80184),s=(0,a.default)((0,i.jsx)("path",{d:"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6v12zM19 4h-3.5l-1-1h-5l-1 1H5v2h14V4z"}),"Delete");n.Z=s},52898:function(e,n,t){var r=t(64836);n.Z=void 0;var a=r(t(45649)),i=t(80184),s=(0,a.default)((0,i.jsx)("path",{d:"M12 8c1.1 0 2-.9 2-2s-.9-2-2-2-2 .9-2 2 .9 2 2 2zm0 2c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm0 6c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2z"}),"MoreVert");n.Z=s}}]);
//# sourceMappingURL=966.15dd710e.chunk.js.map