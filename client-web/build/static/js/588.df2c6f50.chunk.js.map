{"version":3,"file":"static/js/588.df2c6f50.chunk.js","mappings":"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","sources":["pages/ChatRoomDetails/ChatDetailCard.tsx","pages/ChatRoomDetails/MembersList.tsx","pages/ChatRoomDetails/index.tsx","../node_modules/@mui/icons-material/Edit.js","../node_modules/@mui/icons-material/InsertPhoto.js","../node_modules/@mui/icons-material/MoreVert.js","../node_modules/@mui/icons-material/StarPurple500.js"],"sourcesContent":["import React, { useRef, useState } from \"react\";\nimport {\n  Avatar,\n  Box,\n  Button,\n  CircularProgress,\n  Container,\n  IconButton,\n  Modal,\n  TextField,\n  Typography,\n} from \"@mui/material\";\nimport { useHistory, useParams } from \"react-router\";\nimport { TActiveRoomFilter, useStoreState } from \"../../store\";\nimport xmpp from \"../../xmpp\";\nimport EditIcon from \"@mui/icons-material/Edit\";\nimport StarPurple500Icon from \"@mui/icons-material/StarPurple500\";\nimport StarRateIcon from \"@mui/icons-material/StarRate\";\nimport { ROOMS_FILTERS } from \"../../config/config\";\nimport DeleteIcon from \"@mui/icons-material/Delete\";\nimport InsertPhotoIcon from \"@mui/icons-material/InsertPhoto\";\nimport { DeleteDialog } from \"../../componets/DeleteDialog\";\nimport { useSnackbar } from \"../../context/SnackbarContext\";\nimport { uploadFile } from \"../../http\";\n\nexport default function ChatDetailCard() {\n  const { roomJID } = useParams<{ roomJID: string }>();\n\n  const [newDescription, setNewDescription] = useState(\"\");\n  const [newRoomName, setNewRoomName] = useState(\"\");\n  const [showModal, setShowModal] = useState(false);\n  const [showDeleteRoomDialog, setShowDeleteRoomDialog] = useState(false);\n  const [showRoomRenameModal, setShowRoomRenameModal] = useState(false);\n\n  const [loading, setLoading] = useState<\"chatIcon\" | false>(false);\n\n  const currentRoomData = useStoreState((store) => store.userChatRooms).find(\n    (e) => e?.jid === roomJID\n  );\n  const updateUserChatRoom = useStoreState((state) => state.updateUserChatRoom);\n  const roomRoles = useStoreState((state) => state.roomRoles);\n\n  const { showSnackbar } = useSnackbar();\n  const history = useHistory();\n  const fileRef = useRef(null);\n\n  const currentRoomRole = roomRoles.find(\n    (value) => value.roomJID === currentRoomData?.jid\n  )?.role;\n\n  const isAllowedToChangeData =\n    currentRoomRole === \"moderator\" ||\n    currentRoomRole === \"owner\" ||\n    currentRoomRole === \"admin\";\n\n  const isFavouriteOrOfficialRoom =\n  currentRoomData &&\n    (currentRoomData.group === ROOMS_FILTERS.official ||\n      currentRoomData.group === ROOMS_FILTERS.favourite);\n\n  const handleChangeDescription = (newDescription: string) => {\n    xmpp.changeRoomDescription(roomJID, newDescription);\n  };\n\n  const handleChangeRoomName = (newRoomName: string) => {\n    xmpp.changeRoomName(roomJID, newRoomName);\n  };\n\n  const changeRoomType = (status: TActiveRoomFilter) => {\n    const newRoomData = Object.assign({}, currentRoomData);\n    newRoomData.group = status;\n    updateUserChatRoom(newRoomData);\n  };\n  const goToChangeBackground = (e: React.MouseEvent<HTMLElement>) => {\n    if (isAllowedToChangeData) {\n      history.push(\"/changebg/\" + roomJID);\n    }\n  };\n  const closeRoomDeleteDialog = () => {\n    setShowDeleteRoomDialog(false);\n  };\n  const leaveTheRoom = async () => {\n    xmpp.leaveTheRoom(roomJID);\n    xmpp.unsubscribe(roomJID);\n    closeRoomDeleteDialog();\n    history.push(\"/chat/none\");\n  };\n\n  const changeRoomIcon = async (file: File) => {\n    const formData = new FormData();\n    formData.append(\"files\", file);\n    setLoading(\"chatIcon\");\n    try {\n      const result = await uploadFile(formData);\n      const roomAddress = roomJID.split(\"@\")[0];\n      xmpp.setRoomImage(\n        roomAddress,\n        result.data.results[0].location,\n        currentRoomData.room_background,\n        \"icon\"\n      );\n\n      let newRoomData = Object.assign({}, currentRoomData);\n      newRoomData.room_thumbnail = result.data.results[0].location;\n      updateUserChatRoom(newRoomData);\n      showSnackbar(\"success\", \"Success! The chat icon was set\");\n    } catch (error) {\n      console.log(error);\n      showSnackbar(\n        \"error\",\n        \"An error occurred while loading the image. \" +\n          \" ( \" +\n          error.message +\n          \" \" +\n          error.response.data +\n          \" )\"\n      );\n    }\n    setLoading(false);\n  };\n  return (\n    <Container\n      style={{\n        justifyContent: \"center\",\n        alignItems: \"center\",\n        display: \"flex\",\n        flexDirection: \"column\",\n      }}\n    >\n      <div style={{ cursor: \"pointer\" }}>\n        <Box\n          sx={{\n            width: 200,\n            height: 200,\n            margin: 5,\n            backgroundColor: \"primary.dark\",\n            justifyContent: \"center\",\n            alignItems: \"center\",\n            display: \"flex\",\n            borderRadius: \"10px\",\n            position: \"relative\",\n          }}\n        >\n          <Box\n            sx={{\n              position: \"absolute\",\n              top: 0,\n              right: 0,\n              display: \"flex\",\n              flexDirection: \"column\",\n              zIndex: 99999,\n            }}\n          >\n            <IconButton\n              sx={{ color: \"white\" }}\n              onClick={() =>\n                isFavouriteOrOfficialRoom\n                  ? changeRoomType(\"\")\n                  : changeRoomType(ROOMS_FILTERS.favourite)\n              }\n            >\n              {isFavouriteOrOfficialRoom ? (\n                <StarRateIcon />\n              ) : (\n                <StarPurple500Icon />\n              )}\n            </IconButton>\n            {isAllowedToChangeData && (\n              <IconButton\n                sx={{ color: \"white\" }}\n                onClick={() => fileRef.current?.click()}\n              >\n                <input\n                  type=\"file\"\n                  name=\"file\"\n                  id=\"file\"\n                  onChange={(event) => changeRoomIcon(event.target.files[0])}\n                  ref={fileRef}\n                  style={{ display: \"none\" }}\n                  accept=\"image/*\"\n                />\n                {loading === \"chatIcon\" ? (\n                  <CircularProgress style={{ color: \"white\" }} size={24} />\n                ) : (\n                  <InsertPhotoIcon />\n                )}\n              </IconButton>\n            )}\n            {isAllowedToChangeData && (\n              <IconButton\n                sx={{ color: \"red\" }}\n                onClick={() => setShowDeleteRoomDialog(true)}\n              >\n                <DeleteIcon />\n              </IconButton>\n            )}\n          </Box>\n          <IconButton disableRipple onClick={goToChangeBackground}>\n            {currentRoomData?.room_thumbnail &&\n            currentRoomData?.room_thumbnail !== \"none\" ? (\n              <Avatar\n                sx={{\n                  width: 200,\n                  height: 200,\n                  borderRadius: \"10px\",\n                }}\n                variant=\"square\"\n                src={currentRoomData.room_thumbnail}\n              />\n            ) : (\n              <Typography color={\"white\"} fontSize={\"120px\"}>\n                {currentRoomData?.name[0]}\n              </Typography>\n            )}\n          </IconButton>\n        </Box>\n      </div>\n      <Box flexDirection={\"row\"} display=\"flex\">\n        <Typography fontSize={\"20px\"} fontWeight={\"bold\"}>\n          {currentRoomData?.name}\n        </Typography>\n        {isAllowedToChangeData && (\n          <IconButton\n            onClick={() => setShowRoomRenameModal(true)}\n            style={{\n              marginLeft: 10,\n            }}\n          >\n            <EditIcon fontSize=\"small\" />\n          </IconButton>\n        )}\n      </Box>\n      <Container\n        style={{\n          flexDirection: \"row\",\n          justifyContent: \"center\",\n          alignItems: \"center\",\n          display: \"flex\",\n        }}\n      >\n        <Typography fontSize={\"20px\"}>\n          {currentRoomData?.description\n            ? currentRoomData.description\n            : \"No description\"}\n        </Typography>\n        {isAllowedToChangeData && (\n          <IconButton\n            onClick={() => setShowModal(true)}\n            style={{\n              marginLeft: 10,\n            }}\n          >\n            <EditIcon fontSize=\"small\" />\n          </IconButton>\n        )}\n      </Container>\n      <Modal\n        open={showModal}\n        onClose={() => setShowModal(false)}\n        aria-labelledby=\"modal-modal-title\"\n        aria-describedby=\"modal-modal-description\"\n      >\n        <Box sx={style}>\n          <Typography id=\"modal-modal-title\" variant=\"h6\" component=\"h2\">\n            Set new description\n          </Typography>\n          <TextField\n            onChange={(e) => setNewDescription(e.target.value)}\n            margin=\"normal\"\n            id=\"outlined-basic\"\n            label=\"Description\"\n            variant=\"outlined\"\n          />\n          <Button\n            onClick={() => {\n              setShowModal(false);\n              handleChangeDescription(newDescription);\n            }}\n            style={{\n              justifyContent: \"center\",\n              alignItems: \"center\",\n              display: \"flex\",\n            }}\n            variant=\"outlined\"\n          >\n            <Typography id=\"modal-modal-description\">Submit</Typography>\n          </Button>\n        </Box>\n      </Modal>\n      <Modal\n        open={showRoomRenameModal}\n        onClose={() => setShowRoomRenameModal(false)}\n        aria-labelledby=\"modal-modal-title\"\n        aria-describedby=\"modal-modal-description\"\n      >\n        <Box sx={style}>\n          <Typography id=\"modal-modal-title\" variant=\"h6\" component=\"h2\">\n            Set new room name\n          </Typography>\n          <TextField\n            onChange={(e) => setNewRoomName(e.target.value)}\n            margin=\"normal\"\n            id=\"outlined-basic\"\n            label=\"Room Name\"\n            variant=\"outlined\"\n          />\n          <Button\n            onClick={() => {\n              setShowRoomRenameModal(false);\n              handleChangeRoomName(newRoomName);\n            }}\n            style={{\n              justifyContent: \"center\",\n              alignItems: \"center\",\n              display: \"flex\",\n            }}\n            variant=\"outlined\"\n          >\n            <Typography id=\"modal-modal-description\">Submit</Typography>\n          </Button>\n        </Box>\n      </Modal>\n      <DeleteDialog\n        open={showDeleteRoomDialog}\n        title={\"Delete\"}\n        description={\"Do you want to delete this room?\"}\n        onDeletePress={leaveTheRoom}\n        onClose={closeRoomDeleteDialog}\n      />\n    </Container>\n  );\n}\n\nconst style = {\n  position: \"absolute\" as \"absolute\",\n  top: \"50%\",\n  left: \"50%\",\n  transform: \"translate(-50%, -50%)\",\n  width: 400,\n  bgcolor: \"background.paper\",\n  border: \"2px solid #000\",\n  boxShadow: 24,\n  p: 4,\n  justifyContent: \"center\",\n  flex: \"display\",\n};\n","import {\n  Avatar,\n  Box,\n  Button,\n  IconButton,\n  List,\n  ListItem,\n  Menu,\n  MenuItem,\n  Typography,\n} from \"@mui/material\";\nimport React, { useEffect, useState } from \"react\";\nimport { useHistory, useParams } from \"react-router\";\nimport { TMemberInfo, TUserChatRooms, useStoreState } from \"../../store\";\nimport MoreVertIcon from \"@mui/icons-material/MoreVert\";\nimport xmpp, { usernameToWallet, walletToUsername } from \"../../xmpp\";\n\nexport default function MembersList() {\n  const { roomJID }: any = useParams();\n  const userChatRooms = useStoreState((store) => store.userChatRooms);\n  const membersList = useStoreState((store) =>\n    store.roomMemberInfo.filter((item) => item.name !== \"none\")\n  );\n  const user = useStoreState((store) => store.user);\n  const currentRoomData = userChatRooms.find((e) => e?.jid === roomJID);\n  const [showMenu, setShowMenu] = useState<boolean>(false);\n  const [selectedUser, setSelectedUser] = useState<TMemberInfo>();\n  const [anchorEl, setAnchorEl] = useState<null | HTMLElement>(null);\n  const roomRoles = useStoreState((state) => state.roomRoles);\n  const history = useHistory();\n\n  const currentRoomRole = roomRoles.find(\n    (value) => value.roomJID === currentRoomData?.jid\n  )?.role;\n\n\n \n  const handleMenuClose = (event: React.MouseEvent<HTMLElement>) => {\n    event.stopPropagation();\n    setAnchorEl(null);\n    setShowMenu(false);\n  };\n\n  const handleOnMemberPress = (member: TMemberInfo) => {\n    if (member.jid.includes(walletToUsername(user.walletAddress))) {\n      history.push(\"/profile/\" + user.walletAddress);\n    } else {\n      history.push(\"/profile/\" + usernameToWallet(member.jid.split(\"@\")[0]));\n    }\n  };\n  const handleMenuClick = (\n    event: React.MouseEvent<HTMLElement>,\n    member: TMemberInfo\n  ) => {\n    event.stopPropagation();\n    setSelectedUser(member);\n    setAnchorEl(event.currentTarget);\n    setShowMenu(true);\n  };\n  const banUser = (\n    member: TMemberInfo,\n    event: React.MouseEvent<HTMLElement>\n  ) => {\n    if (member.ban_status === \"clear\") {\n      xmpp.banUserStanza(member.jid, currentRoomData.jid);\n    } else {\n      xmpp.unbanUserStanza(member.jid, currentRoomData.jid);\n    }\n\n    xmpp.getRoomMemberInfo(currentRoomData.jid);\n    handleMenuClose(event);\n  };\n\n  return (\n    <Box>\n      <Typography variant=\"h5\">Members ({membersList.length})</Typography>\n      <List sx={{ width: \"100%\", bgcolor: \"background.paper\" }}>\n        {membersList.map((member) => {\n          return (\n            <ListItem\n              dense\n              onClick={() => handleOnMemberPress(member)}\n              style={{ flexDirection: \"row\", alignItems: \"center\" }}\n              key={member.jid}\n            >\n              <Box\n                alignItems=\"center\"\n                justifyContent=\"center\"\n                style={{\n                  background: \"#003E9C\",\n                  width: \"40px\",\n                  height: \"40px\",\n                  margin: 5,\n                  display: \"flex\",\n                }}\n              >\n                {member.profile !== \"none\" ? (\n                  <Avatar\n                    style={{\n                      width: \"40px\",\n                      height: \"40px\",\n                    }}\n                    variant=\"square\"\n                    src={member.profile}\n                  />\n                ) : (\n                  <Typography style={{ color: \"white\" }}>\n                    {member.name ? member.name[0] : null}\n                  </Typography>\n                )}\n              </Box>\n              <Typography>\n                {member.jid.includes(walletToUsername(user.walletAddress))\n                  ? \"You\"\n                  : member.name}\n              </Typography>\n              {!member.jid.includes(walletToUsername(user.walletAddress)) &&\n                (currentRoomRole === \"moderator\" ||\n                  currentRoomRole === \"owner\") && (\n                  <IconButton\n                    aria-label=\"more\"\n                    id=\"long-button\"\n                    aria-haspopup=\"true\"\n                    onClick={(e) => handleMenuClick(e, member)}\n                  >\n                    <MoreVertIcon />\n                  </IconButton>\n                )}\n              {member.role === \"owner\" && (\n                <Box\n                  style={{\n                    border: \"1px solid\",\n                    borderWidth: 1,\n                    borderRadius: 5,\n                    width: \"70px\",\n                    alignItems: \"center\",\n                    display: \"flex\",\n                    justifyContent: \"center\",\n                    marginLeft: 10,\n                  }}\n                >\n                  <Typography>{member.role}</Typography>\n                </Box>\n              )}\n              {member.ban_status !== \"clear\" ? (\n                <Box\n                  style={{\n                    border: \"1px solid\",\n                    borderWidth: 1,\n                    borderRadius: 5,\n                    width: \"70px\",\n                    alignItems: \"center\",\n                    display: \"flex\",\n                    justifyContent: \"center\",\n                    marginLeft: 10,\n                  }}\n                >\n                  <Typography>banned</Typography>\n                </Box>\n              ) : null}\n              <Menu\n                id=\"long-menu\"\n                MenuListProps={{\n                  \"aria-labelledby\": \"long-button\",\n                }}\n                anchorEl={anchorEl}\n                open={showMenu}\n                onClose={handleMenuClose}\n                PaperProps={{\n                  style: {\n                    maxHeight: 48 * 4.5,\n                    width: \"20ch\",\n                  },\n                }}\n              >\n                <MenuItem onClick={(event) => banUser(member, event)}>\n                  {member?.ban_status === \"clear\" ? \"Ban\" : \"Unban\"}\n                </MenuItem>\n              </Menu>\n            </ListItem>\n          );\n        })}\n      </List>\n    </Box>\n  );\n}\n","import React, { useEffect } from \"react\";\nimport { Container } from \"@mui/material\";\nimport ChatDetailCard from \"./ChatDetailCard\";\nimport MembersList from \"./MembersList\";\nimport xmpp from \"../../xmpp\";\nimport { useParams } from \"react-router\";\n\nexport default function ChatRoomDetails(){\n    const {roomJID}:any = useParams();\n    useEffect(()=>{\n        xmpp.getRoomMemberInfo(roomJID)\n        xmpp.getRoomInfo(roomJID);\n    },[])\n    return(\n        <Container maxWidth=\"xl\">\n            <ChatDetailCard/>\n            <MembersList />\n        </Container>\n    )\n}","\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _createSvgIcon = _interopRequireDefault(require(\"./utils/createSvgIcon\"));\n\nvar _jsxRuntime = require(\"react/jsx-runtime\");\n\nvar _default = (0, _createSvgIcon.default)( /*#__PURE__*/(0, _jsxRuntime.jsx)(\"path\", {\n  d: \"M3 17.25V21h3.75L17.81 9.94l-3.75-3.75L3 17.25zM20.71 7.04c.39-.39.39-1.02 0-1.41l-2.34-2.34a.9959.9959 0 0 0-1.41 0l-1.83 1.83 3.75 3.75 1.83-1.83z\"\n}), 'Edit');\n\nexports.default = _default;","\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _createSvgIcon = _interopRequireDefault(require(\"./utils/createSvgIcon\"));\n\nvar _jsxRuntime = require(\"react/jsx-runtime\");\n\nvar _default = (0, _createSvgIcon.default)( /*#__PURE__*/(0, _jsxRuntime.jsx)(\"path\", {\n  d: \"M21 19V5c0-1.1-.9-2-2-2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2zM8.5 13.5l2.5 3.01L14.5 12l4.5 6H5l3.5-4.5z\"\n}), 'InsertPhoto');\n\nexports.default = _default;","\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _createSvgIcon = _interopRequireDefault(require(\"./utils/createSvgIcon\"));\n\nvar _jsxRuntime = require(\"react/jsx-runtime\");\n\nvar _default = (0, _createSvgIcon.default)( /*#__PURE__*/(0, _jsxRuntime.jsx)(\"path\", {\n  d: \"M12 8c1.1 0 2-.9 2-2s-.9-2-2-2-2 .9-2 2 .9 2 2 2zm0 2c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm0 6c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2z\"\n}), 'MoreVert');\n\nexports.default = _default;","\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _createSvgIcon = _interopRequireDefault(require(\"./utils/createSvgIcon\"));\n\nvar _jsxRuntime = require(\"react/jsx-runtime\");\n\nvar _default = (0, _createSvgIcon.default)( /*#__PURE__*/(0, _jsxRuntime.jsx)(\"path\", {\n  d: \"m12 8.89.94 3.11h2.82l-2.27 1.62.93 3.01L12 14.79l-2.42 1.84.93-3.01L8.24 12h2.82L12 8.89M12 2l-2.42 8H2l6.17 4.41L5.83 22 12 17.31 18.18 22l-2.35-7.59L22 10h-7.58L12 2z\"\n}), 'StarPurple500');\n\nexports.default = _default;"],"names":["ChatDetailCard","roomJID","useParams","useState","newDescription","setNewDescription","newRoomName","setNewRoomName","showModal","setShowModal","showDeleteRoomDialog","setShowDeleteRoomDialog","showRoomRenameModal","setShowRoomRenameModal","loading","setLoading","currentRoomData","useStoreState","store","userChatRooms","find","e","jid","updateUserChatRoom","state","roomRoles","showSnackbar","useSnackbar","history","useHistory","fileRef","useRef","currentRoomRole","value","role","isAllowedToChangeData","isFavouriteOrOfficialRoom","group","ROOMS_FILTERS","changeRoomType","status","newRoomData","Object","assign","closeRoomDeleteDialog","leaveTheRoom","xmpp","push","changeRoomIcon","file","formData","FormData","append","uploadFile","result","roomAddress","split","data","results","location","room_background","room_thumbnail","console","log","message","response","Container","style","justifyContent","alignItems","display","flexDirection","cursor","Box","sx","width","height","margin","backgroundColor","borderRadius","position","top","right","zIndex","IconButton","color","onClick","StarRate","StarPurple500","current","click","type","name","id","onChange","event","target","files","ref","accept","CircularProgress","size","InsertPhoto","Delete","disableRipple","Avatar","variant","src","Typography","fontSize","fontWeight","marginLeft","Edit","description","Modal","open","onClose","component","TextField","label","Button","handleChangeDescription","handleChangeRoomName","DeleteDialog","title","onDeletePress","left","transform","bgcolor","border","boxShadow","p","flex","MembersList","membersList","roomMemberInfo","filter","item","user","showMenu","setShowMenu","setSelectedUser","anchorEl","setAnchorEl","handleMenuClose","stopPropagation","length","List","map","member","ListItem","dense","includes","walletToUsername","walletAddress","usernameToWallet","handleOnMemberPress","background","profile","currentTarget","handleMenuClick","MoreVert","borderWidth","ban_status","Menu","MenuListProps","PaperProps","maxHeight","MenuItem","banUser","ChatRoomDetails","useEffect","maxWidth","_interopRequireDefault","require","exports","_createSvgIcon","_jsxRuntime","_default","default","jsx","d"],"sourceRoot":""}